/*! For license information please see main.b23efe16.js.LICENSE.txt */
(()=>{var __webpack_modules__={6960:(t,e,r)=>{"use strict";const{IOBuffer:n}=r(9643),i=r(4012),o=[];for(let a=0;a<=8;a++)o.push(255<<a);t.exports=class extends n{constructor(t){if(1!==t.bitDepth)throw new Error("Only bitDepth of 1 is supported");if(!t.height||!t.width)throw new Error("ImageData width and height are required");super(t.data),this.width=t.width,this.height=t.height,this.bitDepth=t.bitDepth,this.channels=t.channels,this.components=t.components}encode(){this.encoded=new n,this.encoded.skip(14),this.writeBitmapV5Header(),this.writeColorTable();const t=this.encoded.offset;return this.writePixelArray(),this.encoded.rewind(),this.writeBitmapFileHeader(t),this.encoded.toArray()}writePixelArray(){let t=this.encoded;const e=4*Math.floor((this.bitDepth*this.width+31)/32),r=Math.ceil(this.bitDepth*this.width/8),n=e-r,i=this.bitDepth*this.width%8,a=0===i?0:8-i,s=e*this.height;let l,h,u=0,c=0,f=8;t.mark(),h=this.readUint8();for(let d=this.height-1;d>=0;d--){const s=0===d;t.reset(),t.skip(d*e);for(let e=0;e<r;e++){const d=e===r-1;c<=a&&d?(t.writeByte(h<<c),0!==a&&a!==c||s||(l=h,h=this.readByte())):0===c?(l=h,h=this.readUint8(),t.writeByte(l)):(l=h,h=this.readUint8(),t.writeByte(l<<c&o[c]|h>>f)),d&&(u+=i||0,t.skip(n),c=u%8,f=8-c)}}e>r&&(t.reset(),t.skip(s-1),t.writeUint8(0))}writeColorTable(){this.encoded.writeUint32(0).writeUint32(16777215)}writeBitmapFileHeader(t){this.encoded.writeChars("BM").writeInt32(this.encoded.lastWrittenByte).writeUint16(0).writeUint16(0).writeUint32(t)}writeBitmapV5Header(){const t=4*Math.floor((this.bitDepth*this.width+31)/32)*this.height;this.encoded.writeUint32(124).writeInt32(this.width).writeInt32(this.height).writeUint16(1).writeUint16(this.bitDepth).writeUint32(i.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(t).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(i.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(i.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}}},4012:t=>{"use strict";t.exports={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}}},9461:(t,e,r)=>{"use strict";const n=r(6960);e.l=function(t){return new n(t).encode()}},1979:t=>{"use strict";const e=[];t.exports=class{constructor(t,e){e=e||{},void 0===t&&(t=8192),"number"===typeof t&&(t=new ArrayBuffer(t));let r=t.byteLength;const n=e.offset?e.offset>>>0:0;t.buffer&&(r=t.byteLength-n,t=t.byteLength!==t.buffer.byteLength?t.buffer.slice(t.byteOffset+n,t.byteOffset+t.byteLength):n?t.buffer.slice(n):t.buffer),this.buffer=t,this.length=r,this.byteLength=r,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=r||8192,this._mark=0}available(t){return void 0===t&&(t=1),this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip(t){void 0===t&&(t=1),this.offset+=t}seek(t){this.offset=t}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable(t){if(void 0===t&&(t=1),!this.available(t)){const t=this._increment+this._increment;this._increment=t;const e=this.length+t,r=new Uint8Array(e);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=e,this._data=new DataView(this.buffer)}}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t){void 0===t&&(t=1);for(var e=new Uint8Array(t),r=0;r<t;r++)e[r]=this.readByte();return e}readInt16(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t){void 0===t&&(t=1),e.length=t;for(var r=0;r<t;r++)e[r]=this.readChar();return e.join("")}writeBoolean(t){this.writeUint8(t?255:0)}writeInt8(t){this.ensureAvailable(1),this._data.setInt8(this.offset++,t)}writeUint8(t){this.ensureAvailable(1),this._data.setUint8(this.offset++,t)}writeByte(t){this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e])}writeInt16(t){this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2}writeUint16(t){this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2}writeInt32(t){this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4}writeUint32(t){this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4}writeFloat32(t){this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4}writeFloat64(t){this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8}writeChar(t){this.writeUint8(t.charCodeAt(0))}writeChars(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}}},251:(t,e,r)=>{"use strict";const n=r(9856);t.exports=function(t,e){return new n(t,e).decode(e)}},5240:(t,e,r)=>{"use strict";const n={standard:r(3042),exif:r(1325),gps:r(999)};t.exports=class{constructor(t){if(!t)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=t,this._map=null}get(t){if("number"===typeof t)return this.fields.get(t);if("string"===typeof t)return this.fields.get(n[this.kind].tagsByName[t]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const e=n[this.kind].tagsById;for(var t of this.fields.keys())e[t]&&(this._map[e[t]]=this.fields.get(t))}return this._map}}},2423:(t,e)=>{"use strict";var r=new Map([[1,[1,n]],[2,[1,function(t,e){for(var r=[],n="",i=0;i<e;i++){var o=String.fromCharCode(t.readUint8());"\0"===o?(r.push(n),n=""):n+=o}return 1===r.length?r[0]:r}]],[3,[2,function(t,e){if(1===e)return t.readUint16();for(var r=new Uint16Array(e),n=0;n<e;n++)r[n]=t.readUint16();return r}]],[4,[4,function(t,e){if(1===e)return t.readUint32();for(var r=new Uint32Array(e),n=0;n<e;n++)r[n]=t.readUint32();return r}]],[5,[8,function(t,e){if(1===e)return t.readUint32()/t.readUint32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readUint32()/t.readUint32();return r}]],[6,[1,function(t,e){if(1===e)return t.readInt8();for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r}]],[7,[1,n]],[8,[2,function(t,e){if(1===e)return t.readInt16();for(var r=new Int16Array(e),n=0;n<e;n++)r[n]=t.readInt16();return r}]],[9,[4,function(t,e){if(1===e)return t.readInt32();for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=t.readInt32();return r}]],[10,[8,function(t,e){if(1===e)return t.readInt32()/t.readInt32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readInt32()/t.readInt32();return r}]],[11,[4,function(t,e){if(1===e)return t.readFloat32();for(var r=new Float32Array(e),n=0;n<e;n++)r[n]=t.readFloat32();return r}]],[12,[8,function(t,e){if(1===e)return t.readFloat64();for(var r=new Float64Array(e),n=0;n<e;n++)r[n]=t.readFloat64();return r}]]]);function n(t,e){if(1===e)return t.readUint8();for(var r=new Uint8Array(e),n=0;n<e;n++)r[n]=t.readUint8();return r}e.getByteLength=function(t,e){return r.get(t)[0]*e},e.readData=function(t,e,n){return r.get(e)[1](t,n)}},5801:(t,e,r)=>{"use strict";e.decode=r(251)},1325:t=>{"use strict";const e={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},r={};for(var n in e)r[e[n]]=n;t.exports={tagsById:e,tagsByName:r}},999:t=>{"use strict";const e={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},r={};for(var n in e)r[e[n]]=n;t.exports={tagsById:e,tagsByName:r}},3042:t=>{"use strict";const e={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},r={};for(var n in e)r[e[n]]=n;t.exports={tagsById:e,tagsByName:r}},9856:(t,e,r)=>{"use strict";const n=r(1979),i=r(5240),o=r(1773),a=r(2423),s={ignoreImageData:!1,onlyFirst:!1};function l(t,e,r,n){for(var i=0;i<n;i++)t[r++]=e.getUint8(i);return r}function h(t,e,r,n,i){for(var o=0;o<2*n;o+=2)t[r++]=e.getUint16(o,i);return r}function u(t,e,r,n,i){for(var o=0;o<4*n;o+=4)t[r++]=e.getFloat32(o,i);return r}function c(t,e){throw new Error("Unsupported "+t+": "+e)}t.exports=class extends n{constructor(t,e){super(t,e),this._nextIFD=0}decode(t){t=Object.assign({},s,t);const e=[];for(this.decodeHeader();this._nextIFD;)if(e.push(this.decodeIFD(t)),t.onlyFirst)return e[0];return e}decodeHeader(){let t=this.readUint16();if(18761===t)this.setLittleEndian();else{if(19789!==t)throw new Error("invalid byte order: 0x"+t.toString(16));this.setBigEndian()}if(t=this.readUint16(),42!==t)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(t){var e;this.seek(this._nextIFD),e=t.kind?new i(t.kind):new o;const r=this.readUint16();for(var n=0;n<r;n++)this.decodeIFDEntry(e);return t.ignoreImageData||this.decodeImageData(e),this._nextIFD=this.readUint32(),e}decodeIFDEntry(t){const e=this.offset,r=this.readUint16(),n=this.readUint16(),i=this.readUint32();if(n<1||n>12)return void this.skip(4);a.getByteLength(n,i)>4&&this.seek(this.readUint32());const o=a.readData(this,n,i);if(t.fields.set(r,o),34665===r||34853===r){let e,n=this.offset;34665===r?e="exif":34853===r&&(e="gps"),this._nextIFD=o,t[e]=this.decodeIFD({kind:e,ignoreImageData:!0}),this.offset=n}this.seek(e),this.skip(12)}decodeImageData(t){const e=t.orientation;switch(e&&1!==e&&c("orientation",e),t.type){case 1:case 2:this.readStripData(t);break;default:c("image type",t.type)}}readStripData(t){const e=t.width,r=t.height,n=function(t){if(t.length){const r=t;t=r[0];for(var e=0;e<r.length;e++)r[e]!==t&&c("bit depth",r)}return t}(t.bitsPerSample),i=t.sampleFormat;let o=e*r;const a=function(t,e,r,n){return 8===r?new Uint8Array(t*e):16===r?new Uint16Array(t*e):32===r&&3===n?new Float32Array(t*e):c("bit depth / sample format",r+" / "+n)}(o,1,n,i),s=t.compression,f=t.rowsPerStrip*e,d=t.stripOffsets,p=t.stripByteCounts;for(var m=0,g=0;g<d.length;g++){var w=this.getStripData(s,d[g],p[g]),b=o>f?f:o;o-=b,8===n?m=l(a,w,m,b):16===n?m=h(a,w,m,b,this.isLittleEndian()):32===n&&3===i?m=u(a,w,m,b,this.isLittleEndian()):c("bitDepth",n)}t.data=a}getStripData(t,e,r){switch(t){case 1:return new DataView(this.buffer,e,r);case 2:case 32773:return c("Compression",t);default:throw new Error("invalid compression: "+t)}}}},1773:(t,e,r)=>{"use strict";const n=r(5240),i=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;function o(t){return"number"===typeof t?[t]:t}t.exports=class extends n{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var t=new Date,e=i.exec(this.dateTime);return t.setFullYear(e[1],e[2]-1,e[3]),t.setHours(e[4],e[5],e[6]),t}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return o(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return o(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}}},862:(t,e,r)=>{"use strict";const n=r(1979),i=r(5801);t.exports=function(t){const e=new n(t),r={};if(e.setBigEndian(),65496!==e.readUint16())throw new Error("SOI marker not found. Not a valid JPEG file");if(65505===e.readUint16()){e.readUint16();const t=e.readBytes(6);if(69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]&&0===t[4]&&0===t[5]){const t=i.decode(e,{onlyFirst:!0,ignoreImageData:!0,offset:e.offset});r.exif=t}}return r}},3378:(t,e,r)=>{"use strict";e.decode=r(862)},7872:t=>{!function(){function e(t,e,r){this.next=r,r&&(r.prev=this),this.prev=e,e&&(e.next=this),this.data=t}function r(){if(!(this instanceof r))return new r;this._head=null,this._tail=null,this.length=0}r.prototype={push:function(t){this._tail=new e(t,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(0!==this.length){var t=this._tail;return this._tail=t.prev,t.prev&&(t.prev=this._tail.next=null),this.length--,1===this.length?this._head=this._tail:0===this.length&&(this._head=this._tail=null),t.data}},unshift:function(t){this._head=new e(t,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(0!==this.length){var t=this._head;return this._head=t.next,t.next&&(t.next=this._head.prev=null),this.length--,1===this.length?this._tail=this._head:0===this.length&&(this._head=this._tail=null),t.data}},item:function(t){t<0&&(t=this.length+t);for(var e=this._head;t-- >0&&e;)e=e.next;return e?e.data:void 0},slice:function(t,e){if(t||(t=0),e||(e=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e===t)return[];if(e<t)throw new Error("invalid offset: "+t+","+e+" (length="+this.length+")");for(var r=e-t,n=new Array(r),i=0,o=this._head;t-- >0&&o;)o=o.next;for(;i<r&&o;)n[i++]=o.data,o=o.next;return n},drop:function(){r.call(this)},forEach:function(t,e){for(var r=this._head,n=0,i=this.length;n<i&&r;)t.call(e||this,r.data,n,this),r=r.next,n++},map:function(t,e){var n=new r;return this.forEach((function(r,i,o){n.push(t.call(e||o,r,i,o))})),n},filter:function(t,e){var n=new r;return this.forEach((function(r,i,o){t.call(e||o,r,i,o)&&n.push(r)})),n},reduce:function(t,e,r){var n=0,i=this._head,o=this.length;for(e||(n=1,e=i&&i.data,i=i&&i.next);n<o&&i;)e=t.call(r||this,e,i.data,this),n++,i=i.next;return e}},t.exports=r}()},6849:t=>{"use strict";function e(t){if(this.size=0|t,this.size<=1||0!==(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var e=new Array(2*this.size),r=0;r<e.length;r+=2){const t=Math.PI*r/this.size;e[r]=Math.cos(t),e[r+1]=-Math.sin(t)}this.table=e;for(var n=0,i=1;this.size>i;i<<=1)n++;this._width=n%2===0?n-1:n,this._bitrev=new Array(1<<this._width);for(var o=0;o<this._bitrev.length;o++){this._bitrev[o]=0;for(var a=0;a<this._width;a+=2){var s=this._width-a-2;this._bitrev[o]|=(o>>>a&3)<<s}}this._out=null,this._data=null,this._inv=0}t.exports=e,e.prototype.fromComplexArray=function(t,e){for(var r=e||new Array(t.length>>>1),n=0;n<t.length;n+=2)r[n>>>1]=t[n];return r},e.prototype.createComplexArray=function(){const t=new Array(this._csize);for(var e=0;e<t.length;e++)t[e]=0;return t},e.prototype.toComplexArray=function(t,e){for(var r=e||this.createComplexArray(),n=0;n<r.length;n+=2)r[n]=t[n>>>1],r[n+1]=0;return r},e.prototype.completeSpectrum=function(t){for(var e=this._csize,r=e>>>1,n=2;n<r;n+=2)t[e-n]=t[n],t[e-n+1]=-t[n+1]},e.prototype.transform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._transform4(),this._out=null,this._data=null},e.prototype.realTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._realTransform4(),this._out=null,this._data=null},e.prototype.inverseTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=1,this._transform4();for(var r=0;r<t.length;r++)t[r]/=this.size;this._out=null,this._data=null},e.prototype._transform4=function(){var t,e,r=this._out,n=this._csize,i=1<<this._width,o=n/i<<1,a=this._bitrev;if(4===o)for(t=0,e=0;t<n;t+=o,e++){const r=a[e];this._singleTransform2(t,r,i)}else for(t=0,e=0;t<n;t+=o,e++){const r=a[e];this._singleTransform4(t,r,i)}var s=this._inv?-1:1,l=this.table;for(i>>=2;i>=2;i>>=2){var h=(o=n/i<<1)>>>2;for(t=0;t<n;t+=o)for(var u=t+h,c=t,f=0;c<u;c+=2,f+=i){const t=c,e=t+h,n=e+h,i=n+h,o=r[t],a=r[t+1],u=r[e],d=r[e+1],p=r[n],m=r[n+1],g=r[i],w=r[i+1],b=o,y=a,v=l[f],x=s*l[f+1],_=u*v-d*x,k=u*x+d*v,M=l[2*f],S=s*l[2*f+1],E=p*M-m*S,A=p*S+m*M,C=l[3*f],P=s*l[3*f+1],D=g*C-w*P,I=g*P+w*C,T=b+E,R=y+A,N=b-E,L=y-A,z=_+D,B=k+I,F=s*(_-D),U=s*(k-I),O=T+z,V=R+B,j=T-z,Y=R-B,X=N+U,$=L-F,q=N-U,H=L+F;r[t]=O,r[t+1]=V,r[e]=X,r[e+1]=$,r[n]=j,r[n+1]=Y,r[i]=q,r[i+1]=H}}},e.prototype._singleTransform2=function(t,e,r){const n=this._out,i=this._data,o=i[e],a=i[e+1],s=i[e+r],l=i[e+r+1],h=o+s,u=a+l,c=o-s,f=a-l;n[t]=h,n[t+1]=u,n[t+2]=c,n[t+3]=f},e.prototype._singleTransform4=function(t,e,r){const n=this._out,i=this._data,o=this._inv?-1:1,a=2*r,s=3*r,l=i[e],h=i[e+1],u=i[e+r],c=i[e+r+1],f=i[e+a],d=i[e+a+1],p=i[e+s],m=i[e+s+1],g=l+f,w=h+d,b=l-f,y=h-d,v=u+p,x=c+m,_=o*(u-p),k=o*(c-m),M=g+v,S=w+x,E=b+k,A=y-_,C=g-v,P=w-x,D=b-k,I=y+_;n[t]=M,n[t+1]=S,n[t+2]=E,n[t+3]=A,n[t+4]=C,n[t+5]=P,n[t+6]=D,n[t+7]=I},e.prototype._realTransform4=function(){var t,e,r=this._out,n=this._csize,i=1<<this._width,o=n/i<<1,a=this._bitrev;if(4===o)for(t=0,e=0;t<n;t+=o,e++){const r=a[e];this._singleRealTransform2(t,r>>>1,i>>>1)}else for(t=0,e=0;t<n;t+=o,e++){const r=a[e];this._singleRealTransform4(t,r>>>1,i>>>1)}var s=this._inv?-1:1,l=this.table;for(i>>=2;i>=2;i>>=2){var h=(o=n/i<<1)>>>1,u=h>>>1,c=u>>>1;for(t=0;t<n;t+=o)for(var f=0,d=0;f<=c;f+=2,d+=i){var p=t+f,m=p+u,g=m+u,w=g+u,b=r[p],y=r[p+1],v=r[m],x=r[m+1],_=r[g],k=r[g+1],M=r[w],S=r[w+1],E=b,A=y,C=l[d],P=s*l[d+1],D=v*C-x*P,I=v*P+x*C,T=l[2*d],R=s*l[2*d+1],N=_*T-k*R,L=_*R+k*T,z=l[3*d],B=s*l[3*d+1],F=M*z-S*B,U=M*B+S*z,O=E+N,V=A+L,j=E-N,Y=A-L,X=D+F,$=I+U,q=s*(D-F),H=s*(I-U),G=O+X,W=V+$,K=j+H,Z=Y-q;if(r[p]=G,r[p+1]=W,r[m]=K,r[m+1]=Z,0!==f){if(f!==c){var Q=j+-s*H,J=-Y+-s*q,tt=O+-s*X,et=-V- -s*$,rt=t+u-f,nt=t+h-f;r[rt]=Q,r[rt+1]=J,r[nt]=tt,r[nt+1]=et}}else{var it=O-X,ot=V-$;r[g]=it,r[g+1]=ot}}}},e.prototype._singleRealTransform2=function(t,e,r){const n=this._out,i=this._data,o=i[e],a=i[e+r],s=o+a,l=o-a;n[t]=s,n[t+1]=0,n[t+2]=l,n[t+3]=0},e.prototype._singleRealTransform4=function(t,e,r){const n=this._out,i=this._data,o=this._inv?-1:1,a=2*r,s=3*r,l=i[e],h=i[e+r],u=i[e+a],c=i[e+s],f=l+u,d=l-u,p=h+c,m=o*(h-c),g=f+p,w=d,b=-m,y=f-p,v=d,x=m;n[t]=g,n[t+1]=0,n[t+2]=w,n[t+3]=b,n[t+4]=y,n[t+5]=0,n[t+6]=v,n[t+7]=x}},1169:module=>{"use strict";const toBytes=t=>[...t].map((t=>t.charCodeAt(0))),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t[e],n=1,i=0;for(;++i<8;)n*=256,r+=t[e+i]*n;return r}const fileType=t=>{if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof t}\``);const e=t instanceof Uint8Array?t:new Uint8Array(t);if(!(e&&e.length>1))return null;const r=(t,r)=>{r=Object.assign({offset:0},r);for(let n=0;n<t.length;n++)if(r.mask){if(t[n]!==(r.mask[n]&e[n+r.offset]))return!1}else if(t[n]!==e[n+r.offset])return!1;return!0},n=(t,e)=>r(toBytes(t),e);if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(r([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r([80,75,3,4])){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(r(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(n("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(n("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const t=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.findIndex(((t,r,n)=>r>=e&&80===n[r]&&75===n[r+1]&&3===n[r+2]&&4===n[r+3]))};let i=0,o=!1,a=null;do{const s=i+30;if(o||(o=r(oxmlContentTypes,{offset:s})||r(oxmlRels,{offset:s})),a||(n("word/",{offset:s})?a={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:n("ppt/",{offset:s})?a={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:n("xl/",{offset:s})&&(a={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),o&&a)return a;i=t(e,s)}while(i>=0);if(a)return a}if(r([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(r([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(r([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([51,103,112,53])||r([0,0,0])&&r([102,116,121,112],{offset:4})&&(r([109,112,52,49],{offset:8})||r([109,112,52,50],{offset:8})||r([105,115,111,109],{offset:8})||r([105,115,111,50],{offset:8})||r([109,109,112,52],{offset:8})||r([77,52,86],{offset:8})||r([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(r([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(r([26,69,223,163])){const t=e.subarray(4,4100),r=t.findIndex(((t,e,r)=>66===r[e]&&130===r[e+1]));if(-1!==r){const e=r+3,n=r=>[...r].every(((r,n)=>t[e+n]===r.charCodeAt(0)));if(n("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(n("webm"))return{ext:"webm",mime:"video/webm"}}}if(r([0,0,0,20,102,116,121,112,113,116,32,32])||r([102,114,101,101],{offset:4})||r([102,116,121,112,113,116,32,32],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r([48,38,178,117,142,102,207,17,166,217])){let t=30;do{const n=readUInt64LE(e,t+16);if(r([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:t})){if(r([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:t+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(r([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:t+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}t+=n}while(t+24<=e.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let i=0;i<2&&i<e.length-16;i++){if(r([73,68,51],{offset:i})||r([255,226],{offset:i,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([255,228],{offset:i,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,248],{offset:i,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,240],{offset:i,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(r([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(r([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(r([79,103,103,83]))return r([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:r([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:r([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:r([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:r([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(r([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(r([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(r([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(r([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(r([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===e[0]||70===e[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r([37,33]))return{ext:"ps",mime:"application/postscript"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r([77,83,67,70])||r([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(r([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(r([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(r([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(r([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(r([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(r([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([102,116,121,112],{offset:4})){if(r([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(r([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(r([104,101,105,99],{offset:8})||r([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(r([104,101,118,99],{offset:8})||r([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return r([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:r([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:r([77,80,43])||r([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:r([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:r([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:r([212,195,178,161])||r([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise(((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",(()=>{const t=new stream.PassThrough,e=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{t.fileType=fileType(e)}catch(r){reject(r)}readableStream.unshift(e),stream.pipeline?resolve(stream.pipeline(readableStream,t,(()=>{}))):resolve(readableStream.pipe(t))}))}))},8265:(t,e,r)=>{var n=Object.prototype.hasOwnProperty;t.exports=e=function(t,e){return n.call(e,t)},e.version=r(7753).version},4416:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Image:()=>Sl,Kernel:()=>s,Shape:()=>ms,Stack:()=>di,Static:()=>Ll,Worker:()=>Nl,default:()=>Sl});var n={};r.r(n),r.d(n,{CMYK:()=>Sn,GREY:()=>xn,HSL:()=>kn,HSV:()=>Mn,RGB:()=>_n});var i={};r.r(i),r.d(i,{tagsById:()=>Rn,tagsByName:()=>Nn});var o={};r.r(o),r.d(o,{tagsById:()=>Ln,tagsByName:()=>zn});var a={};r.r(a),r.d(a,{tagsById:()=>Bn,tagsByName:()=>Fn});var s={};r.r(s),r.d(s,{DISCRETE_LAPLACE_4:()=>Ni,DISCRETE_LAPLACE_8:()=>Li,SCHARR_X:()=>Fi,SCHARR_Y:()=>Ui,SECOND_DERIVATIVE:()=>Oi,SECOND_DERIVATIVE_INV:()=>Vi,SOBEL_X:()=>zi,SOBEL_Y:()=>Bi,laplacianOfGaussian:()=>El});const l={getBit(t){return this.data[h(t)]&1<<u(t)?1:0},setBit(t){this.data[h(t)]|=1<<u(t)},clearBit(t){this.data[h(t)]&=~(1<<u(t))},toggleBit(t){this.data[h(t)]^=1<<u(t)},getBitXY(t,e){return t>=this.width||e>=this.height?0:this.getBit(e*this.width+t)},setBitXY(t,e){this.setBit(e*this.width+t)},clearBitXY(t,e){this.clearBit(e*this.width+t)},toggleBitXY(t,e){this.toggleBit(e*this.width+t)}};function h(t){return t>>3}function u(t){return 7-(7&t)}function c(t,e){t=t||[],"string"===typeof(e=e||{})&&(e={type:e});try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<t.length;n+=1)r.append(t[n]);return r.getBlob(e.type)}}function f(t,e,r){return"function"===typeof t.toBlob?new Promise((function(n){t.toBlob(n,e,r)})):Promise.resolve(function(t){var e=t.match(/data:([^;]+)/)[1],r=t.replace(/^[^,]+,/,"");return c([d(atob(r))],{type:e})}(t.toDataURL(e,r)))}function d(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),i=-1;++i<e;)n[i]=t.charCodeAt(i);return r}var p=r(9461),m=r(9643);function g(t){let e=t.length;for(;--e>=0;)t[e]=0}const w=256,b=286,y=30,v=15,x=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),k=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),S=new Array(576);g(S);const E=new Array(60);g(E);const A=new Array(512);g(A);const C=new Array(256);g(C);const P=new Array(29);g(P);const D=new Array(y);function I(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let T,R,N;function L(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}g(D);const z=t=>t<256?A[t]:A[256+(t>>>7)],B=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},F=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,B(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},U=(t,e,r)=>{F(t,r[2*e],r[2*e+1])},O=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},V=(t,e,r)=>{const n=new Array(16);let i,o,a=0;for(i=1;i<=v;i++)a=a+r[i-1]<<1,n[i]=a;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=O(n[e]++,e))}},j=t=>{let e;for(e=0;e<b;e++)t.dyn_ltree[2*e]=0;for(e=0;e<y;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Y=t=>{t.bi_valid>8?B(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},X=(t,e,r,n)=>{const i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},$=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&X(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!X(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},q=(t,e,r)=>{let n,i,o,a,s=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+s++],n+=(255&t.pending_buf[t.sym_buf+s++])<<8,i=t.pending_buf[t.sym_buf+s++],0===n?U(t,i,e):(o=C[i],U(t,o+w+1,e),a=x[o],0!==a&&(i-=P[o],F(t,i,a)),n--,o=z(n),U(t,o,r),a=_[o],0!==a&&(n-=D[o],F(t,n,a)))}while(s<t.sym_next);U(t,256,e)},H=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let a,s,l,h=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<o;a++)0!==r[2*a]?(t.heap[++t.heap_len]=h=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=h<2?++h:0,r[2*l]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=n[2*l+1]);for(e.max_code=h,a=t.heap_len>>1;a>=1;a--)$(t,r,a);l=o;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],$(t,r,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,r[2*l]=r[2*a]+r[2*s],t.depth[l]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,r[2*a+1]=r[2*s+1]=l,t.heap[1]=l++,$(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,u,c,f,d,p,m=0;for(f=0;f<=v;f++)t.bl_count[f]=0;for(r[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)u=t.heap[h],f=r[2*r[2*u+1]+1]+1,f>l&&(f=l,m++),r[2*u+1]=f,u>n||(t.bl_count[f]++,d=0,u>=s&&(d=a[u-s]),p=r[2*u],t.opt_len+=p*(f+d),o&&(t.static_len+=p*(i[2*u+1]+d)));if(0!==m){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(f=l;0!==f;f--)for(u=t.bl_count[f];0!==u;)c=t.heap[--h],c>n||(r[2*c+1]!==f&&(t.opt_len+=(f-r[2*c+1])*r[2*c],r[2*c+1]=f),u--)}})(t,e),V(r,h,t.bl_count)},G=(t,e,r)=>{let n,i,o=-1,a=e[1],s=0,l=7,h=4;for(0===a&&(l=138,h=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<l&&i===a||(s<h?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(l=138,h=3):i===a?(l=6,h=3):(l=7,h=4))},W=(t,e,r)=>{let n,i,o=-1,a=e[1],s=0,l=7,h=4;for(0===a&&(l=138,h=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<l&&i===a)){if(s<h)do{U(t,i,t.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(U(t,i,t.bl_tree),s--),U(t,16,t.bl_tree),F(t,s-3,2)):s<=10?(U(t,17,t.bl_tree),F(t,s-3,3)):(U(t,18,t.bl_tree),F(t,s-11,7));s=0,o=i,0===a?(l=138,h=3):i===a?(l=6,h=3):(l=7,h=4)}};let K=!1;const Z=(t,e,r,n)=>{F(t,0+(n?1:0),3),Y(t),B(t,r),B(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var Q=(t,e,r,n)=>{let i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<w;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),H(t,t.l_desc),H(t,t.d_desc),a=(t=>{let e;for(G(t,t.dyn_ltree,t.l_desc.max_code),G(t,t.dyn_dtree,t.d_desc.max_code),H(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*M[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?Z(t,e,r,n):4===t.strategy||o===i?(F(t,2+(n?1:0),3),q(t,S,E)):(F(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(F(t,e-257,5),F(t,r-1,5),F(t,n-4,4),i=0;i<n;i++)F(t,t.bl_tree[2*M[i]+1],3);W(t,t.dyn_ltree,e-1),W(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),q(t,t.dyn_ltree,t.dyn_dtree)),j(t),n&&Y(t)},J={_tr_init:t=>{K||((()=>{let t,e,r,n,i;const o=new Array(16);for(r=0,n=0;n<28;n++)for(P[n]=r,t=0;t<1<<x[n];t++)C[r++]=n;for(C[r-1]=n,i=0,n=0;n<16;n++)for(D[n]=i,t=0;t<1<<_[n];t++)A[i++]=n;for(i>>=7;n<y;n++)for(D[n]=i<<7,t=0;t<1<<_[n]-7;t++)A[256+i++]=n;for(e=0;e<=v;e++)o[e]=0;for(t=0;t<=143;)S[2*t+1]=8,t++,o[8]++;for(;t<=255;)S[2*t+1]=9,t++,o[9]++;for(;t<=279;)S[2*t+1]=7,t++,o[7]++;for(;t<=287;)S[2*t+1]=8,t++,o[8]++;for(V(S,287,o),t=0;t<y;t++)E[2*t+1]=5,E[2*t]=O(t,5);T=new I(S,x,257,b,v),R=new I(E,_,0,y,v),N=new I(new Array(0),k,0,19,7)})(),K=!0),t.l_desc=new L(t.dyn_ltree,T),t.d_desc=new L(t.dyn_dtree,R),t.bl_desc=new L(t.bl_tree,N),t.bi_buf=0,t.bi_valid=0,j(t)},_tr_stored_block:Z,_tr_flush_block:Q,_tr_tally:(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(C[r]+w+1)]++,t.dyn_dtree[2*z(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{F(t,2,3),U(t,256,S),(t=>{16===t.bi_valid?(B(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var tt=(t,e,r,n)=>{let i=65535&t,o=t>>>16&65535,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do{i=i+e[n++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16};const et=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var rt=(t,e,r,n)=>{const i=et,o=n+r;t^=-1;for(let a=n;a<o;a++)t=t>>>8^i[255&(t^e[a])];return~t},nt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},it={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ot,_tr_stored_block:at,_tr_flush_block:st,_tr_tally:lt,_tr_align:ht}=J,{Z_NO_FLUSH:ut,Z_PARTIAL_FLUSH:ct,Z_FULL_FLUSH:ft,Z_FINISH:dt,Z_BLOCK:pt,Z_OK:mt,Z_STREAM_END:gt,Z_STREAM_ERROR:wt,Z_DATA_ERROR:bt,Z_BUF_ERROR:yt,Z_DEFAULT_COMPRESSION:vt,Z_FILTERED:xt,Z_HUFFMAN_ONLY:_t,Z_RLE:kt,Z_FIXED:Mt,Z_DEFAULT_STRATEGY:St,Z_UNKNOWN:Et,Z_DEFLATED:At}=it,Ct=258,Pt=262,Dt=42,It=113,Tt=666,Rt=(t,e)=>(t.msg=nt[e],e),Nt=t=>2*t-(t>4?9:0),Lt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},zt=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do{r=t.head[--n],t.head[n]=r>=i?r-i:0}while(--e);e=i,n=e;do{r=t.prev[--n],t.prev[n]=r>=i?r-i:0}while(--e)};let Bt=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const Ft=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},Ut=(t,e)=>{st(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ft(t.strm)},Ot=(t,e)=>{t.pending_buf[t.pending++]=e},Vt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},jt=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=tt(t.adler,e,i,r):2===t.state.wrap&&(t.adler=rt(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},Yt=(t,e)=>{let r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match;const l=t.strstart>t.w_size-Pt?t.strstart-(t.w_size-Pt):0,h=t.window,u=t.w_mask,c=t.prev,f=t.strstart+Ct;let d=h[o+a-1],p=h[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(r=e,h[r+a]===p&&h[r+a-1]===d&&h[r]===h[o]&&h[++r]===h[o+1]){o+=2,r++;do{}while(h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&o<f);if(n=Ct-(f-o),o=f-Ct,n>a){if(t.match_start=e,a=n,n>=s)break;d=h[o+a-1],p=h[o+a]}}}while((e=c[e&u])>l&&0!==--i);return a<=t.lookahead?a:t.lookahead},Xt=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Pt)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),zt(t),n+=e),0===t.strm.avail_in)break;if(r=jt(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Bt(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Bt(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Pt&&0!==t.strm.avail_in)},$t=(t,e)=>{let r,n,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,a=0,s=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,n=t.strstart-t.block_start,r>n+t.strm.avail_in&&(r=n+t.strm.avail_in),r>i&&(r=i),r<o&&(0===r&&e!==dt||e===ut||r!==n+t.strm.avail_in))break;a=e===dt&&r===n+t.strm.avail_in?1:0,at(t,0,0,a),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Ft(t.strm),n&&(n>r&&(n=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,r-=n),r&&(jt(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===a);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?4:e!==ut&&e!==dt&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(jt(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,o=i>t.w_size?t.w_size:i,n=t.strstart-t.block_start,(n>=o||(n||e===dt)&&e!==ut&&0===t.strm.avail_in&&n<=i)&&(r=n>i?i:n,a=e===dt&&0===t.strm.avail_in&&r===n?1:0,at(t,t.block_start,r,a),t.block_start+=r,Ft(t.strm)),a?3:1)},qt=(t,e)=>{let r,n;for(;;){if(t.lookahead<Pt){if(Xt(t),t.lookahead<Pt&&e===ut)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Bt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-Pt&&(t.match_length=Yt(t,r)),t.match_length>=3)if(n=lt(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Bt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Bt(t,t.ins_h,t.window[t.strstart+1]);else n=lt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===dt?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2},Ht=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<Pt){if(Xt(t),t.lookahead<Pt&&e===ut)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Bt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Pt&&(t.match_length=Yt(t,r),t.match_length<=5&&(t.strategy===xt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=lt(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Bt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Ut(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=lt(t,0,t.window[t.strstart-1]),n&&Ut(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=lt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===dt?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2};function Gt(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const Wt=[new Gt(0,0,0,0,$t),new Gt(4,4,8,4,qt),new Gt(4,5,16,8,qt),new Gt(4,6,32,32,qt),new Gt(4,4,16,16,Ht),new Gt(8,16,32,32,Ht),new Gt(8,16,128,128,Ht),new Gt(8,32,128,256,Ht),new Gt(32,128,258,1024,Ht),new Gt(32,258,258,4096,Ht)];function Kt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=At,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Lt(this.dyn_ltree),Lt(this.dyn_dtree),Lt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Lt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Lt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Zt=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Dt&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==It&&e.status!==Tt?1:0},Qt=t=>{if(Zt(t))return Rt(t,wt);t.total_in=t.total_out=0,t.data_type=Et;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?Dt:It,t.adler=2===e.wrap?0:1,e.last_flush=-2,ot(e),mt},Jt=t=>{const e=Qt(t);var r;return e===mt&&((r=t.state).window_size=2*r.w_size,Lt(r.head),r.max_lazy_match=Wt[r.level].max_lazy,r.good_match=Wt[r.level].good_length,r.nice_match=Wt[r.level].nice_length,r.max_chain_length=Wt[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},te=(t,e,r,n,i,o)=>{if(!t)return wt;let a=1;if(e===vt&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>9||r!==At||n<8||n>15||e<0||e>9||o<0||o>Mt||8===n&&1!==a)return Rt(t,wt);8===n&&(n=9);const s=new Kt;return t.state=s,s.strm=t,s.status=Dt,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=e,s.strategy=o,s.method=r,Jt(t)};var ee=(t,e)=>te(t,e,At,15,8,St),re=(t,e)=>{let r=e.length;if(Zt(t))return wt;const n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==Dt||n.lookahead)return wt;if(1===i&&(t.adler=tt(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Lt(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const o=t.avail_in,a=t.next_in,s=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Xt(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=Bt(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Xt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=a,t.input=s,t.avail_in=o,n.wrap=i,mt},ne={deflateInit:ee,deflateInit2:te,deflateReset:Jt,deflateResetKeep:Qt,deflateSetHeader:(t,e)=>Zt(t)||2!==t.state.wrap?wt:(t.state.gzhead=e,mt),deflate:(t,e)=>{if(Zt(t)||e>pt||e<0)return t?Rt(t,wt):wt;const r=t.state;if(!t.output||0!==t.avail_in&&!t.input||r.status===Tt&&e!==dt)return Rt(t,0===t.avail_out?yt:wt);const n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(Ft(t),0===t.avail_out)return r.last_flush=-1,mt}else if(0===t.avail_in&&Nt(e)<=Nt(n)&&e!==dt)return Rt(t,yt);if(r.status===Tt&&0!==t.avail_in)return Rt(t,yt);if(r.status===Dt&&0===r.wrap&&(r.status=It),r.status===Dt){let e=At+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=_t||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=n<<6,0!==r.strstart&&(e|=32),e+=31-e%31,Vt(r,e),0!==r.strstart&&(Vt(r,t.adler>>>16),Vt(r,65535&t.adler)),t.adler=1,r.status=It,Ft(t),0!==r.pending)return r.last_flush=-1,mt}if(57===r.status)if(t.adler=0,Ot(r,31),Ot(r,139),Ot(r,8),r.gzhead)Ot(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Ot(r,255&r.gzhead.time),Ot(r,r.gzhead.time>>8&255),Ot(r,r.gzhead.time>>16&255),Ot(r,r.gzhead.time>>24&255),Ot(r,9===r.level?2:r.strategy>=_t||r.level<2?4:0),Ot(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Ot(r,255&r.gzhead.extra.length),Ot(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=rt(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(Ot(r,0),Ot(r,0),Ot(r,0),Ot(r,0),Ot(r,0),Ot(r,9===r.level?2:r.strategy>=_t||r.level<2?4:0),Ot(r,3),r.status=It,Ft(t),0!==r.pending)return r.last_flush=-1,mt;if(69===r.status){if(r.gzhead.extra){let e=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=rt(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,Ft(t),0!==r.pending)return r.last_flush=-1,mt;e=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>e&&(t.adler=rt(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=rt(t.adler,r.pending_buf,r.pending-n,n)),Ft(t),0!==r.pending)return r.last_flush=-1,mt;n=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Ot(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=rt(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=rt(t.adler,r.pending_buf,r.pending-n,n)),Ft(t),0!==r.pending)return r.last_flush=-1,mt;n=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Ot(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=rt(t.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Ft(t),0!==r.pending))return r.last_flush=-1,mt;Ot(r,255&t.adler),Ot(r,t.adler>>8&255),t.adler=0}if(r.status=It,Ft(t),0!==r.pending)return r.last_flush=-1,mt}if(0!==t.avail_in||0!==r.lookahead||e!==ut&&r.status!==Tt){let n=0===r.level?$t(r,e):r.strategy===_t?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(Xt(t),0===t.lookahead)){if(e===ut)return 1;break}if(t.match_length=0,r=lt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===dt?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===kt?((t,e)=>{let r,n,i,o;const a=t.window;for(;;){if(t.lookahead<=Ct){if(Xt(t),t.lookahead<=Ct&&e===ut)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=t.strstart+Ct;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);t.match_length=Ct-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=lt(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=lt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===dt?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2})(r,e):Wt[r.level].func(r,e);if(3!==n&&4!==n||(r.status=Tt),1===n||3===n)return 0===t.avail_out&&(r.last_flush=-1),mt;if(2===n&&(e===ct?ht(r):e!==pt&&(at(r,0,0,!1),e===ft&&(Lt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Ft(t),0===t.avail_out))return r.last_flush=-1,mt}return e!==dt?mt:r.wrap<=0?gt:(2===r.wrap?(Ot(r,255&t.adler),Ot(r,t.adler>>8&255),Ot(r,t.adler>>16&255),Ot(r,t.adler>>24&255),Ot(r,255&t.total_in),Ot(r,t.total_in>>8&255),Ot(r,t.total_in>>16&255),Ot(r,t.total_in>>24&255)):(Vt(r,t.adler>>>16),Vt(r,65535&t.adler)),Ft(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?mt:gt)},deflateEnd:t=>{if(Zt(t))return wt;const e=t.state.status;return t.state=null,e===It?Rt(t,bt):mt},deflateSetDictionary:re,deflateInfo:"pako deflate (from Nodeca project)"};const ie=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var oe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(const e in r)ie(r,e)&&(t[e]=r[e])}}return t},ae=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,o=t.length;n<o;n++){let e=t[n];r.set(e,i),i+=e.length}return r};let se=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(zl){se=!1}const le=new Uint8Array(256);for(let Bl=0;Bl<256;Bl++)le[Bl]=Bl>=252?6:Bl>=248?5:Bl>=240?4:Bl>=224?3:Bl>=192?2:1;le[254]=le[254]=1;var he=t=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,o,a=t.length,s=0;for(i=0;i<a;i++)r=t.charCodeAt(i),55296===(64512&r)&&i+1<a&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),o=0,i=0;o<s;i++)r=t.charCodeAt(i),55296===(64512&r)&&i+1<a&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},ue=(t,e)=>{const r=e||t.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const o=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){o[i++]=e;continue}let a=le[e];if(a>4)o[i++]=65533,n+=a-1;else{for(e&=2===a?31:3===a?15:7;a>1&&n<r;)e=e<<6|63&t[n++],a--;a>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&se)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(o,i)},ce=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128===(192&t[r]);)r--;return r<0||0===r?e:r+le[t[r]]>e?r:e};var fe=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const de=Object.prototype.toString,{Z_NO_FLUSH:pe,Z_SYNC_FLUSH:me,Z_FULL_FLUSH:ge,Z_FINISH:we,Z_OK:be,Z_STREAM_END:ye,Z_DEFAULT_COMPRESSION:ve,Z_DEFAULT_STRATEGY:xe,Z_DEFLATED:_e}=it;function ke(t){this.options=oe({level:ve,method:_e,chunkSize:16384,windowBits:15,memLevel:8,strategy:xe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fe,this.strm.avail_out=0;let r=ne.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==be)throw new Error(nt[r]);if(e.header&&ne.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"===typeof e.dictionary?he(e.dictionary):"[object ArrayBuffer]"===de.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=ne.deflateSetDictionary(this.strm,t),r!==be)throw new Error(nt[r]);this._dict_set=!0}}function Me(t,e){const r=new ke(e);if(r.push(t,!0),r.err)throw r.msg||nt[r.err];return r.result}ke.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?we:pe,"string"===typeof t?r.input=he(t):"[object ArrayBuffer]"===de.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===me||o===ge)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=ne.deflate(r,o),i===ye)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=ne.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===be;if(0!==r.avail_out){if(o>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ke.prototype.onData=function(t){this.chunks.push(t)},ke.prototype.onEnd=function(t){t===be&&(this.result=ae(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Se={Deflate:ke,deflate:Me,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Me(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Me(t,e)},constants:it};const Ee=16209;var Ae=function(t,e){let r,n,i,o,a,s,l,h,u,c,f,d,p,m,g,w,b,y,v,x,_,k,M,S;const E=t.state;r=t.next_in,M=t.input,n=r+(t.avail_in-5),i=t.next_out,S=t.output,o=i-(e-t.avail_out),a=i+(t.avail_out-257),s=E.dmax,l=E.wsize,h=E.whave,u=E.wnext,c=E.window,f=E.hold,d=E.bits,p=E.lencode,m=E.distcode,g=(1<<E.lenbits)-1,w=(1<<E.distbits)-1;t:do{d<15&&(f+=M[r++]<<d,d+=8,f+=M[r++]<<d,d+=8),b=p[f&g];e:for(;;){if(y=b>>>24,f>>>=y,d-=y,y=b>>>16&255,0===y)S[i++]=65535&b;else{if(!(16&y)){if(0===(64&y)){b=p[(65535&b)+(f&(1<<y)-1)];continue e}if(32&y){E.mode=16191;break t}t.msg="invalid literal/length code",E.mode=Ee;break t}v=65535&b,y&=15,y&&(d<y&&(f+=M[r++]<<d,d+=8),v+=f&(1<<y)-1,f>>>=y,d-=y),d<15&&(f+=M[r++]<<d,d+=8,f+=M[r++]<<d,d+=8),b=m[f&w];r:for(;;){if(y=b>>>24,f>>>=y,d-=y,y=b>>>16&255,!(16&y)){if(0===(64&y)){b=m[(65535&b)+(f&(1<<y)-1)];continue r}t.msg="invalid distance code",E.mode=Ee;break t}if(x=65535&b,y&=15,d<y&&(f+=M[r++]<<d,d+=8,d<y&&(f+=M[r++]<<d,d+=8)),x+=f&(1<<y)-1,x>s){t.msg="invalid distance too far back",E.mode=Ee;break t}if(f>>>=y,d-=y,y=i-o,x>y){if(y=x-y,y>h&&E.sane){t.msg="invalid distance too far back",E.mode=Ee;break t}if(_=0,k=c,0===u){if(_+=l-y,y<v){v-=y;do{S[i++]=c[_++]}while(--y);_=i-x,k=S}}else if(u<y){if(_+=l+u-y,y-=u,y<v){v-=y;do{S[i++]=c[_++]}while(--y);if(_=0,u<v){y=u,v-=y;do{S[i++]=c[_++]}while(--y);_=i-x,k=S}}}else if(_+=u-y,y<v){v-=y;do{S[i++]=c[_++]}while(--y);_=i-x,k=S}for(;v>2;)S[i++]=k[_++],S[i++]=k[_++],S[i++]=k[_++],v-=3;v&&(S[i++]=k[_++],v>1&&(S[i++]=k[_++]))}else{_=i-x;do{S[i++]=S[_++],S[i++]=S[_++],S[i++]=S[_++],v-=3}while(v>2);v&&(S[i++]=S[_++],v>1&&(S[i++]=S[_++]))}break}}break}}while(r<n&&i<a);v=d>>3,r-=v,d-=v<<3,f&=(1<<d)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<a?a-i+257:257-(i-a),E.hold=f,E.bits=d};const Ce=15,Pe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),De=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ie=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Te=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Re=(t,e,r,n,i,o,a,s)=>{const l=s.bits;let h,u,c,f,d,p,m=0,g=0,w=0,b=0,y=0,v=0,x=0,_=0,k=0,M=0,S=null;const E=new Uint16Array(16),A=new Uint16Array(16);let C,P,D,I=null;for(m=0;m<=Ce;m++)E[m]=0;for(g=0;g<n;g++)E[e[r+g]]++;for(y=l,b=Ce;b>=1&&0===E[b];b--);if(y>b&&(y=b),0===b)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(w=1;w<b&&0===E[w];w++);for(y<w&&(y=w),_=1,m=1;m<=Ce;m++)if(_<<=1,_-=E[m],_<0)return-1;if(_>0&&(0===t||1!==b))return-1;for(A[1]=0,m=1;m<Ce;m++)A[m+1]=A[m]+E[m];for(g=0;g<n;g++)0!==e[r+g]&&(a[A[e[r+g]]++]=g);if(0===t?(S=I=a,p=20):1===t?(S=Pe,I=De,p=257):(S=Ie,I=Te,p=0),M=0,g=0,m=w,d=o,v=y,x=0,c=-1,k=1<<y,f=k-1,1===t&&k>852||2===t&&k>592)return 1;for(;;){C=m-x,a[g]+1<p?(P=0,D=a[g]):a[g]>=p?(P=I[a[g]-p],D=S[a[g]-p]):(P=96,D=0),h=1<<m-x,u=1<<v,w=u;do{u-=h,i[d+(M>>x)+u]=C<<24|P<<16|D}while(0!==u);for(h=1<<m-1;M&h;)h>>=1;if(0!==h?(M&=h-1,M+=h):M=0,g++,0===--E[m]){if(m===b)break;m=e[r+a[g]]}if(m>y&&(M&f)!==c){for(0===x&&(x=y),d+=w,v=m-x,_=1<<v;v+x<b&&(_-=E[v+x],!(_<=0));)v++,_<<=1;if(k+=1<<v,1===t&&k>852||2===t&&k>592)return 1;c=M&f,i[c]=y<<24|v<<16|d-o}}return 0!==M&&(i[d+M]=m-x<<24|64<<16),s.bits=y,0};const{Z_FINISH:Ne,Z_BLOCK:Le,Z_TREES:ze,Z_OK:Be,Z_STREAM_END:Fe,Z_NEED_DICT:Ue,Z_STREAM_ERROR:Oe,Z_DATA_ERROR:Ve,Z_MEM_ERROR:je,Z_BUF_ERROR:Ye,Z_DEFLATED:Xe}=it,$e=16180,qe=16190,He=16191,Ge=16192,We=16194,Ke=16199,Ze=16200,Qe=16206,Je=16209,tr=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function er(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const rr=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<$e||e.mode>16211?1:0},nr=t=>{if(rr(t))return Oe;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=$e,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Be},ir=t=>{if(rr(t))return Oe;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,nr(t)},or=(t,e)=>{let r;if(rr(t))return Oe;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Oe:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,ir(t))},ar=(t,e)=>{if(!t)return Oe;const r=new er;t.state=r,r.strm=t,r.window=null,r.mode=$e;const n=or(t,e);return n!==Be&&(t.state=null),n};let sr,lr,hr=!0;const ur=t=>{if(hr){sr=new Int32Array(512),lr=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Re(1,t.lens,0,288,sr,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Re(2,t.lens,0,32,lr,0,t.work,{bits:5}),hr=!1}t.lencode=sr,t.lenbits=9,t.distcode=lr,t.distbits=5},cr=(t,e,r,n)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var fr={inflateReset:ir,inflateReset2:or,inflateResetKeep:nr,inflateInit:t=>ar(t,15),inflateInit2:ar,inflate:(t,e)=>{let r,n,i,o,a,s,l,h,u,c,f,d,p,m,g,w,b,y,v,x,_,k,M=0;const S=new Uint8Array(4);let E,A;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(rr(t)||!t.output||!t.input&&0!==t.avail_in)return Oe;r=t.state,r.mode===He&&(r.mode=Ge),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,h=r.hold,u=r.bits,c=s,f=l,k=Be;t:for(;;)switch(r.mode){case $e:if(0===r.wrap){r.mode=Ge;break}for(;u<16;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(2&r.wrap&&35615===h){0===r.wbits&&(r.wbits=15),r.check=0,S[0]=255&h,S[1]=h>>>8&255,r.check=rt(r.check,S,2,0),h=0,u=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=Je;break}if((15&h)!==Xe){t.msg="unknown compression method",r.mode=Je;break}if(h>>>=4,u-=4,_=8+(15&h),0===r.wbits&&(r.wbits=_),_>15||_>r.wbits){t.msg="invalid window size",r.mode=Je;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&h?16189:He,h=0,u=0;break;case 16181:for(;u<16;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(r.flags=h,(255&r.flags)!==Xe){t.msg="unknown compression method",r.mode=Je;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Je;break}r.head&&(r.head.text=h>>8&1),512&r.flags&&4&r.wrap&&(S[0]=255&h,S[1]=h>>>8&255,r.check=rt(r.check,S,2,0)),h=0,u=0,r.mode=16182;case 16182:for(;u<32;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.head&&(r.head.time=h),512&r.flags&&4&r.wrap&&(S[0]=255&h,S[1]=h>>>8&255,S[2]=h>>>16&255,S[3]=h>>>24&255,r.check=rt(r.check,S,4,0)),h=0,u=0,r.mode=16183;case 16183:for(;u<16;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.head&&(r.head.xflags=255&h,r.head.os=h>>8),512&r.flags&&4&r.wrap&&(S[0]=255&h,S[1]=h>>>8&255,r.check=rt(r.check,S,2,0)),h=0,u=0,r.mode=16184;case 16184:if(1024&r.flags){for(;u<16;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.length=h,r.head&&(r.head.extra_len=h),512&r.flags&&4&r.wrap&&(S[0]=255&h,S[1]=h>>>8&255,r.check=rt(r.check,S,2,0)),h=0,u=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(d=r.length,d>s&&(d=s),d&&(r.head&&(_=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+d),_)),512&r.flags&&4&r.wrap&&(r.check=rt(r.check,n,d,o)),s-=d,o+=d,r.length-=d),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===s)break t;d=0;do{_=n[o+d++],r.head&&_&&r.length<65536&&(r.head.name+=String.fromCharCode(_))}while(_&&d<s);if(512&r.flags&&4&r.wrap&&(r.check=rt(r.check,n,d,o)),s-=d,o+=d,_)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===s)break t;d=0;do{_=n[o+d++],r.head&&_&&r.length<65536&&(r.head.comment+=String.fromCharCode(_))}while(_&&d<s);if(512&r.flags&&4&r.wrap&&(r.check=rt(r.check,n,d,o)),s-=d,o+=d,_)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;u<16;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(4&r.wrap&&h!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Je;break}h=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=He;break;case 16189:for(;u<32;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}t.adler=r.check=tr(h),h=0,u=0,r.mode=qe;case qe:if(0===r.havedict)return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=h,r.bits=u,Ue;t.adler=r.check=1,r.mode=He;case He:if(e===Le||e===ze)break t;case Ge:if(r.last){h>>>=7&u,u-=7&u,r.mode=Qe;break}for(;u<3;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}switch(r.last=1&h,h>>>=1,u-=1,3&h){case 0:r.mode=16193;break;case 1:if(ur(r),r.mode=Ke,e===ze){h>>>=2,u-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=Je}h>>>=2,u-=2;break;case 16193:for(h>>>=7&u,u-=7&u;u<32;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if((65535&h)!==(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Je;break}if(r.length=65535&h,h=0,u=0,r.mode=We,e===ze)break t;case We:r.mode=16195;case 16195:if(d=r.length,d){if(d>s&&(d=s),d>l&&(d=l),0===d)break t;i.set(n.subarray(o,o+d),a),s-=d,o+=d,l-=d,a+=d,r.length-=d;break}r.mode=He;break;case 16196:for(;u<14;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(r.nlen=257+(31&h),h>>>=5,u-=5,r.ndist=1+(31&h),h>>>=5,u-=5,r.ncode=4+(15&h),h>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Je;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;u<3;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.lens[C[r.have++]]=7&h,h>>>=3,u-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,E={bits:r.lenbits},k=Re(0,r.lens,0,19,r.lencode,0,r.work,E),r.lenbits=E.bits,k){t.msg="invalid code lengths set",r.mode=Je;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;M=r.lencode[h&(1<<r.lenbits)-1],g=M>>>24,w=M>>>16&255,b=65535&M,!(g<=u);){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(b<16)h>>>=g,u-=g,r.lens[r.have++]=b;else{if(16===b){for(A=g+2;u<A;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(h>>>=g,u-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=Je;break}_=r.lens[r.have-1],d=3+(3&h),h>>>=2,u-=2}else if(17===b){for(A=g+3;u<A;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}h>>>=g,u-=g,_=0,d=3+(7&h),h>>>=3,u-=3}else{for(A=g+7;u<A;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}h>>>=g,u-=g,_=0,d=11+(127&h),h>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Je;break}for(;d--;)r.lens[r.have++]=_}}if(r.mode===Je)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=Je;break}if(r.lenbits=9,E={bits:r.lenbits},k=Re(1,r.lens,0,r.nlen,r.lencode,0,r.work,E),r.lenbits=E.bits,k){t.msg="invalid literal/lengths set",r.mode=Je;break}if(r.distbits=6,r.distcode=r.distdyn,E={bits:r.distbits},k=Re(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,E),r.distbits=E.bits,k){t.msg="invalid distances set",r.mode=Je;break}if(r.mode=Ke,e===ze)break t;case Ke:r.mode=Ze;case Ze:if(s>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=h,r.bits=u,Ae(t,f),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,h=r.hold,u=r.bits,r.mode===He&&(r.back=-1);break}for(r.back=0;M=r.lencode[h&(1<<r.lenbits)-1],g=M>>>24,w=M>>>16&255,b=65535&M,!(g<=u);){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(w&&0===(240&w)){for(y=g,v=w,x=b;M=r.lencode[x+((h&(1<<y+v)-1)>>y)],g=M>>>24,w=M>>>16&255,b=65535&M,!(y+g<=u);){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}h>>>=y,u-=y,r.back+=y}if(h>>>=g,u-=g,r.back+=g,r.length=b,0===w){r.mode=16205;break}if(32&w){r.back=-1,r.mode=He;break}if(64&w){t.msg="invalid literal/length code",r.mode=Je;break}r.extra=15&w,r.mode=16201;case 16201:if(r.extra){for(A=r.extra;u<A;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;M=r.distcode[h&(1<<r.distbits)-1],g=M>>>24,w=M>>>16&255,b=65535&M,!(g<=u);){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(0===(240&w)){for(y=g,v=w,x=b;M=r.distcode[x+((h&(1<<y+v)-1)>>y)],g=M>>>24,w=M>>>16&255,b=65535&M,!(y+g<=u);){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}h>>>=y,u-=y,r.back+=y}if(h>>>=g,u-=g,r.back+=g,64&w){t.msg="invalid distance code",r.mode=Je;break}r.offset=b,r.extra=15&w,r.mode=16203;case 16203:if(r.extra){for(A=r.extra;u<A;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Je;break}r.mode=16204;case 16204:if(0===l)break t;if(d=f-l,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Je;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=a-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do{i[a++]=m[p++]}while(--d);0===r.length&&(r.mode=Ze);break;case 16205:if(0===l)break t;i[a++]=r.length,l--,r.mode=Ze;break;case Qe:if(r.wrap){for(;u<32;){if(0===s)break t;s--,h|=n[o++]<<u,u+=8}if(f-=l,t.total_out+=f,r.total+=f,4&r.wrap&&f&&(t.adler=r.check=r.flags?rt(r.check,i,f,a-f):tt(r.check,i,f,a-f)),f=l,4&r.wrap&&(r.flags?h:tr(h))!==r.check){t.msg="incorrect data check",r.mode=Je;break}h=0,u=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;u<32;){if(0===s)break t;s--,h+=n[o++]<<u,u+=8}if(4&r.wrap&&h!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Je;break}h=0,u=0}r.mode=16208;case 16208:k=Fe;break t;case Je:k=Ve;break t;case 16210:return je;default:return Oe}return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=h,r.bits=u,(r.wsize||f!==t.avail_out&&r.mode<Je&&(r.mode<Qe||e!==Ne))&&cr(t,t.output,t.next_out,f-t.avail_out),c-=t.avail_in,f-=t.avail_out,t.total_in+=c,t.total_out+=f,r.total+=f,4&r.wrap&&f&&(t.adler=r.check=r.flags?rt(r.check,i,f,t.next_out-f):tt(r.check,i,f,t.next_out-f)),t.data_type=r.bits+(r.last?64:0)+(r.mode===He?128:0)+(r.mode===Ke||r.mode===We?256:0),(0===c&&0===f||e===Ne)&&k===Be&&(k=Ye),k},inflateEnd:t=>{if(rr(t))return Oe;let e=t.state;return e.window&&(e.window=null),t.state=null,Be},inflateGetHeader:(t,e)=>{if(rr(t))return Oe;const r=t.state;return 0===(2&r.wrap)?Oe:(r.head=e,e.done=!1,Be)},inflateSetDictionary:(t,e)=>{const r=e.length;let n,i,o;return rr(t)?Oe:(n=t.state,0!==n.wrap&&n.mode!==qe?Oe:n.mode===qe&&(i=1,i=tt(i,e,r,0),i!==n.check)?Ve:(o=cr(t,e,r,r),o?(n.mode=16210,je):(n.havedict=1,Be)))},inflateInfo:"pako inflate (from Nodeca project)"};var dr=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const pr=Object.prototype.toString,{Z_NO_FLUSH:mr,Z_FINISH:gr,Z_OK:wr,Z_STREAM_END:br,Z_NEED_DICT:yr,Z_STREAM_ERROR:vr,Z_DATA_ERROR:xr,Z_MEM_ERROR:_r}=it;function kr(t){this.options=oe({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fe,this.strm.avail_out=0;let r=fr.inflateInit2(this.strm,e.windowBits);if(r!==wr)throw new Error(nt[r]);if(this.header=new dr,fr.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=he(e.dictionary):"[object ArrayBuffer]"===pr.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=fr.inflateSetDictionary(this.strm,e.dictionary),r!==wr)))throw new Error(nt[r])}function Mr(t,e){const r=new kr(e);if(r.push(t),r.err)throw r.msg||nt[r.err];return r.result}kr.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=e===~~e?e:!0===e?gr:mr,"[object ArrayBuffer]"===pr.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=fr.inflate(r,a),o===yr&&i&&(o=fr.inflateSetDictionary(r,i),o===wr?o=fr.inflate(r,a):o===xr&&(o=yr));r.avail_in>0&&o===br&&r.state.wrap>0&&0!==t[r.next_in];)fr.inflateReset(r),o=fr.inflate(r,a);switch(o){case vr:case xr:case yr:case _r:return this.onEnd(o),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(0===r.avail_out||o===br))if("string"===this.options.to){let t=ce(r.output,r.next_out),e=r.next_out-t,i=ue(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(o!==wr||0!==s){if(o===br)return o=fr.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},kr.prototype.onData=function(t){this.chunks.push(t)},kr.prototype.onEnd=function(t){t===wr&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ae(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Sr={Inflate:kr,inflate:Mr,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Mr(t,e)},ungzip:Mr,constants:it};const{Deflate:Er,deflate:Ar,deflateRaw:Cr,gzip:Pr}=Se,{Inflate:Dr,inflate:Ir,inflateRaw:Tr,ungzip:Rr}=Sr;var Nr=Ar,Lr=Dr,zr=Ir;const Br=[137,80,78,71,13,10,26,10],Fr=[];for(let Bl=0;Bl<256;Bl++){let t=Bl;for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;Fr[Bl]=t}const Ur=4294967295;function Or(t,e){return(function(t,e,r){let n=t;for(let i=0;i<r;i++)n=Fr[255&(n^e[i])]^n>>>8;return n}(Ur,t,e)^Ur)>>>0}var Vr,jr,Yr,Xr;!function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.GREYSCALE=0]="GREYSCALE",t[t.TRUECOLOUR=2]="TRUECOLOUR",t[t.INDEXED_COLOUR=3]="INDEXED_COLOUR",t[t.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",t[t.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"}(Vr||(Vr={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.DEFLATE=0]="DEFLATE"}(jr||(jr={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.ADAPTIVE=0]="ADAPTIVE"}(Yr||(Yr={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.NO_INTERLACE=0]="NO_INTERLACE",t[t.ADAM7=1]="ADAM7"}(Xr||(Xr={}));const $r=new Uint8Array(0),qr=new Uint16Array([255]),Hr=255===new Uint8Array(qr.buffer)[0];class Gr extends m.IOBuffer{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new Lr,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=jr.UNKNOWN,this._filterMethod=Yr.UNKNOWN,this._interlaceMethod=Xr.UNKNOWN,this._colorType=Vr.UNKNOWN,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let t=0;t<Br.length;t++)if(this.readUint8()!==Br[t])throw new Error(`wrong PNG signature. Byte at ${t} should be ${Br[t]}.`)}decodeChunk(){const t=this.readUint32(),e=this.readChars(4),r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case"tEXt":this.decodetEXt(t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t)}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);if(this._checkCrc){const r=this.readUint32(),n=t+4,i=Or(new Uint8Array(this.buffer,this.byteOffset+this.offset-n-4,n),n);if(i!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${i}`)}else this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=function(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error(`invalid bit depth: ${t}`);return t}(this.readUint8());const e=this.readUint8();let r;switch(this._colorType=e,e){case Vr.GREYSCALE:r=1;break;case Vr.TRUECOLOUR:r=3;break;case Vr.INDEXED_COLOUR:r=1;break;case Vr.GREYSCALE_ALPHA:r=2;break;case Vr.TRUECOLOUR_ALPHA:r=4;break;default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==jr.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<e;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,t)),this.skip(t)}decodetRNS(t){switch(this._colorType){case Vr.GREYSCALE:case Vr.TRUECOLOUR:if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break;case Vr.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const t=this.readByte();this._palette[e].push(t)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){let e,r="";for(;"\0"!==(e=this.readChar());)r+=e;const n=this.readUint8();if(n!==jr.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:zr(i)}}decodetEXt(t){let e,r="";for(;"\0"!==(e=this.readChar());)r+=e;this._png.text[r]=this.readChars(t-r.length-1)}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._inflator.result;if(this._filterMethod!==Yr.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod!==Xr.NO_INTERLACE)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this.decodeInterlaceNull(t)}decodeInterlaceNull(t){const e=this._png.height,r=this._png.channels*this._png.depth/8,n=this._png.width*r,i=new Uint8Array(this._png.height*n);let o,a,s=$r,l=0;for(let u=0;u<e;u++){switch(o=t.subarray(l+1,l+1+n),a=i.subarray(u*n,(u+1)*n),t[l]){case 0:Wr(o,a,n);break;case 1:Kr(o,a,n,r);break;case 2:Zr(o,a,s,n);break;case 3:Qr(o,a,s,n,r);break;case 4:Jr(o,a,s,n,r);break;default:throw new Error(`Unsupported filter: ${t[l]}`)}s=a,l+=n+1}if(this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency),16===this._png.depth){const t=new Uint16Array(i.buffer);if(Hr)for(let e=0;e<t.length;e++)t[e]=(255&(h=t[e]))<<8|h>>8&255;this._png.data=t}else this._png.data=i;var h}}function Wr(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Kr(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function Zr(t,e,r,n){let i=0;if(0===r.length)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function Qr(t,e,r,n,i){let o=0;if(0===r.length){for(;o<i;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(r[o]>>1)&255;for(;o<n;o++)e[o]=t[o]+(e[o-i]+r[o]>>1)&255}}function Jr(t,e,r,n,i){let o=0;if(0===r.length){for(;o<i;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+r[o]&255;for(;o<n;o++)e[o]=t[o]+tn(e[o-i],r[o],r[o-i])&255}}function tn(t,e,r){const n=t+e-r,i=Math.abs(n-t),o=Math.abs(n-e),a=Math.abs(n-r);return i<=o&&i<=a?t:o<=a?e:r}const en={level:3};class rn extends m.IOBuffer{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this._colorType=Vr.UNKNOWN,this._zlibOptions={...en,...e.zlib},this._png=this._checkData(t),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(Br)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(jr.DEFLATE),this.writeByte(Yr.ADAPTIVE),this.writeByte(Xr.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(t){this.writeUint32(t.length),this.writeChars("IDAT"),this.writeBytes(t),this.writeCrc(t.length+4)}encodeData(){const{width:t,height:e,channels:r,depth:n,data:i}=this._png,o=r*t,a=(new m.IOBuffer).setBigEndian();let s=0;for(let u=0;u<e;u++)if(a.writeByte(0),8===n)s=on(i,a,o,s);else{if(16!==n)throw new Error("unreachable");s=an(i,a,o,s)}const l=a.toArray(),h=Nr(l,this._zlibOptions);this.encodeIDAT(h)}_checkData(t){const{colorType:e,channels:r,depth:n}=function(t){const{channels:e=4,depth:r=8}=t;if(4!==e&&3!==e&&2!==e&&1!==e)throw new RangeError(`unsupported number of channels: ${e}`);if(8!==r&&16!==r)throw new RangeError(`unsupported bit depth: ${r}`);const n={channels:e,depth:r,colorType:Vr.UNKNOWN};switch(e){case 4:n.colorType=Vr.TRUECOLOUR_ALPHA;break;case 3:n.colorType=Vr.TRUECOLOUR;break;case 1:n.colorType=Vr.GREYSCALE;break;case 2:n.colorType=Vr.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return n}(t),i={width:nn(t.width,"width"),height:nn(t.height,"height"),channels:r,data:t.data,depth:n,text:{}};this._colorType=e;const o=i.width*i.height*r;if(i.data.length!==o)throw new RangeError(`wrong data size. Found ${i.data.length}, expected ${o}`);return i}writeCrc(t){this.writeUint32(Or(new Uint8Array(this.buffer,this.byteOffset+this.offset-t,t),t))}}function nn(t,e){if(Number.isInteger(t)&&t>0)return t;throw new TypeError(`${e} must be a positive integer`)}function on(t,e,r,n){for(let i=0;i<r;i++)e.writeByte(t[n++]);return n}function an(t,e,r,n){for(let i=0;i<r;i++)e.writeUint16(t[n++]);return n}var sn;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"}(sn||(sn={}));var ln=r(3194);let hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",un=new Uint8Array(256);for(let Bl=0;Bl<64;Bl++)un[hn.charCodeAt(Bl)]=Bl;function cn(t,e){return`data:${e};base64,${function(t){let e,r=t.length,n="";for(e=0;e<r;e+=3)n+=hn[t[e]>>2],n+=hn[(3&t[e])<<4|t[e+1]>>4],n+=hn[(15&t[e+1])<<2|t[e+2]>>6],n+=hn[63&t[e+2]];return r%3===2?n=`${n.substring(0,n.length-1)}=`:r%3===1&&(n=`${n.substring(0,n.length-2)}==`),n}(t)}`}const fn=self.ImageData,dn=self.Image;function pn(t,e){let r=self.document.createElement("canvas");return r.width=t,r.height=e,r}function mn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={width:t.width,height:t.height,data:t.getRGBAData()};return(0,ln.encode)(r,e.quality).data}function gn(t,e){const r={width:t.width,height:t.height,channels:t.channels,depth:t.bitDepth,data:t.data};return 1!==r.depth&&32!==r.depth||(r.depth=8,r.channels=4,r.data=t.getRGBAData()),function(t,e){return new rn(t,e).encode()}(r,e)}const wn={save(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{useCanvas:r=!1,encoder:n}=e;let{format:i}=e;if(!i){const e=/\.(?<format>[a-zA-Z]+)$/.exec(t);e&&(i=e.groups.format.toLowerCase())}if(!i)throw new Error("file format not provided");return new Promise(((t,e)=>{let o,a;switch(i.toLowerCase()){case"png":r?o=this.getCanvas().pngStream():a=gn(this,n);break;case"jpg":case"jpeg":r?o=this.getCanvas().jpegStream():a=mn(this,n);break;case"bmp":a=(0,p.l)(this,n);break;default:throw new RangeError(`invalid output format: ${i}`)}if(o){let r=function(){throw new Error("createWriteStream does not exist in the browser")}();r.on("finish",t),r.on("error",e),o.pipe(r)}else a&&function(){throw new Error("writeFile does not exist in the browser")}()}))},toDataURL(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"===typeof t&&(e=t,t="image/png");const{useCanvas:r=!1,encoder:n}=e;function i(e,r){return cn(e(r,n),t)}return t=function(t){return t.includes("/")||(t=`image/${t}`),t}(t),"image/bmp"===t?i(p.l,this):"image/png"!==t||r?"image/jpeg"!==t||r?this.getCanvas().toDataURL(t):i(mn,this):i(gn,this)},toBuffer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{format:e="png",encoder:r}=t;switch(e.toLowerCase()){case"png":return gn(this,r);case"jpeg":case"jpg":return mn(this,r);case"bmp":return(0,p.l)(this,r);default:throw new RangeError(`invalid output format: ${e}`)}},toBase64(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.async)return this.toDataURL(t,e).then((function(t){return t.substring(t.indexOf(",")+1)}));{const r=this.toDataURL(t,e);return r.substring(r.indexOf(",")+1)}},toBlob(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8;return f(this.getCanvas(),t,e)},getCanvas(){const t=new fn(this.getRGBAData({clamped:!0}),this.width,this.height);let e=pn(this.width,this.height);return e.getContext("2d").putImageData(t,0,0),e}};var bn=r(8265),yn=r.n(bn);let vn={configurable:!0,enumerable:!1,get:void 0};const xn="GREY",_n="RGB",kn="HSL",Mn="HSV",Sn="CMYK";const En="BINARY",An="RGBA",Cn={};Cn[En]={components:1,alpha:0,bitDepth:1,colorModel:xn},Cn.GREYA={components:1,alpha:1,bitDepth:8,colorModel:xn},Cn.GREY={components:1,alpha:0,bitDepth:8,colorModel:xn},Cn[An]={components:3,alpha:1,bitDepth:8,colorModel:_n},Cn.RGB={components:3,alpha:0,bitDepth:8,colorModel:_n},Cn.CMYK={components:4,alpha:0,bitDepth:8,colorModel:Sn},Cn.CMYKA={components:4,alpha:1,bitDepth:8,colorModel:Sn};const Pn=[1,8,16,32];var Dn=r(3378),In=r(7288),Tn=r.n(In);const Rn={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},Nn={};for(let Bl in Rn)Nn[Rn[Bl]]=Number(Bl);const Ln={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},zn={};for(let Bl in Ln)zn[Ln[Bl]]=Number(Bl);const Bn={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},Fn={};for(let Bl in Bn)Fn[Bn[Bl]]=Number(Bl);const Un={standard:a,exif:i,gps:o};class On{constructor(t){if(!t)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=t,this._hasMap=!1,this._map={}}get(t){if("number"===typeof t)return this.fields.get(t);if("string"===typeof t)return this.fields.get(Un[this.kind].tagsByName[t]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const t=Un[this.kind].tagsById;for(let e of this.fields.keys())t[e]&&(this._map[t[e]]=this.fields.get(e));this._hasMap=!0}return this._map}}let Vn=new Map([[1,[1,jn]],[2,[1,function(t,e){let r=[],n="";for(let i=0;i<e;i++){let e=String.fromCharCode(t.readUint8());"\0"===e?(r.push(n),n=""):n+=e}return 1===r.length?r[0]:r}]],[3,[2,function(t,e){if(1===e)return t.readUint16();let r=new Uint16Array(e);for(let n=0;n<e;n++)r[n]=t.readUint16();return r}]],[4,[4,function(t,e){if(1===e)return t.readUint32();let r=new Uint32Array(e);for(let n=0;n<e;n++)r[n]=t.readUint32();return r}]],[5,[8,function(t,e){if(1===e)return t.readUint32()/t.readUint32();let r=new Array(e);for(let n=0;n<e;n++)r[n]=t.readUint32()/t.readUint32();return r}]],[6,[1,function(t,e){if(1===e)return t.readInt8();let r=new Int8Array(e);for(let n=0;n<e;n++)r[n]=t.readInt8();return r}]],[7,[1,jn]],[8,[2,function(t,e){if(1===e)return t.readInt16();let r=new Int16Array(e);for(let n=0;n<e;n++)r[n]=t.readInt16();return r}]],[9,[4,function(t,e){if(1===e)return t.readInt32();let r=new Int32Array(e);for(let n=0;n<e;n++)r[n]=t.readInt32();return r}]],[10,[8,function(t,e){if(1===e)return t.readInt32()/t.readInt32();let r=new Array(e);for(let n=0;n<e;n++)r[n]=t.readInt32()/t.readInt32();return r}]],[11,[4,function(t,e){if(1===e)return t.readFloat32();let r=new Float32Array(e);for(let n=0;n<e;n++)r[n]=t.readFloat32();return r}]],[12,[8,function(t,e){if(1===e)return t.readFloat64();let r=new Float64Array(e);for(let n=0;n<e;n++)r[n]=t.readFloat64();return r}]]]);function jn(t,e){if(1===e)return t.readUint8();let r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t.readUint8();return r}let Yn=[];const Xn=[511,1023,2047,4095],$n=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class qn{constructor(t){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=258,this.currentBitLength=9,this.stripArray=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),this.outData=new m.IOBuffer(t.byteLength),this.initializeTable()}decode(){let t=0,e=0;for(;257!==(t=this.getNextCode());)if(256===t){if(this.initializeTable(),t=this.getNextCode(),257===t)break;this.writeString(this.stringFromCode(t)),e=t}else if(this.isInTable(t))this.writeString(this.stringFromCode(t)),this.addStringToTable(this.stringFromCode(e).concat(this.stringFromCode(t)[0])),e=t;else{const r=this.stringFromCode(e).concat(this.stringFromCode(e)[0]);this.writeString(r),this.addStringToTable(r),e=t}const r=this.outData.toArray();return new DataView(r.buffer,r.byteOffset,r.byteLength)}initializeTable(){!function(){if(0===Yn.length){for(let e=0;e<256;e++)Yn.push([e]);const t=[];for(let e=256;e<4096;e++)Yn.push(t)}}(),this.tableLength=258,this.currentBitLength=9}writeString(t){this.outData.writeBytes(t)}stringFromCode(t){return Yn[t]}isInTable(t){return t<this.tableLength}addStringToTable(t){if(Yn[this.tableLength++]=t,Yn.length>4096)throw Yn=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===$n[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|255&this.stripArray[this.bytePointer++],this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|255&this.stripArray[this.bytePointer++],this.nextBits+=8);const t=this.nextData>>this.nextBits-this.currentBitLength&Xn[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:t}}function Hn(t){return new qn(t).decode()}const Gn=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class Wn extends On{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let t=new Date,e=Gn.exec(this.dateTime);if(null===e)throw new Error(`invalid dateTime: ${this.dateTime}`);return t.setFullYear(Number(e[1]),Number(e[2])-1,Number(e[3])),t.setHours(Number(e[4]),Number(e[5]),Number(e[6])),t}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const t=this.get("BitsPerSample");return t&&"number"!==typeof t?t[0]:t}get alpha(){const t=this.extraSamples;return!!t&&0!==t[0]}get associatedAlpha(){const t=this.extraSamples;return!!t&&1===t[0]}get extraSamples(){return Kn(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return Kn(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return Kn(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const t=2**this.bitsPerSample,e=this.get("ColorMap");if(!e)return;if(e.length!==3*t)throw new Error(`ColorMap size must be ${t}`);const r=[];for(let n=0;n<t;n++)r.push([e[n],e[n+t],e[n+2*t]]);return r}}function Kn(t){return"number"===typeof t?[t]:t}function Zn(t){const e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),r=zr(e);return new DataView(r.buffer,r.byteOffset,r.byteLength)}const Qn={ignoreImageData:!1,onlyFirst:!1};class Jn extends m.IOBuffer{constructor(t){super(t),this._nextIFD=0}get isMultiPage(){let t=0;for(this.decodeHeader();this._nextIFD;)if(t++,this.decodeIFD({ignoreImageData:!0},!0),2===t)return!0;if(1===t)return!1;throw ti("ifdCount",t)}get pageCount(){let t=0;for(this.decodeHeader();this._nextIFD;)t++,this.decodeIFD({ignoreImageData:!0},!0);if(t>0)return t;throw ti("ifdCount",t)}decode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=Object.assign({},Qn,t);const e=[];for(this.decodeHeader();this._nextIFD;)if(e.push(this.decodeIFD(t,!0)),t.onlyFirst)return[e[0]];return e}decodeHeader(){const t=this.readUint16();if(18761===t)this.setLittleEndian();else{if(19789!==t)throw new Error(`invalid byte order: 0x${t.toString(16)}`);this.setBigEndian()}if(42!==this.readUint16())throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(t,e){let r;if(this.seek(this._nextIFD),e)r=new Wn;else{if(!t.kind)throw new Error("kind is missing");r=new On(t.kind)}const n=this.readUint16();for(let i=0;i<n;i++)this.decodeIFDEntry(r);if(!t.ignoreImageData){if(!(r instanceof Wn))throw new Error("must be a tiff ifd");this.decodeImageData(r)}return this._nextIFD=this.readUint32(),r}decodeIFDEntry(t){const e=this.offset,r=this.readUint16(),n=this.readUint16(),i=this.readUint32();if(n<1||n>12)return void this.skip(4);const o=function(t,e){const r=Vn.get(t);if(!r)throw new Error(`type not found: ${t}`);return r[0]*e}(n,i);o>4&&this.seek(this.readUint32());const a=function(t,e,r){const n=Vn.get(e);if(!n)throw new Error(`type not found: ${e}`);return n[1](t,r)}(this,n,i);if(t.fields.set(r,a),34665===r||34853===r){let e=this.offset,n="exif";34665===r?n="exif":34853===r&&(n="gps"),this._nextIFD=a,t[n]=this.decodeIFD({kind:n,ignoreImageData:!0},!1),this.offset=e}this.seek(e),this.skip(12)}decodeImageData(t){const e=t.orientation;if(e&&1!==e)throw ti("orientation",e);switch(t.type){case 0:case 1:case 2:case 3:this.readStripData(t);break;default:throw ti("image type",t.type)}if(this.applyPredictor(t),this.convertAlpha(t),0===t.type){const e=t.bitsPerSample,r=Math.pow(2,e)-1;for(let n=0;n<t.data.length;n++)t.data[n]=r-t.data[n]}}readStripData(t){const e=t.width,r=t.height,n=t.bitsPerSample,i=t.sampleFormat,o=e*r*t.samplesPerPixel,a=function(t,e,r){if(8===e)return new Uint8Array(t);if(16===e)return new Uint16Array(t);if(32===e&&3===r)return new Float32Array(t);throw ti("bit depth / sample format",`${e} / ${r}`)}(o,n,i),s=t.rowsPerStrip*e*t.samplesPerPixel,l=t.stripOffsets,h=t.stripByteCounts||function(t){if(1!==t.compression)throw new Error("missing mandatory StripByteCounts field in compressed image");const e=t.rowsPerStrip*t.width*t.samplesPerPixel*(t.bitsPerSample/8);return new Array(t.stripOffsets.length).fill(e)}(t);let u=o,c=0;for(let f=0;f<l.length;f++){let e=new DataView(this.buffer,this.byteOffset+l[f],h[f]),r=u>s?s:u;u-=r;let o=e;switch(t.compression){case 1:break;case 5:o=Hn(e);break;case 8:o=Zn(e);break;case 2:throw ti("Compression","CCITT Group 3");case 32773:throw ti("Compression","PackBits");default:throw ti("Compression",t.compression)}c=this.fillUncompressed(n,i,a,o,c,r)}t.data=a}fillUncompressed(t,e,r,n,i,o){if(8===t)return function(t,e,r,n){for(let i=0;i<n;i++)t[r++]=e.getUint8(i);return r}(r,n,i,o);if(16===t)return function(t,e,r,n,i){for(let o=0;o<2*n;o+=2)t[r++]=e.getUint16(o,i);return r}(r,n,i,o,this.isLittleEndian());if(32===t&&3===e)return function(t,e,r,n,i){for(let o=0;o<4*n;o+=4)t[r++]=e.getFloat32(o,i);return r}(r,n,i,o,this.isLittleEndian());throw ti("bitDepth",t)}applyPredictor(t){const e=t.bitsPerSample;switch(t.predictor){case 1:break;case 2:if(8===e)!function(t,e,r){let n=0;for(;n<t.length;){for(let i=r;i<e*r;i+=r)for(let e=0;e<r;e++)t[n+i+e]=t[n+i+e]+t[n+i-(r-e)]&255;n+=e*r}}(t.data,t.width,t.components);else{if(16!==e)throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${e}`);!function(t,e,r){let n=0;for(;n<t.length;){for(let i=r;i<e*r;i+=r)for(let e=0;e<r;e++)t[n+i+e]=t[n+i+e]+t[n+i-(r-e)]&65535;n+=e*r}}(t.data,t.width,t.components)}break;default:throw new Error(`invalid predictor: ${t.predictor}`)}}convertAlpha(t){if(t.alpha&&t.associatedAlpha){const{data:e,components:r,maxSampleValue:n}=t;for(let t=0;t<e.length;t+=r){const i=e[t+r-1];for(let o=0;o<r-1;o++)e[t+o]=Math.round(e[t+o]*n/i)}}}}function ti(t,e){return new Error(`Unsupported ${t}: ${e}`)}function ei(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{algorithm:e="matchToPrevious",ignoreBorder:r=[0,0]}=t;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});let n="matchToPrevious"===e,i=this[0],o=[];o[0]={position:[0,0],image:this[0]};let a=[0,0];for(let f=1;f<this.length;f++){let t=i.getBestMatch(this[f],{border:r});o[f]={position:[t[0]+a[0],t[1]+a[1]],image:this[f]},n&&(a[0]+=t[0],a[1]+=t[1],i=this[f])}let s=0,l=0,h=0,u=0;for(let f=0;f<o.length;f++){let t=o[f];t.position[0]>s&&(s=t.position[0]),t.position[0]<l&&(l=t.position[0]),t.position[1]>h&&(h=t.position[1]),t.position[1]<u&&(u=t.position[1])}l=0-l,u=0-u;for(let f=0;f<o.length;f++){let t=o[f];t.crop=t.image.crop({x:s-t.position[0],y:h-t.position[1],width:i.width-l-s,height:i.height-u-h})}let c=[];for(let f=0;f<o.length;f++)c[f]=o[f].crop;return new di(c)}function ri(){this.checkProcessable("min",{bitDepth:[8,16]});let t=this[0].min;for(let e=1;e<this.length;e++)for(let r=0;r<t.length;r++)t[r]=Math.min(t[r],this[e].min[r]);return t}function ni(){this.checkProcessable("min",{bitDepth:[8,16]});let t=this[0].max;for(let e=1;e<this.length;e++)for(let r=0;r<t.length;r++)t[r]=Math.max(t[r],this[e].max[r]);return t}function ii(t){let e=t.reduce(((t,e)=>t+e));if(0===e)throw new Error("unreachable");let r,n=0,i=0,o=e/2;for(;;){if(t[n]>0){if(void 0!==r)return(r+n)/2;if(i+=t[n],i>o)return n;i===o&&(r=n)}n++}}function oi(t){let e=0,r=0;for(let n=0;n<t.length;n++)e+=t[n],r+=t[n]*n;return 0===e?0:r/e}function ai(){this.checkProcessable("median",{bitDepth:[8,16]});let t=this.getHistograms({maxSlots:this[0].maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=ii(n)}return e}function si(t){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistogram(t);for(let r=1;r<this.length;r++){let n=this[r].getHistogram(t);for(let t=0;t<e.length;t++)e[t]+=n[t]}return e}function li(t){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistograms(t),r=e[0].length;for(let n=1;n<this.length;n++){let i=this[n].getHistograms(t);for(let t=0;t<e.length;t++)for(let n=0;n<r;n++)e[t][n]+=i[t][n]}return e}function hi(){this.checkProcessable("averageImage",{bitDepth:[8,16]});let t=new Uint32Array(this[0].data.length);for(let n=0;n<this.length;n++){let e=this[n];for(let r=0;r<this[0].data.length;r++)t[r]+=e.data[r]}let e=Sl.createFrom(this[0]),r=e.data;for(let n=0;n<this[0].data.length;n++)r[n]=t[n]/this.length;return e}function ui(){this.checkProcessable("max",{bitDepth:[8,16]});let t=Sl.createFrom(this[0]);t.data.fill(0);for(const e of this)for(let r=0;r<t.data.length;r++)t.data[r]=Math.max(e.data[r],t.data[r]);return t}function ci(){this.checkProcessable("max",{bitDepth:[8,16]});let t=Sl.createFrom(this[0]);t.data.fill(t.maxValue);for(const e of this)for(let r=0;r<t.data.length;r++)t.data[r]=Math.min(e.data[r],t.data[r]);return t}let fi={configurable:!0,enumerable:!1,get:void 0};class di extends Array{constructor(t){if(Array.isArray(t)){super(t.length);for(let e=0;e<t.length;e++)this[e]=t[e]}else"number"===typeof t?super(t):super();this.computed=null}static load(t){return Promise.all(t.map(Sl.load)).then((t=>new di(t)))}static extendMethod(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{inPlace:n=!1,returnThis:i=!0,partialArgs:o=[]}=r;return di.prototype[t]=n?function(){this.computed=null;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];let a=e.apply(this,[...o,...r]);return i?this:a}:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,[...o,...r])},di}static extendProperty(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{partialArgs:n=[]}=r;return fi.get=function(){if(null===this.computed)this.computed={};else if(yn()(t,this.computed))return this.computed[t];let r=e.apply(this,n);return this.computed[t]=r,r},Object.defineProperty(di.prototype,t,fi),di}checkProcessable(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof t)throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(0===this.size)throw new TypeError(`The process: ${t} can not be applied on an empty stack`);this[0].checkProcessable(t,e);for(let r=1;r<this.length;r++){if((void 0===e.sameSize||e.sameSize)&&this[0].width!==this[r].width)throw new TypeError(`The process: ${t} can not be applied if width is not identical in all images`);if((void 0===e.sameSize||e.sameSize)&&this[0].height!==this[r].height)throw new TypeError(`The process: ${t} can not be applied if height is not identical in all images`);if((void 0===e.sameAlpha||e.sameAlpha)&&this[0].alpha!==this[r].alpha)throw new TypeError(`The process: ${t} can not be applied if alpha is not identical in all images`);if((void 0===e.sameBitDepth||e.sameBitDepth)&&this[0].bitDepth!==this[r].bitDepth)throw new TypeError(`The process: ${t} can not be applied if bitDepth is not identical in all images`);if((void 0===e.sameColorModel||e.sameColorModel)&&this[0].colorModel!==this[r].colorModel)throw new TypeError(`The process: ${t} can not be applied if colorModel is not identical in all images`);if((void 0===e.sameNumberChannels||e.sameNumberChannels)&&this[0].channels!==this[r].channels)throw new TypeError(`The process: ${t} can not be applied if channels is not identical in all images`)}}}Array[Symbol.species]||(di.prototype.map=function(t,e){if("function"!==typeof t)throw new TypeError(`${t} is not a function`);let r=new di(this.length);for(let n=0;n<this.length;n++)r[n]=t.call(e,this[n],n,this);return r}),function(t){t.extendMethod("matchAndCrop",ei),t.extendMethod("getMin",ri),t.extendMethod("getMax",ni),t.extendMethod("getMedian",ai),t.extendMethod("getHistogram",si),t.extendMethod("getHistograms",li),t.extendMethod("getAverage",hi),t.extendMethod("getAverageImage",hi),t.extendMethod("getMaxImage",ui),t.extendMethod("getMinImage",ci)}(di);const pi=/^data:[a-z]+\/(?:[a-z]+);base64,/;function mi(t,e,r){const n=Tn()(t);if(n)switch(n.mime){case"image/png":return function(t){const e=function(t,e){return new Gr(t,e).decode()}(t);let r,n=e.channels,i=0;2===n||4===n?(r=n-1,i=1):r=n;if(e.palette)return function(t){const e=t.width*t.height,r=t.palette[0].length,n=new Uint8Array(e*r),i=8/t.depth,o=t.depth<8?i:1,a=parseInt("1".repeat(t.depth),2),s=4===r;let l=0;for(let h=0;h<e;h++){const e=Math.floor(h/o);let r=t.data[e];t.depth<8&&(r=r>>>t.depth*(i-1-h%i)&a);const u=t.palette[r];n[l++]=u[0],n[l++]=u[1],n[l++]=u[2],s&&(n[l++]=u[3])}return new Sl(t.width,t.height,n,{components:3,alpha:s,bitDepth:8})}(e);return new Sl(e.width,e.height,e.data,{components:r,alpha:i,bitDepth:e.depth})}(t);case"image/jpeg":return function(t){const e=(0,Dn.decode)(t);let r;e.exif&&(r=gi(e.exif));const n=(0,ln.decode)(t,{useTArray:!0,maxMemoryUsageInMB:1024});let i=new Sl(n.width,n.height,n.data,{meta:r});if(r&&r.tiff.tags.Orientation){const t=r.tiff.tags.Orientation;t>2&&(i=i.rotate({3:180,4:180,5:90,6:90,7:270,8:270}[t])),[2,4,5,7].includes(t)&&(i=i.flipX())}return i}(t);case"image/tiff":return function(t,e){let r=function(t,e){return new Jn(t).decode(e)}(t);return 1===r.length?wi(r[0],e):new di(r.map((function(t){return wi(t,e)})))}(t,r);default:return bi(i(n.mime))}return bi(i("application/octet-stream"));function i(r){return e||cn(t,r)}}function gi(t){const e={tiff:{fields:t.fields,tags:t.map}};return t.exif&&(e.exif=t.exif),t.gps&&(e.gps=t.gps),e}function wi(t,e){if(e||3!==t.type)return new Sl(t.width,t.height,t.data,{components:2===t.type?3:1,alpha:t.alpha,colorModel:2===t.type?_n:xn,bitDepth:t.bitsPerSample.length?t.bitsPerSample[0]:t.bitsPerSample,meta:gi(t)});{const e=new Uint16Array(3*t.width*t.height),r=t.palette;let n=0;for(let i=0;i<t.data.length;i++){const o=r[t.data[i]];e[n++]=o[0],e[n++]=o[1],e[n++]=o[2]}return new Sl(t.width,t.height,e,{components:3,alpha:t.alpha,colorModel:_n,bitDepth:16,meta:gi(t)})}}function bi(t,e){return e=e||{},new Promise((function(r,n){let i=new dn;i.onload=function(){let t=i.width,n=i.height,o=pn(t,n).getContext("2d");o.drawImage(i,0,0,t,n);let a=o.getImageData(0,0,t,n).data;r(new Sl(t,n,a,e))},i.onerror=function(){n(new Error(`Could not load ${t}`))},i.src=t}))}const yi={getValueXY(t,e,r){return this.data[(e*this.width+t)*this.channels+r]},setValueXY(t,e,r,n){return this.data[(e*this.width+t)*this.channels+r]=n,this.computed=null,this},getValue(t,e){return this.data[t*this.channels+e]},setValue(t,e,r){return this.data[t*this.channels+e]=r,this.computed=null,this},getPixelXY(t,e){return this.getPixel(e*this.width+t)},setPixelXY(t,e,r){return this.setPixel(e*this.width+t,r)},getPixel(t){const e=new Array(this.channels),r=t*this.channels;for(let n=0;n<this.channels;n++)e[n]=this.data[r+n];return e},setPixel(t,e){const r=t*this.channels;for(let n=0;n<e.length;n++)this.data[r+n]=e[n];return this.computed=null,this}};function vi(t){return{width:t.width,height:t.height,components:t.components,alpha:t.alpha,colorModel:t.colorModel,bitDepth:t.bitDepth}}function xi(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{out:i}=e;if(void 0===i)return n.copy?t.clone():Sl.createFrom(t,r);{if(!Sl.isImage(i))throw new TypeError("out must be an Image object");const e=Object.assign(vi(t),r);for(const t in e)if(i[t]!==e[t])throw new RangeError(`cannot use out. Its ${t} must be "${e[t]}" (found "${i[t]}")`);return i}}function _i(t,e,r){if(void 0!==e.inPlace&&"boolean"!==typeof e.inPlace)throw new TypeError("inPlace option must be a boolean");if(e.inPlace){if(void 0!==e.out)throw new TypeError("out option must not be set if inPlace option is true");return t}return xi(t,e,null,r)}function ki(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.checkProcessable("abs",{bitDepth:[32]});const e=_i(this,t);return function(t,e){for(let r=0;r<t.data.length;r++)e.data[r]=Math.abs(t.data[r])}(this,e),e}function Mi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.checkProcessable("invert",{bitDepth:[1,8,16]});const e=_i(this,t);return 1===this.bitDepth?function(t,e){for(let r=0;r<t.data.length;r++)e.data[r]=~t.data[r]}(this,e):(function(t,e){for(let r=0;r<t.data.length;r+=t.channels)for(let n=0;n<t.components;n++)e.data[r+n]=t.maxValue-t.data[r+n]}(this,e),this!==e&&function(t,e){if(1===t.alpha&&1===e.alpha)for(let r=0;r<t.size;r++)e.data[r*e.channels+e.components]=t.data[r*t.channels+t.components]}(this,e)),e}function Si(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(let t=0;t<this.height;t++){let e=t*this.width*this.channels;for(let t=0;t<Math.floor(this.width/2);t++){let r=t*this.channels+e,n=(this.width-t-1)*this.channels+e;for(let t=0;t<this.channels;t++){let e=this.data[r+t];this.data[r+t]=this.data[n+t],this.data[n+t]=e}}}return this}function Ei(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(let t=0;t<Math.floor(this.height/2);t++)for(let e=0;e<this.width;e++){let r=e*this.channels+t*this.width*this.channels,n=e*this.channels+(this.height-1-t)*this.channels*this.width;for(let t=0;t<this.channels;t++){let e=this.data[r+t];this.data[r+t]=this.data[n+t],this.data[n+t]=e}}return this}function Ai(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{radius:e=1}=t;if(e<1)throw new Error("radius must be greater than 1");const r=2*e+1,n=new Array(r);for(let i=0;i<r;i++){n[i]=new Array(r);for(let t=0;t<r;t++)n[i][t]=1/(r*r)}return this.convolution(n)}var Ci=r(9080),Pi=r.n(Ci);function Di(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{channels:r,allowAlpha:n,defaultAlpha:i}=e;return"boolean"!==typeof n&&(n=!0),"undefined"===typeof r?function(t,e){let r=e?t.channels:t.components,n=new Array(r);for(let i=0;i<r;i++)n[i]=i;return n}(t,i):function(t,e,r){Array.isArray(e)||(e=[e]);for(let n=0;n<e.length;n++)e[n]=Ii(t,e[n],r);return e}(t,r,n)}function Ii(t,e){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new RangeError(`validateChannel : the channel has to be >=0 and <${t.channels}`);if("string"===typeof e){switch(t.colorModel){case xn:break;case _n:if("rgb".includes(e))switch(e){case"r":e=0;break;case"g":e=1;break;case"b":e=2}break;case kn:if("hsl".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"l":e=2}break;case Mn:if("hsv".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"v":e=2}break;case Sn:if("cmyk".includes(e))switch(e){case"c":e=0;break;case"m":e=1;break;case"y":e=2;break;case"k":e=3}break;default:throw new Error(`Unexpected color model: ${t.colorModel}`)}if("a"===e){if(!t.alpha)throw new Error("validateChannel : the image does not contain alpha channel");e=t.components}if("string"===typeof e)throw new Error(`validateChannel : undefined channel: ${e}`)}if(e>=t.channels)throw new RangeError(`validateChannel : the channel has to be >=0 and <${t.channels}`);if(!r&&e>=t.components)throw new RangeError("validateChannel : alpha channel may not be selected");return e}function Ti(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{radius:e=1,border:r="copy",channels:n}=t;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),e<1)throw new Error("radius must be greater than 0");n=Di(this,n,!0);let i=e,o=e,a=Sl.createFrom(this),s=new Array((2*i+1)*(2*o+1));for(let l=0;l<n.length;l++){let t=n[l];for(let e=o;e<this.height-o;e++)for(let r=i;r<this.width-i;r++){let n=0;for(let a=-o;a<=o;a++)for(let o=-i;o<=i;o++){let i=((e+a)*this.width+r+o)*this.channels+t;s[n++]=this.data[i]}let l=(e*this.width+r)*this.channels+t;a.data[l]=Pi()(s)}}if(this.alpha&&!n.includes(this.channels))for(let l=this.components;l<this.data.length;l+=this.channels)a.data[l]=this.data[l];return a.setBorder({size:[i,o],algorithm:r}),a}function Ri(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{radius:e=1,sigma:r,channels:n,border:i="copy"}=t;this.checkProcessable("gaussian",{bitDepth:[8,16]});const o=function(t,e){const r=2*t+1,n=new Array(r),i=e||.3*(.5*(r-1)-1)+.8,o=-.5/(i*i);let a=0;for(let s=0;s<r;s++){const e=s-t,r=Math.exp(o*e*e);n[s]=r,a+=r}for(let s=0;s<r;s++)n[s]/=a;return n}(e,r);return this.convolution([o,o],{border:i,channels:n,algorithm:"separable"})}const Ni=[[0,1,0],[1,-4,1],[0,1,0]],Li=[[1,1,1],[1,-8,1],[1,1,1]],zi=[[-1,0,1],[-2,0,2],[-1,0,1]],Bi=[[-1,-2,-1],[0,0,0],[1,2,1]],Fi=[[3,0,-3],[10,0,-10],[3,0,-3]],Ui=[[3,10,3],[0,0,0],[-3,-10,-3]],Oi=[[-1,-2,0,2,1],[-2,-4,0,4,2],[0,0,0,0,0],[1,2,0,-2,-1],[2,4,0,-4,-2]],Vi=[[1,2,0,-2,-1],[2,4,0,-4,-2],[0,0,0,0,0],[-2,-4,0,4,2],[-1,-2,0,2,1]];var ji=r(8239),Yi=r(9867),Xi=r.n(Yi);function $i(t,e){return Math.round(Math.min(Math.max(t,0),e.maxValue))}function qi(t,e,r){if(void 0===r){const n=t.length+e.length-1;r=new Array(n)}!function(t){for(var e=0;e<t.length;e++)t[e]=0}(r);for(var n=0;n<t.length;n++)for(var i=0;i<e.length;i++)r[n+i]+=t[n]*e[i];return r}r(6849),r(3122);function Hi(t,e,r,n){const i=new Array(t.length);let o,a,s,l;l=e[1],s=(l.length-1)/2,a=new Array(r+l.length-1),o=new Array(r);for(let h=0;h<n;h++){for(let e=0;e<r;e++)o[e]=t[h*r+e];qi(o,l,a);for(let t=0;t<r;t++)i[h*r+t]=a[s+t]}l=e[0],s=(l.length-1)/2,a=new Array(n+l.length-1),o=new Array(n);for(let h=0;h<r;h++){for(let t=0;t<n;t++)o[t]=i[t*r+h];qi(o,l,a);for(let t=0;t<n;t++)i[t*r+h]=a[s+t]}return i}var Gi=r(6832);Gi.AbstractMatrix,Gi.CHO,Gi.CholeskyDecomposition,Gi.DistanceMatrix,Gi.EVD,Gi.EigenvalueDecomposition,Gi.LU,Gi.LuDecomposition;const Wi=Gi.Matrix,Ki=(Gi.MatrixColumnSelectionView,Gi.MatrixColumnView,Gi.MatrixFlipColumnView,Gi.MatrixFlipRowView,Gi.MatrixRowSelectionView,Gi.MatrixRowView,Gi.MatrixSelectionView,Gi.MatrixSubView,Gi.MatrixTransposeView,Gi.NIPALS,Gi.Nipals,Gi.QR,Gi.QrDecomposition,Gi.SVD),Zi=Gi.SingularValueDecomposition,Qi=(Gi.SymmetricMatrix,Gi.WrapperMatrix1D,Gi.WrapperMatrix2D,Gi.correlation,Gi.covariance,Gi.Matrix,Gi.Matrix,Gi.determinant,Gi.inverse),Ji=(Gi.linearDependencies,Gi.pseudoInverse,Gi.solve);Gi.wrap;function to(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{channels:r,bitDepth:n,normalize:i=!1,divisor:o=1,border:a="copy",algorithm:s="auto"}=e,l={};n&&(l.bitDepth=n);let h,u,c=Sl.createFrom(this,l);if(r=Di(this,r,!0),"separable"!==s)({kernel:t}=function(t){let e,r;if(!Array.isArray(t))throw new Error(`validateKernel: Invalid Kernel: ${t}`);if(Array.isArray(t[0])){if(0===(1&t.length)||0===(1&t[0].length))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");e=Math.floor(t.length/2),r=Math.floor(t[0].length/2)}else{let n=Math.sqrt(t.length);if(!Xi()(n))throw new RangeError("validateKernel: Kernel array should be a square");r=e=Math.floor(Math.sqrt(t.length)/2);let i=new Array(n);for(let e=0;e<n;e++){i[e]=new Array(n);for(let r=0;r<n;r++)i[e][r]=t[e*n+r]}t=i}return{kernel:t,kWidth:r,kHeight:e}}(t));else if(!Array.isArray(t)||2!==t.length)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if("auto"===s){let e=function(t){const e=new Ki(t,{autoTranspose:!0});if(1!==e.rank)return null;const r=Math.sqrt(e.s[0]);return[e.U.to2DArray().map((t=>t[0]*r)),e.V.to2DArray().map((t=>t[0]*r))]}(t);null!==e?(s="separable",t=e):s=(t.length>9||t[0].length>9)&&this.width<=4096&&this.height<=4096?"fft":"direct"}"separable"===s?(h=Math.floor(t[0].length/2),u=Math.floor(t[1].length/2)):(h=Math.floor(t.length/2),u=Math.floor(t[0].length/2));let f,d,p,m,g,w,b=c.isClamped,y=new Array(this.height*this.width);for(m=0;m<r.length;m++){for(g=r[m],p=0;p<this.height;p++)for(d=0;d<this.width;d++)f=p*this.width+d,y[f]=this.data[f*this.channels+g];if("direct"===s)w=(0,ji.direct)(y,t,{rows:this.height,cols:this.width,normalize:i,divisor:o});else if("separable"===s){if(w=Hi(y,t,this.width,this.height),i){o=0;for(let e=0;e<t[0].length;e++)for(let r=0;r<t[1].length;r++)o+=t[0][e]*t[1][r]}if(1!==o)for(let t=0;t<w.length;t++)w[t]/=o}else w=(0,ji.fft)(y,t,{rows:this.height,cols:this.width,normalize:i,divisor:o});for(p=0;p<this.height;p++)for(d=0;d<this.width;d++)f=p*this.width+d,c.data[f*this.channels+g]=b?$i(w[f],c):w[f]}if(this.alpha&&!r.includes(this.channels))for(d=this.components;d<this.data.length;d+=this.channels)c.data[d]=this.data[d];return"periodic"!==a&&c.setBorder({size:[u,h],algorithm:a}),c}function eo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{direction:e="xy",border:r="copy",kernelX:n,kernelY:i,channels:o,bitDepth:a=this.bitDepth}=t;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),e){case"x":if(!n)throw new Error("kernelX option is missing");return to.call(this,n,{channels:o,border:r,bitDepth:a});case"y":if(!i)throw new Error("kernelY option is missing");return to.call(this,i,{channels:o,border:r,bitDepth:a});case"xy":{if(!n)throw new Error("kernelX option is missing");if(!i)throw new Error("kernelY option is missing");const t=to.call(this,n,{channels:o,border:r,bitDepth:32}),e=to.call(this,i,{channels:o,border:r,bitDepth:32});return t.hypotenuse(e,{bitDepth:a,channels:o})}default:throw new Error(`Unknown parameter direction: ${e}`)}}function ro(t){return eo.call(this,Object.assign({},t,{kernelX:zi,kernelY:Bi}))}function no(t){return eo.call(this,Object.assign({},t,{kernelX:Fi,kernelY:Ui}))}var io=r(5198),oo=r.n(io);function ao(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{algorithm:e="range",channels:r,min:n=this.min,max:i=this.max}=t;if(this.checkProcessable("level",{bitDepth:[8,16,32]}),r=Di(this,{channels:r}),r.length!==this.channel&&(Array.isArray(n)&&n.length===this.channels&&(n=n.filter(((t,e)=>r.includes(e)))),Array.isArray(i)&&i.length===this.channels&&(i=i.filter(((t,e)=>r.includes(e))))),"range"!==e)throw new Error(`level: algorithm not implement: ${e}`);return n<0&&(n=0),i>this.maxValue&&(i=this.maxValue),Array.isArray(n)||(n=oo()(r.length,n)),Array.isArray(i)||(i=oo()(r.length,i)),function(t,e,r,n){let i=1e-5,o=new Array(n.length);for(let a=0;a<n.length;a++)0===e[a]&&r[a]===t.maxValue||r[a]===e[a]?o[a]=0:o[a]=(t.maxValue+1-i)/(r[a]-e[a]),e[a]+=(.5-i/2)/o[a];for(let a=0;a<n.length;a++){let r=n[a];if(0!==o[a])for(let n=0;n<t.data.length;n+=t.channels)t.data[n+r]=Math.min(Math.max(0,(t.data[n+r]-e[a])*o[a]+.5|0),t.maxValue)}}(this,n,i,r),this}var so=r(2516),lo=r.n(so);function ho(t){if(isNaN(t)){if(t instanceof Sl)return t.data;if(!lo()(t))throw new Error("checkNumberArray: the value should be either a number, array or Image");return t}if(t<=0)throw new Error("checkNumberArray: the value must be greater than 0");return t}function uo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{channels:r}=e;if(this.checkProcessable("add",{bitDepth:[8,16]}),r=Di(this,{channels:r}),t=ho(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("add: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]+t[e+n]|0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]+t|0)}return this}function co(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{channels:r}=e;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),r=Di(this,{channels:r}),t=ho(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("subtract: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]-t[e+n]|0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.max(0,this.data[r+e]-t|0)}return this}function fo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{channels:r,absolute:n=!1}=e;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==t.width||this.height!==t.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("subtractImage: both images must have the same number of channels");let i=this.clone();r=Di(this,{channels:r});for(let o=0;o<r.length;o++){for(let e=r[o];e<this.data.length;e+=this.channels){let r=this.data[e]-t.data[e];i.data[e]=n?Math.abs(r):Math.max(r,0)}}return i}function po(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{bitDepth:r=this.bitDepth,channels:n}=e;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==t.width||this.height!==t.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("hypotenuse: both images must have the same number of channels");let i=Sl.createFrom(this,{bitDepth:r});n=Di(this,{channels:n});let o=i.isClamped;for(let a=0;a<n.length;a++){for(let e=n[a];e<this.data.length;e+=this.channels){let r=Math.hypot(this.data[e],t.data[e]);i.data[e]=o?Math.min(Math.max(Math.round(r),0),i.maxValue):r}}return i}function mo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{channels:r}=e;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),t<=0)throw new Error("multiply: the value must be greater than 0");if(r=Di(this,{channels:r}),t=ho(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("multiply: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]*t[e+n]|0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]*t|0)}return this}function go(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{channels:r}=e;if(this.checkProcessable("divide",{bitDepth:[8,16]}),r=Di(this,{channels:r}),t=ho(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("divide: the: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]/t[e+n]|0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]/t|0)}return this}var wo=r(6889);class bo{constructor(){if(new.target===bo)throw new Error("BaseRegression must be subclassed")}predict(t){if("number"===typeof t)return this._predict(t);if((0,wo.isAnyArray)(t)){const e=[];for(let r=0;r<t.length;r++)e.push(this._predict(t[r]));return e}throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(t,e){if(!(0,wo.isAnyArray)(t)||!(0,wo.isAnyArray)(e)||t.length!==e.length)throw new Error("x and y must be arrays of the same length");const r=t.length,n=new Array(r);for(let f=0;f<r;f++)n[f]=this._predict(t[f]);let i=0,o=0,a=0,s=0,l=0,h=0,u=0;for(let f=0;f<r;f++)i+=n[f],o+=e[f],l+=n[f]*n[f],h+=e[f]*e[f],u+=n[f]*e[f],0!==e[f]&&(a+=(e[f]-n[f])*(e[f]-n[f])/e[f]),s+=(e[f]-n[f])*(e[f]-n[f]);const c=(r*u-i*o)/Math.sqrt((r*l-i*i)*(r*h-o*o));return{r:c,r2:c*c,chi2:a,rmsd:Math.sqrt(s/r)}}}var yo=r(47),vo=r.n(yo);const xo={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1};class _o extends bo{constructor(t,e,r){if(super(),!0===t)this.alpha=e.alpha,this.inputs=e.inputs,this.kernelType=e.kernelType,this.kernelOptions=e.kernelOptions,this.kernel=new(vo())(e.kernelType,e.kernelOptions);else{t=Wi.checkMatrix(t),r=Object.assign({},xo,r);const n=new(vo())(r.kernelType,r.kernelOptions),i=n.compute(t),o=t.rows;i.add(Wi.eye(o,o).mul(r.lambda)),this.alpha=Ji(i,e),this.inputs=t,this.kernelType=r.kernelType,this.kernelOptions=r.kernelOptions,this.kernel=n}}_predict(t){return this.kernel.compute([t],this.inputs).mmul(this.alpha).getRow(0)}toJSON(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(t){if("kernelRidgeRegression"!==t.name)throw new TypeError("not a KRR model");return new _o(!0,t)}}function ko(t,e,r){const n=new _o(t,e,r),i=new Array(this.size);for(let s=0;s<this.width;s++)for(let t=0;t<this.height;t++)i[t*this.width+s]=[s,t];const o=n.predict(i),a=Sl.createFrom(this);for(let s=0;s<this.size;s++)a.data[s]=Math.min(this.maxValue,Math.max(0,o[s][0]));return a}function Mo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");let n=!0;t:for(const o of e)for(const t of o)if(1!==t){n=!1;break t}let i=this;for(let o=0;o<r;o++)if(1===this.bitDepth)if(n){const t=i.clone();i=Co(i,t,e.length,e[0].length)}else{i=Ao(i,Sl.createFrom(i),e)}else if(n){i=Eo(i,Sl.createFrom(i),e.length,e[0].length)}else{i=So(i,Sl.createFrom(i),e)}return i}function So(t,e,r){const n=r.length,i=r[0].length;let o=(n-1)/2,a=(i-1)/2;for(let s=0;s<t.height;s++)for(let l=0;l<t.width;l++){let h=0;for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-o+l,u=e-a+s;if(n<0||u<0||n>=t.width||u>=t.height)continue;const c=t.getValueXY(n,u,0);c>h&&(h=c)}e.setValueXY(l,s,0,h)}return e}function Eo(t,e,r,n){const i=(r-1)/2,o=(n-1)/2,a=[];for(let s=0;s<t.width;s++)a.push(0);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){let r=0;for(let n=Math.max(0,s-o);n<Math.min(t.height,s+o+1);n++){const i=t.getValueXY(e,n,0);i>r&&(r=i)}a[e]=r}for(let r=0;r<t.width;r++){let n=0;for(let e=Math.max(0,r-i);e<Math.min(t.width,r+i+1);e++)a[e]>n&&(n=a[e]);e.setValueXY(r,s,0,n)}}return e}function Ao(t,e,r){const n=r.length,i=r[0].length;let o=(n-1)/2,a=(i-1)/2;for(let s=0;s<t.height;s++)for(let l=0;l<t.width;l++){let h=0;t:for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-o+l,u=e-a+s;if(u<0||n<0||n>=t.width||u>=t.height)continue;if(1===t.getBitXY(n,u)){h=1;break t}}1===h&&e.setBitXY(l,s)}return e}function Co(t,e,r,n){const i=(r-1)/2,o=(n-1)/2,a=[];for(let s=0;s<t.width;s++)a.push(1);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){a[e]=0;for(let r=Math.max(0,s-o);r<Math.min(t.height,s+o+1);r++)if(1===t.getBitXY(e,r)){a[e]=1;break}}for(let r=0;r<t.width;r++)if(1!==e.getBitXY(r,s))for(let n=Math.max(0,r-i);n<Math.min(t.width,r+i+1);n++)if(1===a[n]){e.setBitXY(r,s);break}}return e}function Po(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");let n=!0;t:for(const o of e)for(const t of o)if(1!==t){n=!1;break t}let i=this;for(let o=0;o<r;o++)if(1===this.bitDepth)if(n){const t=i.clone();i=Ro(i,t,e.length,e[0].length)}else{i=To(i,Sl.createFrom(i),e)}else if(n){i=Io(i,Sl.createFrom(i),e.length,e[0].length)}else{i=Do(i,Sl.createFrom(i),e)}return i}function Do(t,e,r){const n=r.length,i=r[0].length;let o=(n-1)/2,a=(i-1)/2;for(let s=0;s<t.height;s++)for(let l=0;l<t.width;l++){let h=t.maxValue;for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-o+l,u=e-a+s;if(n<0||u<0||n>=t.width||u>=t.height)continue;const c=t.getValueXY(n,u,0);c<h&&(h=c)}e.setValueXY(l,s,0,h)}return e}function Io(t,e,r,n){const i=(r-1)/2,o=(n-1)/2,a=[];for(let s=0;s<t.width;s++)a.push(0);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){let r=t.maxValue;for(let n=Math.max(0,s-o);n<Math.min(t.height,s+o+1);n++){const i=t.getValueXY(e,n,0);i<r&&(r=i)}a[e]=r}for(let r=0;r<t.width;r++){let n=t.maxValue;for(let e=Math.max(0,r-i);e<Math.min(t.width,r+i+1);e++)a[e]<n&&(n=a[e]);e.setValueXY(r,s,0,n)}}return e}function To(t,e,r){const n=r.length,i=r[0].length;let o=(n-1)/2,a=(i-1)/2;for(let s=0;s<t.height;s++)for(let l=0;l<t.width;l++){let h=1;t:for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-o+l,u=e-a+s;if(u<0||n<0||n>=t.width||u>=t.height)continue;if(0===t.getBitXY(n,u)){h=0;break t}}1===h&&e.setBitXY(l,s)}return e}function Ro(t,e,r,n){const i=(r-1)/2,o=(n-1)/2,a=[];for(let s=0;s<t.width;s++)a.push(0);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){a[e]=1;for(let r=Math.max(0,s-o);r<Math.min(t.height,s+o+1);r++)if(0===t.getBitXY(e,r)){a[e]=0;break}}for(let r=0;r<t.width;r++)if(0!==e.getBitXY(r,s))for(let n=Math.max(0,r-i);n<Math.min(t.width,r+i+1);n++)if(0===a[n]){e.clearBitXY(r,s);break}}return e}function No(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++)n=n.erode({kernel:e}),n=n.dilate({kernel:e});return n}function Lo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++)n=n.dilate({kernel:e}).erode({kernel:e});return n}function zo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),e.length%2===0||e[0].length%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){let t=n.open({kernel:e});n=t.subtractImage(n,{absolute:!0})}return n}function Bo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){const t=n.close({kernel:e});n=t.subtractImage(n,{absolute:!0})}return n}function Fo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){let t=n.dilate({kernel:e}),r=n.erode({kernel:e});n=t.subtractImage(r,{absolute:!0})}return n}function Uo(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function Oo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Vo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function jo(t,e,r,n,i,o,a,s,l,h,u,c){let[f,d]=[(r*t+n*e+i)/(l*t+h*e+1),(o*t+a*e+s)/(l*t+h*e+1)];return u.getValueXY(Math.floor(f),Math.floor(d),c)}function Yo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{calculateRatio:r=!0}=e;if(4!==t.length)throw new Error(`The array pts must have four elements, which are the four corners. Currently, pts have ${t.length} elements`);let n,i,[o,a,s,l]=t,h=[o,a,s,l],[u,c,f,d]=function(t){let e=0,r=0,n=0,i=0,o=t[0][0],a=0;for(let h=1;h<t.length;h++)t[h][0]<o&&(o=t[h][0],a=h);let s=t[(a+1)%t.length][0],l=(a+1)%t.length;for(let h=1;h<t.length;h++)t[h][0]<s&&h!==a&&(s=t[h][0],l=h);return t[l][1]<t[a][1]?(e=t[l],i=t[a],a!==(l+1)%4?(r=t[(l+1)%4],n=t[(l+2)%4]):(r=t[(l+2)%4],n=t[(l+3)%4])):(i=t[l],e=t[a],l!==(a+1)%4?(r=t[(a+1)%4],n=t[(a+2)%4]):(r=t[(a+2)%4],n=t[(a+3)%4])),[e,r,n,i]}(h);r?[n,i]=function(t,e,r,n,i,o){let a=Math.max(Uo(t,e),Uo(n,r)),s=Math.max(Uo(t,n),Uo(e,r)),l=0,h=0,u=Math.ceil(i/2),c=Math.ceil(o/2),f=a/s,d=[t[0],t[1],1],p=[e[0],e[1],1],m=[n[0],n[1],1],g=[r[0],r[1],1],w=Vo(Oo(d,g),m)/Vo(Oo(p,g),m),b=Vo(Oo(d,g),p)/Vo(Oo(m,g),p),y=[w*p[0]-d[0],w*p[1]-d[1],w*p[2]-d[2]],v=[b*m[0]-d[0],b*m[1]-d[1],b*m[2]-d[2]],x=y[0],_=y[1],k=y[2],M=v[0],S=v[1],E=v[2],A=1/(k*E)*(x*M-(x*E+k*M)*u+k*E*u*u+(_*S-(_*E+k*S)*c+k*E*c*c));A=A>=0?Math.sqrt(A):Math.sqrt(-A);let C=new Wi([[A,0,u],[0,A,c],[0,0,1]]),P=C.transpose(),D=Qi(P),I=Qi(C),T=Wi.rowVector(y),R=Wi.rowVector(v),N=Math.sqrt(Vo(T.mmul(D).mmul(I).to1DArray(),y)/Vo(R.mmul(D).mmul(I).to1DArray(),v));return 0===N||0===f?(l=Math.ceil(a),h=Math.ceil(s)):N<f?(l=Math.ceil(a),h=Math.ceil(l/N)):(h=Math.ceil(s),l=Math.ceil(N*h)),[l,h]}(u,c,f,d,this.width,this.height):(n=Math.ceil(Math.max(Uo(u,c),Uo(d,f))),i=Math.ceil(Math.max(Uo(u,d),Uo(c,f))));let p=Sl.createFrom(this,{width:n,height:i}),[m,g]=u,[w,b]=c,[y,v]=f,[x,_]=d,[k,M]=[0,0],[S,E]=[0,n-1],[A,C]=[i-1,n-1],[P,D]=[i-1,0],I=new Wi([[k,M,1,0,0,0,-k*m,-M*m],[S,E,1,0,0,0,-S*w,-E*w],[A,C,1,0,0,0,-A*y,-M*y],[P,D,1,0,0,0,-P*x,-D*x],[0,0,0,k,M,1,-k*g,-M*g],[0,0,0,S,E,1,-S*b,-E*b],[0,0,0,A,C,1,-A*v,-C*v],[0,0,0,P,D,1,-P*_,-D*_]]),T=Wi.columnVector([m,w,y,x,g,b,v,_]),R=new Zi(I).solve(T),[N,L,z,B,F,U,O,V]=R.to1DArray(),j=new Wi(i,n);for(let Y=0;Y<this.channels;Y++){for(let t=0;t<i;t++)for(let e=0;e<n;e++)j.set(t,e,jo(t,e,N,L,z,B,F,U,O,V,this,Y));p.setMatrix(j,{channel:Y})}return p}function Xo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{x:e=0,y:r=0,width:n=this.width-e,height:i=this.height-r}=t;if(this.checkProcessable("crop",{bitDepth:[1,8,16]}),e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),e>this.width-1||r>this.height-1)throw new RangeError(`crop: origin (x:${e}, y:${r}) out of range (${this.width-1}; ${this.height-1})`);if(n<=0||i<=0)throw new RangeError(`crop: width and height (width:${n}; height:${i}) must be positive numbers`);if(e<0||r<0)throw new RangeError(`crop: x and y (x:${e}, y:${r}) must be positive numbers`);if(n>this.width-e||i>this.height-r)throw new RangeError(`crop: (x: ${e}, y:${r}, width:${n}, height:${i}) size is out of range`);let o=this;if(1===this.bitDepth){o=function(t,e,r,n,i,o){let a=i*t.channels,s=n+o,l=0,h=r*t.channels;for(let u=n;u<s;u++){let r=u*t.width*t.channels+h,n=r+a;for(;r<n;r++)t.getBit(r)&&e.setBit(l),++l}return e}(this,new Sl(n,i,{kind:"BINARY",parent:this}),e,r,n,i)}else{o=function(t,e,r,n,i,o){let a=i*t.channels,s=n+o,l=0,h=r*t.channels;for(let u=n;u<s;u++){let r=u*t.width*t.channels+h,n=r+a;for(;r<n;r++)e.data[l++]=t.data[r]}return e}(this,Sl.createFrom(this,{width:n,height:i,position:[e,r]}),e,r,n,i)}return o}function $o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.checkProcessable("cropAlpha",{alpha:1});const{threshold:e=this.maxValue}=t;let r=function(t,e,r){for(let n=0;n<t.width;n++)for(let i=0;i<t.height;i++)if(t.getValueXY(n,i,r)>=e)return n;return-1}(this,e,this.components);if(-1===r)throw new Error("Could not find new dimensions. Threshold may be too high.");let n=function(t,e,r,n){for(let i=0;i<t.height;i++)for(let o=n;o<t.width;o++)if(t.getValueXY(o,i,r)>=e)return i;return-1}(this,e,this.components,r),i=function(t,e,r,n){for(let i=t.height-1;i>=0;i--)for(let o=n;o<t.width;o++)if(t.getValueXY(o,i,r)>=e)return i;return-1}(this,e,this.components,r),o=function(t,e,r,n,i,o){for(let a=t.width-1;a>=n;a--)for(let n=i;n<=o;n++)if(t.getValueXY(a,n,r)>=e)return a;return-1}(this,e,this.components,r,n,i);return this.crop({x:r,y:n,width:o-r+1,height:i-n+1})}function qo(t,e,r){t=function(t){if("string"===typeof t){const e=t[t.length-1];t=parseFloat(t),"%"===e&&(t/=100)}return t}(t);let n=Math.round(t*e),i=Math.round(t*r);return n<=0&&(n=1),i<=0&&(i=1),{width:n,height:i}}function Ho(t,e){if(e<0||e>=t.channels)throw new RangeError(`channel must be included between 0 and ${t.channels-1}. Current value: ${e}`)}const Go={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function Wo(t){if("string"!==typeof t)throw new TypeError("interpolation must be a string");if(t=t.toLowerCase(),!Go[t])throw new RangeError(`invalid interpolation algorithm: ${t}`);return Go[t]}function Ko(t,e,r){const n=this.width/e,i=this.height/r;if(this.bitDepth>1)for(let o=0;o<e;o++){const e=Math.floor((o+.5)*n);for(let n=0;n<r;n++){const r=Math.floor((n+.5)*i);for(let i=0;i<this.channels;i++)t.setValueXY(o,n,i,this.getValueXY(e,r,i))}}else for(let o=0;o<e;o++){const e=Math.floor((o+.5)*n);for(let n=0;n<r;n++){const r=Math.floor((n+.5)*i);this.getBitXY(e,r)&&t.setBitXY(o,n)}}}function Zo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{factor:e=1,interpolation:r=Go.nearestneighbor,preserveAspectRatio:n=!0}=t,i=Wo(r);let o=t.width,a=t.height;if(o||(o=a&&n?Math.round(a*(this.width/this.height)):this.width),a||(a=n?Math.round(o*(this.height/this.width)):this.height),({width:o,height:a}=qo(e,o,a)),o===this.width&&a===this.height){const t=this.clone();return t.position=[0,0],t}let s=Math.round((this.width-o)/2),l=Math.round((this.height-a)/2);const h=Sl.createFrom(this,{width:o,height:a,position:[s,l]});if(i!==Go.nearestneighbor)throw new Error(`unsupported resize interpolation: ${i}`);return Ko.call(this,h,o,a),h}function Qo(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[_n]});let t=Sl.createFrom(this,{colorModel:Mn}),e=0,r=this.data;for(let n=0;n<r.length;n+=this.channels){let i=r[n],o=r[n+1],a=r[n+2],s=Math.min(i,o,a),l=Math.max(i,o,a),h=l-s,u=0,c=0===l?0:h/l,f=l;if(l!==s){switch(l){case i:u=(o-a)/h+(o<a?6:0);break;case o:u=(a-i)/h+2;break;case a:u=(i-o)/h+4;break;default:throw new Error("unreachable")}u/=6}t.data[e++]=u*this.maxValue,t.data[e++]=c*this.maxValue,t.data[e++]=f,this.alpha&&(t.data[e++]=r[n+3])}return t}function Jo(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[_n]});let t=Sl.createFrom(this,{colorModel:kn}),e=Math.floor(this.maxValue/2),r=0,n=this.data;for(let i=0;i<n.length;i+=this.channels){let o=n[i],a=n[i+1],s=n[i+2],l=Math.max(o,a,s),h=Math.min(o,a,s),u=0,c=0,f=(l+h)/2;if(l!==h){let t=l-h;switch(c=f>e?t/(2-l-h):t/(l+h),l){case o:u=(a-s)/t+(a<s?6:0);break;case a:u=(s-o)/t+2;break;case s:u=(o-a)/t+4;break;default:throw new Error("unreachable")}u/=6}t.data[r++]=u*this.maxValue,t.data[r++]=c*this.maxValue,t.data[r++]=f,this.alpha&&(t.data[r++]=n[i+3])}return t}function ta(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[_n]});let t=Sl.createFrom(this,{components:4,colorModel:Sn}),e=0,r=this.data;for(let n=0;n<r.length;n+=this.channels){let i=r[n],o=r[n+1],a=r[n+2],s=Math.min(this.maxValue-i,this.maxValue-o,this.maxValue-a),l=(this.maxValue-i-s)/(1-s/this.maxValue),h=(this.maxValue-o-s)/(1-s/this.maxValue),u=(this.maxValue-a-s)/(1-s/this.maxValue);t.data[e++]=Math.round(l),t.data[e++]=Math.round(h),t.data[e++]=Math.round(u),t.data[e++]=Math.round(s),this.alpha&&(t.data[e++]=r[n+3])}return t}function ea(){return new Sl(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}const ra={luma709:(t,e,r)=>6966*t+23436*e+2366*r>>15,luma601:(t,e,r)=>9798*t+19235*e+3735*r>>15,maximum:(t,e,r)=>Math.max(t,e,r),minimum:(t,e,r)=>Math.min(t,e,r),average:(t,e,r)=>(t+e+r)/3|0,minmax:(t,e,r)=>(Math.max(t,e,r)+Math.min(t,e,r))/2,red:t=>t,green:(t,e)=>e,blue:(t,e,r)=>r,cyan(t,e,r,n){let i=ra.black(t,e,r,n);return(n.maxValue-t-i)/(1-i/n.maxValue)|0},magenta(t,e,r,n){let i=ra.black(t,e,r,n);return(n.maxValue-e-i)/(1-i/n.maxValue)|0},yellow(t,e,r,n){let i=ra.black(t,e,r,n);return(n.maxValue-r-i)/(1-i/n.maxValue)|0},black:(t,e,r,n)=>Math.min(n.maxValue-t,n.maxValue-e,n.maxValue-r),hue(t,e,r,n){let i=ra.min(t,e,r),o=ra.max(t,e,r);if(o===i)return 0;let a=0,s=o-i;switch(o){case t:a=(e-r)/s+(e<r?6:0);break;case e:a=(r-t)/s+2;break;case r:a=(t-e)/s+4;break;default:throw new Error("unreachable")}return a/6*n.maxValue|0},saturation(t,e,r,n){let i=ra.min(t,e,r),o=ra.max(t,e,r);return 0===o?0:(o-i)/o*n.maxValue},lightness(t,e,r){let n=ra.min(t,e,r);return(ra.max(t,e,r)+n)/2}};Object.defineProperty(ra,"luminosity",{enumerable:!1,value:ra.lightness}),Object.defineProperty(ra,"luminance",{enumerable:!1,value:ra.lightness}),Object.defineProperty(ra,"min",{enumerable:!1,value:ra.minimum}),Object.defineProperty(ra,"max",{enumerable:!1,value:ra.maximum}),Object.defineProperty(ra,"brightness",{enumerable:!1,value:ra.maximum});const na={};function ia(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{algorithm:e="luma709",keepAlpha:r=!1,mergeAlpha:n=!0}=t;if("string"!==typeof e&&"function"!==typeof e)throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),1===this.components&&(e="red"),r&=this.alpha,n&=this.alpha,r&&(n=!1);let i,o=xi(this,t,{components:1,alpha:r,colorModel:xn});if("function"===typeof e)i=e;else if(i=ra[e.toLowerCase()],!i)throw new Error(`unsupported grey algorithm: ${e}`);let a=0;for(let s=0;s<this.data.length;s+=this.channels)n?o.data[a++]=$i(i(this.data[s],this.data[s+1],this.data[s+2],this)*this.data[s+this.components]/this.maxValue,this):(o.data[a++]=$i(i(this.data[s],this.data[s+1],this.data[s+2],this),this),o.alpha&&(o.data[a++]=this.data[s+this.components]));return o}function oa(t){let e=!1,r=0;for(let n=1;n<t.length-1;n++)if(t[n-1]<t[n]&&t[n+1]<t[n]&&(r++,r>2))return!1;return 2===r&&(e=!0),e}function aa(t,e){let r=0;for(let n=0;n<=e;n++)r+=t[n];return r}function sa(t,e){let r=0;for(let n=0;n<=e;n++)r+=n*t[n];return r}function la(t,e){let r=0;for(let n=0;n<=e;n++)r+=n*n*t[n];return r}function ha(t){let e=new Array(t.length);for(let r=1;r<t.length-1;r++)e[r]=(t[r-1]+t[r]+t[r+1])/3;return e[0]=(t[0]+t[1])/3,e[t.length-1]=(t[t.length-2]+t[t.length-1])/3,e}function ua(t){let e=t.length,r=!1,n=0;for(let i=1;i<e-1;i++)if(t[i-1]<t[i]&&t[i+1]<t[i]&&(n++,n>2))return!1;return 2===n&&(r=!0),r}function ca(t,e){let r=0;for(let n=0;n<=e;n++)r+=t[n];return r}Object.keys(ra).forEach((t=>{na[t]=t}));const fa={huang:function(t){let e=0;for(let u=0;u<t.length;u++)if(0!==t[u]){e=u;break}let r=t.length-1;for(let u=t.length-1;u>=e;u--)if(0!==t[u]){r=u;break}let n=1/(r-e),i=new Array(t.length),o=0,a=0;for(let u=e;u<t.length;u++)o+=u*t[u],a+=t[u],i[u]=o/a;let s=new Array(t.length);o=a=0;for(let u=r;u>0;u--)o+=u*t[u],a+=t[u],s[u-1]=o/a;let l=-1,h=Number.MAX_VALUE;for(let u=0;u<t.length;u++){let e,r=0;for(let o=0;o<=u;o++)e=1/(1+n*Math.abs(o-i[u])),e<1e-6||e>.999999||(r+=t[o]*(-e*Math.log(e)-(1-e)*Math.log(1-e)));for(let i=u+1;i<t.length;i++)e=1/(1+n*Math.abs(i-s[u])),e<1e-6||e>.999999||(r+=t[i]*(-e*Math.log(e)-(1-e)*Math.log(1-e)));r<h&&(h=r,l=u)}return l},intermodes:function(t){let e=t.slice(),r=0;for(;!oa(e);){let n=0,i=0,o=e[0];for(let r=0;r<t.length-1;r++)n=i,i=o,o=e[r+1],e[r]=(n+i+o)/3;if(e[t.length-1]=(i+o)/3,r++,r>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let n=0;for(let i=1;i<t.length-1;i++)e[i-1]<e[i]&&e[i+1]<e[i]&&(n+=i);return Math.floor(n/2)},isodata:function(t){let e,r,n,i,o=0;for(let a=1;a<t.length;a++)if(t[a]>0){o=a+1;break}for(;;){e=0,n=0;for(let r=0;r<o;r++)n+=t[r],e+=t[r]*r;i=0,r=0;for(let e=o+1;e<t.length;e++)r+=t[e],i+=t[e]*e;if(n>0&&r>0&&(e/=n,i/=r,o===Math.round((e+i)/2)))break;if(o++,o>t.length-2)throw new Error("Threshold not found")}return o},li:function(t,e){let r,n,i,o,a,s,l,h,u,c,f,d;f=.5,c=0;for(let p=0;p<t.length;p++)c+=p*t[p];c/=e,l=c;do{s=l,r=s+.5|0,n=0,o=0;for(let e=0;e<=r;e++)n+=e*t[e],o+=t[e];h=0===o?0:n/o,i=0,a=0;for(let e=r+1;e<t.length;e++)i+=e*t[e],a+=t[e];u=0===a?0:i/a,d=(h-u)/(Math.log(h)-Math.log(u)),l=d<-Number.EPSILON?d-.5|0:d+.5|0}while(Math.abs(l-s)>.5);return r},maxentropy:function(t,e){let r=new Array(t.length);for(let f=0;f<t.length;f++)r[f]=t[f]/e;let n=new Array(t.length),i=new Array(t.length);n[0]=r[0],i[0]=1-n[0];for(let f=1;f<t.length;f++)n[f]=n[f-1]+r[f],i[f]=1-n[f];let o=0;for(let f=0;f<t.length;f++)if(Math.abs(n[f])>=Number.EPSILON){o=f;break}let a=t.length-1;for(let f=t.length-1;f>=o;f--)if(Math.abs(i[f])>=Number.EPSILON){a=f;break}let s,l,h,u=-1,c=Number.MIN_VALUE;for(let f=o;f<=a;f++){l=0;for(let e=0;e<=f;e++)0!==t[e]&&(l-=r[e]/n[f]*Math.log(r[e]/n[f]));h=0;for(let e=f+1;e<t.length;e++)0!==t[e]&&(h-=r[e]/i[f]*Math.log(r[e]/i[f]));s=l+h,c<s&&(c=s,u=f)}return u},mean:function(t,e){let r=0;for(let n=0;n<t.length;n++)r+=n*t[n];return Math.floor(r/e)},minerror:function(t,e){let r,n,i,o,a,s,l,h,u,c,f,d,p=-2,m=0;for(let g=0;g<t.length;g++)m+=g*t[g];for(m/=e,r=m;r!==p;){let e=aa(t,r),m=aa(t,t.length-1),g=sa(t,r),w=sa(t,t.length-1),b=la(t,r);if(n=g/e,i=(w-g)/(m-e),o=e/m,a=(m-e)/m,s=b/e-n*n,l=(la(t,t.length-1)-b)/(m-e)-i*i,h=1/s-1/l,u=n/s-i/l,c=n*n/s-i*i/l+Math.log10(s*(a*a)/(l*(o*o))),f=u*u-h*c,f<0)return r;p=r,d=(u+Math.sqrt(f))/h,r=isNaN(d)?p:Math.floor(d)}return r},minimum:function(t){if(t.length<2)return 0;let e=0,r=-1,n=-1,i=new Array(t.length);for(let o=0;o<t.length;o++)i[o]=t[o],t[o]>0&&(n=o);for(;!ua(i);)if(i=ha(i),e++,e>1e4)return r;return r=function(t,e){let r;for(let n=1;n<e;n++)if(t[n-1]>t[n]&&t[n+1]>=t[n]){r=n;break}return r}(i,n),r},moments:function(t,e){let r,n,i,o,a,s,l=0,h=0,u=0,c=0,f=-1,d=t.length,p=new Array(d);for(let m=0;m<d;m++)p[m]=t[m]/e;for(let m=0;m<d;m++)l+=m*p[m],h+=m*m*p[m],u+=m*m*m*p[m];n=1*h-l*l,i=(-h*h+l*u)/n,o=(1*-u+h*l)/n,a=.5*(-o-Math.sqrt(o*o-4*i)),s=.5*(-o+Math.sqrt(o*o-4*i)),r=(s-l)/(s-a);for(let m=0;m<d;m++)if(c+=p[m],c>r){f=m;break}return f},otsu:function(t,e){let r=0,n=0,i=0,o=0,a=0;for(let s=0;s<t.length;s++)a+=s*t[s];for(let s=0;s<t.length;s++){n+=t[s];const l=e-n;if(0===n||0===l)continue;r+=s*t[s];const h=(a-r)/l,u=n*l*(r/n-h)*(r/n-h);u>=i&&(o=s,i=u)}return o},percentile:function(t){let e=-1,r=new Array(t.length),n=ca(t,t.length-1),i=1;for(let o=0;o<t.length;o++)r[o]=Math.abs(ca(t,o)/n-.5),r[o]<i&&(i=r[o],e=o);return e},renyientropy:function(t,e){let r,n,i,o=new Array(t.length),a=new Array(t.length),s=new Array(t.length),l=0,h=0,u=0,c=0,f=0,d=0;for(let w=0;w<t.length;w++)o[w]=t[w]/e;a[0]=o[0],s[0]=1-a[0];for(let w=1;w<t.length;w++)a[w]=a[w-1]+o[w],s[w]=1-a[w];n=0;for(let w=0;w<t.length;w++)if(Math.abs(a[w])>=Number.EPSILON){n=w;break}i=t.length-1;for(let w=t.length-1;w>=n;w--)if(Math.abs(s[w])>=Number.EPSILON){i=w;break}for(let w=n;w<=i;w++){let e=0,r=0,n=0;for(let s=0;s<=w;s++)0!==t[s]&&(e-=o[s]/a[w]*Math.log(o[s]/a[w])),r+=Math.sqrt(o[s]/a[w]),n+=o[s]*o[s]/(a[w]*a[w]);let i=0,p=0,m=0;for(let a=w+1;a<t.length;a++)0!==t[a]&&(i-=o[a]/s[w]*Math.log(o[a]/s[w])),p+=Math.sqrt(o[a]/s[w]),m+=o[a]*o[a]/(s[w]*s[w]);let g=e+i,b=2*(r*p>0?Math.log(r*p):0),y=-1*(n*m>0?Math.log(n*m):0);g>c&&(c=g,l=w),b>f&&(f=b,h=w),y>d&&(d=y,u=w)}let p,m=[l,h,u];m.sort(((t,e)=>t-e)),p=Math.abs(m[0]-m[1])<=5?Math.abs(m[1]-m[2])<=5?[1,2,1]:[0,1,3]:Math.abs(m[1]-m[2])<=5?[3,1,0]:[1,2,1];let g=a[m[2]]-a[m[0]];return r=Math.round(m[0]*(a[m[0]]+.25*g*p[0])+.25*m[1]*g*p[1]+m[2]*(s[m[2]]+.25*g*p[2])),r},shanbhag:function(t,e){let r=new Array(t.length);for(let d=0;d<t.length;d++)r[d]=t[d]/e;let n=new Array(t.length),i=new Array(t.length);n[0]=r[0],i[0]=1-n[0];for(let d=1;d<t.length;d++)n[d]=n[d-1]+r[d],i[d]=1-n[d];let o=0;for(let d=0;d<t.length;d++)if(Math.abs(n[d])>=Number.EPSILON){o=d;break}let a=t.length-1;for(let d=t.length-1;d>=o;d--)if(Math.abs(i[d])>=Number.EPSILON){a=d;break}let s,l,h,u,c=-1,f=Number.MAX_VALUE;for(let d=o;d<=a;d++){h=0,s=.5/n[d];for(let t=1;t<=d;t++)h-=r[t]*Math.log(1-s*n[t-1]);h*=s,u=0,s=.5/i[d];for(let e=d+1;e<t.length;e++)u-=r[e]*Math.log(1-s*i[e]);u*=s,l=Math.abs(h-u),l<f&&(f=l,c=d)}return c},triangle:function(t){let e=0,r=0,n=0,i=0;for(let c=0;c<t.length;c++)if(t[c]>0){e=c;break}e>0&&e--;for(let c=t.length-1;c>0;c--)if(t[c]>0){i=c;break}i<t.length-1&&i++;for(let c=0;c<t.length;c++)t[c]>r&&(n=c,r=t[c]);let o,a,s,l=!1;if(n-e<i-n){l=!0;let r=0,o=t.length-1;for(;r<o;){let e=t[r];t[r]=t[o],t[o]=e,r++,o--}e=t.length-1-i,n=t.length-1-n}if(e===n)return e;o=t[n],a=e-n,s=Math.sqrt(o*o+a*a),o/=s,a/=s,s=o*e+a*t[e];let h=e,u=0;for(let c=e+1;c<=n;c++){let e=o*c+a*t[c]-s;e>u&&(h=c,u=e)}if(h--,l){let e=0,r=t.length-1;for(;e<r;){let n=t[e];t[e]=t[r],t[r]=n,e++,r--}return t.length-1-h}return h},yen:function(t,e){let r=new Array(t.length);for(let h=0;h<t.length;h++)r[h]=t[h]/e;let n=new Array(t.length);n[0]=r[0];for(let h=1;h<t.length;h++)n[h]=n[h-1]+r[h];let i=new Array(t.length);i[0]=r[0]*r[0];for(let h=1;h<t.length;h++)i[h]=i[h-1]+r[h]*r[h];let o=new Array(t.length);o[t.length-1]=0;for(let h=t.length-2;h>=0;h--)o[h]=o[h+1]+r[h+1]*r[h+1];let a,s=-1,l=Number.MIN_VALUE;for(let h=0;h<t.length;h++)a=-1*(i[h]*o[h]>0?Math.log(i[h]*o[h]):0)+2*(n[h]*(1-n[h])>0?Math.log(n[h]*(1-n[h])):0),a>l&&(l=a,s=h);return s}},da={};function pa(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{algorithm:e=da.otsu}=t;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});let r=fa[e.toLowerCase()];if(r){return r(this.getHistogram(),this.size)}throw new Error(`unknown thresholding algorithm: ${e}`)}Object.keys(fa).forEach((t=>{da[t]=t}));const ma="threshold";function ga(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{algorithm:e=ma,threshold:r=.5,useAlpha:n=!0,invert:i=!1}=t;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),r=e===ma?function(t,e){if(!e)throw Error("getThreshold : the maxValue should be specified");if("string"===typeof t){if("%"!==t[t.length-1])throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat(t)/100*e}if("number"===typeof t)return t<1?t*e:t;throw Error("getThreshold : the value is not valid")}(r,this.maxValue):pa.call(this,t);let o=new Sl(this.width,this.height,{kind:"BINARY",parent:this}),a=0;if(this.alpha&&n)for(let s=0;s<this.data.length;s+=this.channels){let t=this.data[s]+(this.maxValue-this.data[s])*(this.maxValue-this.data[s+1])/this.maxValue;(i&&t<=r||!i&&t>=r)&&o.setBit(a),a++}else for(let s=0;s<this.data.length;s+=this.channels)(i&&this.data[s]<=r||!i&&this.data[s]>=r)&&o.setBit(a),a++;return o}function wa(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{size:e=0,algorithm:r="copy",color:n}=t;if(this.checkProcessable("pad",{bitDepth:[8,16]}),"set"===r){if(n.length!==this.channels)throw new Error(`pad: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let t=0;t<n.length;t++)0===n[t]&&(n[t]=.001)}else n=oo()(this.channels,null);Array.isArray(e)||(e=[e,e]);let i=this.width+2*e[0],o=this.height+2*e[1],a=this.channels,s=Sl.createFrom(this,{width:i,height:o});!function(t,e,r,n){let i=t.width,o=t.height,a=e.width,s=t.channels;for(let l=0;l<i;l++)for(let h=0;h<o;h++)for(let o=0;o<s;o++){let u=(h*i+l)*s+o,c=((n+h)*a+r+l)*s+o;e.data[c]=t.data[u]}}(this,s,e[0],e[1]);for(let l=e[0];l<i-e[0];l++)for(let t=0;t<a;t++){let r=n[t]||s.data[(e[1]*i+l)*a+t];for(let n=0;n<e[1];n++)s.data[(n*i+l)*a+t]=r;r=n[t]||s.data[((o-e[1]-1)*i+l)*a+t];for(let n=o-e[1];n<o;n++)s.data[(n*i+l)*a+t]=r}for(let l=0;l<o;l++)for(let t=0;t<a;t++){let r=n[t]||s.data[(l*i+e[0])*a+t];for(let n=0;n<e[0];n++)s.data[(l*i+n)*a+t]=r;r=n[t]||s.data[(l*i+i-e[0]-1)*a+t];for(let n=i-e[0];n<i;n++)s.data[(l*i+n)*a+t]=r}return s}function ba(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes(t))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===t)return this.clone();let e=Sl.createFrom(this,{bitDepth:t});switch(t){case 8:if(1===this.bitDepth)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=255);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]>>8;break;case 16:if(1===this.bitDepth)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=65535);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]<<8|this.data[t];break;default:throw new Error("colorDepth conversion unexpected case")}return e}function ya(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{interpolation:r=Go.nearestneighbor,width:n=this.width,height:i=this.height}=e;if("number"!==typeof t)throw new TypeError("degrees must be a number");const o=Wo(r),a=t*Math.PI/180,s=Math.floor(Math.abs(n*Math.cos(a))+Math.abs(i*Math.sin(a))),l=Math.floor(Math.abs(i*Math.cos(a))+Math.abs(n*Math.sin(a))),h=Math.cos(-a),u=Math.sin(-a);let c=s/2,f=l/2;s%2===0?(c-=.5,l%2===0?f-=.5:f=Math.floor(f)):(c=Math.floor(c),l%2===0?f-=.5:f=Math.floor(f));const d=Math.floor(n/2-c),p=Math.floor(i/2-f);if(1===this.bitDepth){const t=new Sl(s,l,{kind:"BINARY",parent:this});switch(o){case Go.nearestneighbor:return function(t,e,r,n,i,o,a,s){for(let l=0;l<e.width;l+=1)for(let h=0;h<e.height;h+=1){let u=Math.round((l-i)*a-(h-o)*s+i)+r,c=Math.round((h-o)*a+(l-i)*s+o)+n;(u<0||u>=t.width||c<0||c>=t.height||t.getBitXY(u,c))&&e.setBitXY(l,h)}return e}(this,t,d,p,c,f,h,u);case Go.bilinear:return function(t,e,r,n,i,o,a,s){let l=t.width;for(let h=0;h<e.height;h++)for(let u=0;u<e.width;u++){let c=(u-i)*a-(h-o)*s+i+r,f=(h-o)*a+(u-i)*s+o+n,d=0|c,p=0|f,m=c-d,g=f-p;if(c<0||c>=t.width||f<0||f>=t.height)e.setBitXY(u,h);else{let r=p*t.width+d,n=t.getBit(r),i=t.getBit(r+1),o=t.getBit(r+l);(n|m&i-n|g&o-n|m&g&n-i-o+t.getBit(r+1+l))>0&&e.setBitXY(u,h)}}return e}(this,t,d,p,c,f,h,u);default:throw new Error(`unsupported rotate interpolation: ${o}`)}}else{const t=Sl.createFrom(this,{width:s,height:l});switch(o){case Go.nearestneighbor:return function(t,e,r,n,i,o,a,s){for(let l=0;l<e.width;l+=1)for(let h=0;h<e.height;h+=1)for(let u=0;u<t.channels;u++){let c=Math.round((l-i)*a-(h-o)*s+i)+r,f=Math.round((h-o)*a+(l-i)*s+o)+n;c<0||c>=t.width||f<0||f>=t.height?1===t.alpha&&u===t.channels-1?e.setValueXY(l,h,u,0):e.setValueXY(l,h,u,t.maxValue):e.setValueXY(l,h,u,t.getValueXY(c,f,u))}return e}(this,t,d,p,c,f,h,u);case Go.bilinear:return function(t,e,r,n,i,o,a,s){let l=t.width*t.channels;for(let h=0;h<e.height;h++)for(let u=0;u<e.width;u++){let c=(u-i)*a-(h-o)*s+i+r,f=(h-o)*a+(u-i)*s+o+n,d=0|c,p=0|f,m=c-d,g=f-p;for(let r=0;r<t.channels;r++)if(c<0||c>=t.width||f<0||f>=t.height)1===t.alpha&&r===t.channels-1?e.setValueXY(u,h,r,0):e.setValueXY(u,h,r,t.maxValue);else{let n=(p*t.width+d)*t.channels+r,i=t.data[n],o=t.data[n+t.channels],a=t.data[n+l],s=i+m*(o-i)+g*(a-i)+m*g*(i-o-a+t.data[n+l+t.channels])|0;e.setValueXY(u,h,r,s)}}return e}(this,t,d,p,c,f,h,u);default:throw new Error(`unsupported rotate interpolation: ${o}`)}}}function va(t,e){if(this.checkProcessable("rotate",{bitDepth:[1,8,16]}),"number"!==typeof t)throw new TypeError("angle must be a number");switch(t<0&&(t=360*Math.ceil(-t/360)+t),t%360){case 0:return this.clone();case 90:return _a.call(this);case 180:return ka.call(this);case 270:return xa.call(this);default:return ya.call(this,t,e)}}function xa(){if(1===this.bitDepth){const t=new Sl(this.height,this.width,{kind:"BINARY",parent:this}),e=t.height-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)this.getBitXY(n,r)&&t.setBitXY(r,e-n);return t}{const t=Sl.createFrom(this,{width:this.height,height:this.width}),e=t.height-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)for(let i=0;i<this.channels;i++)t.setValueXY(r,e-n,i,this.getValueXY(n,r,i));return t}}function _a(){if(1===this.bitDepth){const t=new Sl(this.height,this.width,{kind:"BINARY",parent:this}),e=t.width-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)this.getBitXY(n,r)&&t.setBitXY(e-r,n);return t}{const t=Sl.createFrom(this,{width:this.height,height:this.width}),e=t.width-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)for(let i=0;i<this.channels;i++)t.setValueXY(e-r,n,i,this.getValueXY(n,r,i));return t}}function ka(){if(1===this.bitDepth){const t=new Sl(this.width,this.height,{kind:"BINARY",parent:this}),e=t.width-1,r=t.height-1;for(let n=0;n<this.height;n++)for(let i=0;i<this.width;i++)this.getBitXY(i,n)&&t.setBitXY(e-i,r-n);return t}{const t=Sl.createFrom(this),e=t.width-1,r=t.height-1;for(let n=0;n<this.height;n++)for(let i=0;i<this.width;i++)for(let o=0;o<this.channels;o++)t.setValueXY(e-i,r-n,o,this.getValueXY(i,n,o));return t}}function Ma(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=vi(t);this.checkProcessable("insert",r);let{x:n=0,y:i=0}=e;const o=_i(this,e,{copy:!0}),a=Math.min(o.height,i+t.height),s=Math.min(o.width,n+t.width);if(1===o.bitDepth)for(let l=i;l<a;l++)for(let e=n;e<s;e++){t.getBitXY(e-n,l-i)?o.setBitXY(e,l):o.clearBitXY(e,l)}else for(let l=i;l<a;l++)for(let e=n;e<s;e++)o.setPixelXY(e,l,t.getPixelXY(e-n,l-i));return o}function Sa(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{size:e=0,algorithm:r="copy",color:n}=t;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),"set"===r){if(n.length!==this.channels)throw new Error(`setBorder: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let t=0;t<n.length;t++)0===n[t]&&(n[t]=.001)}else n=oo()(this.channels,null);Array.isArray(e)||(e=[e,e]);let i=e[0],o=e[1],a=this.channels;for(let s=i;s<this.width-i;s++)for(let t=0;t<a;t++){let e=n[t]||this.data[(s+this.width*o)*a+t];for(let r=0;r<o;r++)this.data[(r*this.width+s)*a+t]=e;e=n[t]||this.data[(s+this.width*(this.height-o-1))*a+t];for(let r=this.height-o;r<this.height;r++)this.data[(r*this.width+s)*a+t]=e}for(let s=0;s<this.height;s++)for(let t=0;t<a;t++){let e=n[t]||this.data[(s*this.width+i)*a+t];for(let r=0;r<i;r++)this.data[(s*this.width+r)*a+t]=e;e=n[t]||this.data[(s*this.width+this.width-i-1)*a+t];for(let r=this.width-i;r<this.width;r++)this.data[(s*this.width+r)*a+t]=e}return this}function Ea(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{preserveAlpha:e=!0}=t;if(this.checkProcessable("split",{bitDepth:[8,16]}),1===this.components)return new di([this.clone()]);let r=new di,n=this.data;if(this.alpha&&e)for(let i=0;i<this.components;i++){let t=Sl.createFrom(this,{components:1,alpha:!0,colorModel:xn}),e=0;for(let r=0;r<n.length;r+=this.channels)t.data[e++]=n[r+i],t.data[e++]=n[r+this.components];r.push(t)}else for(let i=0;i<this.channels;i++){let t=Sl.createFrom(this,{components:1,alpha:!1,colorModel:xn}),e=0;for(let r=0;r<n.length;r+=this.channels)t.data[e++]=n[r+i];r.push(t)}return r}function Aa(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{keepAlpha:r=!1,mergeAlpha:n=!1}=e;r&=this.alpha,n&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),t=Ii(this,t);let i=Sl.createFrom(this,{components:1,alpha:r,colorModel:xn}),o=0;for(let a=0;a<this.data.length;a+=this.channels)n?i.data[o++]=this.data[a+t]*this.data[a+this.components]/this.maxValue:(i.data[o++]=this.data[a+t],r&&(i.data[o++]=this.data[a+this.components]));return i}function Ca(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mergeAlpha:r=!1,keepAlpha:n=!1}=e;r&=this.alpha,n&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});let i=Sl.createFrom(this,{components:1,alpha:n,colorModel:xn}),o=0;for(let a=0;a<this.size;a++){let e=t(this.getPixel(a));r?i.data[o++]=e*this.data[a*this.channels+this.components]/this.maxValue:(i.data[o++]=e,n&&(i.data[o++]=this.data[a*this.channels+this.components]))}return i}function Pa(t){return(t[0]+t[1]+t[2])/3}function Da(t,e){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),e.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),e.width!==this.width||e.height!==this.height)throw new Error("Images must have exactly the same width and height");let r=t=Ii(this,t);for(let n=0;n<e.data.length;n++)this.data[r]=e.data[n],r+=this.channels;return this}function Ia(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{shift:r=[0,0],average:n,channels:i,defaultAlpha:o,normalize:a,border:s=[0,0]}=e;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(s)||(s=[s,s]),i=Di(this,{channels:i,defaultAlpha:o}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");"undefined"===typeof n&&(n=!0);let l=Math.max(s[0],-r[0]),h=Math.min(this.width-s[0],this.width-r[0]),u=Math.max(s[1],-r[1]),c=Math.min(this.height-s[1],this.height-r[1]),f=oo()(i.length,0);for(let d=0;d<i.length;d++){let e=i[d],n=a?this.sum[e]:Math.max(this.sum[e],t.sum[e]),o=a?t.sum[e]:Math.max(this.sum[e],t.sum[e]);if(0!==n&&0!==o)for(let i=l;i<h;i++)for(let a=u;a<c;a++){let s=i*this.multiplierX+a*this.multiplierY+e,l=s+r[0]*this.multiplierX+r[1]*this.multiplierY;f[d]+=Math.min(this.data[s]/n,t.data[l]/o)}}return n?f.reduce(((t,e)=>t+e))/f.length:f}function Ta(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{sampling:e=[10,10],painted:r=!1,mask:n}=t;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(e)||(e=[e,e]);const i=e[0],o=e[1],a=[],s=[],l=this.width/i,h=this.height/o;let u=Math.floor(l/2);for(let f=0;f<i;f++){let t=Math.floor(h/2);for(let e=0;e<o;e++){let e=Math.round(u),r=Math.round(t);n&&!n.getBitXY(e,r)||(a.push([e,r]),s.push(this.getPixelXY(e,r))),t+=h}u+=l}const c={xyS:a,zS:s};return r&&(c.painted=this.rgba8().paintPoints(a)),c}function Ra(t,e,r){const n=new Array(t);for(let i=0;i<t;i++)n[i]=new Array(e);if(r)for(let i=0;i<t;i++)for(let t=0;t<e;t++)n[i][t]=r;return n.width=t,n.height=e,Object.setPrototypeOf(n,Ra.prototype),n}function Na(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{border:r}=e;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");let n=new Ra(t.width,t.height,-1/0),i=Math.floor(t.width/2),o=Math.floor(t.height/2),a=i,s=o,l=!1;for(;!l;){let e=n.localSearch(i,o,-1/0);for(let i=0;i<e.length;i++){let o=e[i],l=this.getSimilarity(t,{border:r,shift:[a-o[0],s-o[1]]});n[o[0]][o[1]]=l}let h=n.localMax(i,o);h.position[0]!==i||h.position[1]!==o?(i=h.position[0],o=h.position[1]):l=!0}return[i-a,o-s]}function La(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.checkProcessable("getRow",{bitDepth:[8,16]}),function(t,e){if(e<0||e>=t.height)throw new RangeError(`row must be included between 0 and ${t.height-1}. Current value: ${e}`)}(this,t),Ho(this,e);let r=new Array(this.width),n=0,i=t*this.width*this.channels+e,o=i+this.width*this.channels;for(let a=i;a<o;a+=this.channels)r[n++]=this.data[a];return r}function za(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.checkProcessable("getColumn",{bitDepth:[8,16]}),function(t,e){if(e<0||e>=t.width)throw new RangeError(`column must be included between 0 and ${t.width-1}. Current value: ${e}`)}(this,t),Ho(this,e);let r=new Array(this.height),n=0,i=this.width*this.channels;for(let o=e+t*this.channels;o<this.data.length;o+=i)r[n++]=this.data[o];return r}function Ba(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{channel:e}=t;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===e){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");e=0}let r=new Wi(this.height,this.width);for(let n=0;n<this.height;n++)for(let t=0;t<this.width;t++)r.set(n,t,this.getValueXY(t,n,e));return r}function Fa(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=new Wi(t);let{channel:r}=e;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===r){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}if(this.width!==t.columns||this.height!==t.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(let n=0;n<this.height;n++)for(let e=0;e<this.width;e++)this.setValueXY(e,n,r,t.get(n,e));return this}function Ua(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});let t=new Array(this.size),e=0;for(let r=0;r<this.data.length;r+=this.channels){let n=new Array(this.components);for(let t=0;t<this.components;t++)n[t]=this.data[r+t];t[e++]=n}return t}function Oa(t){let e=this,r=e.getClosestCommonParent(t),n=e.getRelativePosition(r,{defaultFurther:!0}),i=Va(e,n),o=t.getRelativePosition(r,{defaultFurther:!0}),a=Va(t,o),s=function(t,e){let r=0,n=0,i=[];for(;r<t.length&&n<e.length;)t[r][0]===e[n][0]&&t[r][1]===e[n][1]?(i.push(t[r]),r++,n++):t[r][0]<e[n][0]||t[r][0]===e[n][0]&&t[r][1]<e[n][1]?r++:n++;return i}(i,a),l={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]};for(let h=0;h<s.length;h++){let r=s[h],i=[r[0]-n[0],r[1]-n[1]],a=[r[0]-o[0],r[1]-o[1]],u=e.getBitXY(i[0],i[1]),c=t.getBitXY(a[0],a[1]);1===u&&1===c&&l.commonWhitePixels.push(r)}for(let h=0;h<i.length;h++){let t,r;0!==h&&(t=Math.floor(h/e.width),r=h%e.width),1===e.getBitXY(t,r)&&l.whitePixelsMask1.push(i[h])}for(let h=0;h<a.length;h++){let e=0,r=0;0!==h&&(e=Math.floor(h/t.width),r=h%t.width),1===t.getBitXY(e,r)&&l.whitePixelsMask2.push(a[h])}return l}function Va(t,e){let r=[];for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++){let t=[n,i];r.push([t[0]+e[0],t[1]+e[1]])}return r}function ja(t){let e,r=Ya(this),n=Ya(t);if(e=r>=n?Xa(this,r):Xa(t,n),0===r||0===n)return e;let i=this,o=t;for(;r!==n;)if(r>n){if(i=i.parent,null===i)return e;r-=1}else{if(o=o.parent,null===o)return e;n-=1}for(;i!==o&&null!==i&&null!==o;)if(i=i.parent,o=o.parent,null===i||null===o)return e;return i!==o?e:i}function Ya(t){let e=0,r=t;for(;null!=r.parent;)r=r.parent,e++;return e}function Xa(t,e){let r=t;for(;e>0;)r=r.parent,e-=1;return r}Ra.prototype.localMin=function(t,e){let r=this[t][e],n=[t,e];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]<r&&(r=this[i][t],n=[i,t]);return{position:n,value:r}},Ra.prototype.localMax=function(t,e){let r=this[t][e],n=[t,e];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]>r&&(r=this[i][t],n=[i,t]);return{position:n,value:r}},Ra.prototype.localSearch=function(t,e,r){let n=[];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]===r&&n.push([i,t]);return n};const $a={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},qa=[[-1,0,1],[-2,0,2],[-1,0,1]],Ha=[[-1,-2,-1],[0,0,0],[1,2,1]],Ga={bitDepth:32,mode:"periodic"};function Wa(t){return function(t,e){t.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),e=Object.assign({},$a,e);const r=t.width,n=t.height,i=t.maxValue,o={sigma:e.gaussianBlur,radius:3},a=t.gaussianFilter(o),s=a.convolution(Ha,Ga),l=a.convolution(qa,Ga),h=l.hypotenuse(s),u=t.constructor,c=new u(r,n,{kind:"GREY",bitDepth:32}),f=new u(r,n,{kind:"GREY",bitDepth:32}),d=new u(r,n,{kind:"GREY"});for(var p=1;p<r-1;p++)for(var m=1;m<n-1;m++){var g=(Math.round(Math.atan2(l.getValueXY(p,m,0),s.getValueXY(p,m,0))*(5/Math.PI))+5)%5;0===g&&(h.getValueXY(p,m,0)<=h.getValueXY(p,m-1,0)||h.getValueXY(p,m,0)<=h.getValueXY(p,m+1,0))||1===g&&(h.getValueXY(p,m,0)<=h.getValueXY(p-1,m+1,0)||h.getValueXY(p,m,0)<=h.getValueXY(p+1,m-1,0))||2===g&&(h.getValueXY(p,m,0)<=h.getValueXY(p-1,m,0)||h.getValueXY(p,m,0)<=h.getValueXY(p+1,m,0))||3===g&&(h.getValueXY(p,m,0)<=h.getValueXY(p-1,m-1,0)||h.getValueXY(p,m,0)<=h.getValueXY(p+1,m+1,0))||c.setValueXY(p,m,0,h.getValueXY(p,m,0))}for(p=0;p<r*n;++p){var w=c.data[p],b=0;w>e.highThreshold&&(b++,d.data[p]=i),w>e.lowThreshold&&b++,f.data[p]=b}var y=[];for(p=1;p<r-1;++p)for(m=1;m<n-1;++m)if(1===f.getValueXY(p,m,0))t:for(var v=p-1;v<p+2;++v)for(var x=m-1;x<m+2;++x)if(2===f.getValueXY(v,x,0)){y.push([p,m]),d.setValueXY(p,m,0,i);break t}for(;y.length>0;){var _=[];for(p=0;p<y.length;++p)for(m=-1;m<2;++m)for(v=-1;v<2;++v)if(0!==m||0!==v){var k=y[p][0]+m,M=y[p][1]+v;1===f.getValueXY(k,M,0)&&0===d.getValueXY(k,M,0)&&(_.push([k,M]),d.setValueXY(k,M,0,i))}y=_}return d}(this,t)}function Ka(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{position:r}=e;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!r&&(r=t.getRelativePosition(this),!r))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){let e=Sl.createFrom(this,{width:t.width,height:t.height,alpha:1,position:r,parent:this});for(let n=0;n<t.width;n++)for(let i=0;i<t.height;i++){for(let t=0;t<this.channels;t++){let o=this.getValueXY(n+r[0],i+r[1],t);e.setValueXY(n,i,t,o)}t.getBitXY(n,i)||e.setValueXY(n,i,this.components,0)}return e}{let e=Sl.createFrom(this,{width:t.width,height:t.height,position:r,parent:this});for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++)t.getBitXY(i,n)&&this.getBitXY(i+r[0],n+r[1])&&e.setBitXY(i,n);return e}}var Za=r(7872),Qa=r.n(Za);function Ja(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{x:e=0,y:r=0,inPlace:n=!0}=t,i=n?this:Sl.createFrom(this);this.checkProcessable("floodFill",{bitDepth:1});if(this.getBitXY(e,r))return i;const o=new(Qa());for(o.push(new ts(e,r));o.length>0;){const t=o.shift();i.setBitXY(t.x,t.y);for(let e=t.x+1;e<this.width&&(!i.getBitXY(e,t.y)&&!this.getBitXY(e,t.y));e++)i.setBitXY(e,t.y),t.y+1<this.height&&!this.getBitXY(e,t.y+1)&&o.push(new ts(e,t.y+1)),t.y-1>=0&&!this.getBitXY(e,t.y-1)&&o.push(new ts(e,t.y-1));for(let e=t.x-1;e>=0&&(!i.getBitXY(e,t.y)&&!this.getBitXY(e,t.y));e++)i.setBitXY(e,t.y),t.y+1<this.height&&!this.getBitXY(e,t.y+1)&&o.push(new ts(e,t.y+1)),t.y-1>=0&&!this.getBitXY(e,t.y-1)&&o.push(new ts(e,t.y-1))}return i}function ts(t,e){this.x=t,this.y=e}function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},es.apply(null,arguments)}function rs(t,e,r){var n=[],i=(r/=100)*(e/=100),o=t/60,a=i*(1-Math.abs(o%2-1)),s=r-i;return n=o>=0&&o<1?[i,a,0]:o>=1&&o<2?[a,i,0]:o>=2&&o<3?[0,i,a]:t>=3&&o<4?[0,a,i]:t>=4&&o<5?[a,0,i]:t>=5&&o<=6?[i,0,a]:[0,0,0],{r:Math.round(255*(n[0]+s)),g:Math.round(255*(n[1]+s)),b:Math.round(255*(n[2]+s))}}function ns(t,e,r){var n=function(t,e,r){return{h:t,s:2*(e*=(r<50?r:100-r)/100)/(r+e)*100,v:r+e}}(t,e,r);return rs(n.h,n.s,n.v)}var is={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function os(t){return function(t){var e=is[t.toLowerCase()];if(!e)return;return{r:e[0],g:e[1],b:e[2],a:100}}(t)||function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:100}}(t)||function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:100}}(t)||function(t){var e=t.match(/rgb\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:100}}}(t)||function(t){var e=t.match(/rgba\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:100*r[3]}}}(t)||function(t){var e=t.match(/hsl\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */);return es({},ns(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)),{a:100})}}(t)||function(t){var e=t.match(/hsla\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */),n=parseInt(r[0],10),i=parseInt(r[1],10),o=parseInt(r[2],10),a=parseInt(100*parseFloat(r[3]),10);return es({},ns(n,i,o),{a:a})}}(t)}function as(t){let e=os(t);return[e.r,e.g,e.b,Math.round(255*e.a/100)]}function ss(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ls(t,e,r){let n,i,o,a,s,l;return r/=100,0===(e/=100)?a=s=l=255*r:(i=r<=.5?r*(e+1):r+e-r*e,n=2*r-i,o=t/360,a=ss(n,i,o+1/3),s=ss(n,i,o),l=ss(n,i,o-1/3)),{r:a,g:s,b:l}}function hs(t){let{color:e,colors:r,randomColors:n,numberColors:i=50}=t;if(e&&!Array.isArray(e)&&(e=as(e)),e)return[e];if(r)return r=r.map((function(t){return Array.isArray(t)?t:as(t)})),r;if(n){r=new Array(i);for(let t=0;t<i;t++)r[t]=[Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random())]}return function(t){let e=new Array(t),r=0;for(let n=0;n<360;n+=360/t){r++;let t=ls(n,100,30+r%4*15);e[r-1]=[Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b)]}return e}(i)}function us(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{color:n="blue",colors:i,font:o="12px Helvetica",rotate:a=0}=r;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:_n}),!Array.isArray(t))throw Error("paintLabels: labels must be an array");if(!Array.isArray(e))throw Error("paintLabels: positions must be an array");if(n&&!Array.isArray(n)&&(n=as(n)),i=i?i.map((function(t){return Array.isArray(t)?t:as(t)})):[n],t.length!==e.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]);let s=this.getCanvas().getContext("2d");for(let l=0;l<t.length;l++){s.save();let r=i[l%i.length];s.fillStyle=`rgba(${r[0]},${r[1]},${r[2]},${r[3]/this.maxValue})`,s.font=o[l%o.length];let n=e[l];s.translate(n[0],n[1]),s.rotate(a[l%a.length]/180*Math.PI),s.fillText(t[l],0,0),s.restore()}return this.data=Uint8Array.from(s.getImageData(0,0,this.width,this.height).data),this}function cs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{alpha:r=255,labels:n=[],labelsPosition:i=[],labelColor:o="blue",labelFont:a="12px Helvetica"}=e;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:_n});let s=hs(Object.assign({},e,{numberColors:t.length}));Array.isArray(t)||(t=[t]);for(let l=0;l<t.length;l++){let e=t[l],n=s[l%s.length];for(let t=0;t<e.width;t++)for(let i=0;i<e.height;i++)if(e.getBitXY(t,i))for(let o=0;o<Math.min(this.components,n.length);o++)if(255===r)this.setValueXY(t+e.position[0],i+e.position[1],o,n[o]);else{let a=this.getValueXY(t+e.position[0],i+e.position[1],o);a=Math.round((a*(255-r)+n[o]*r)/255),this.setValueXY(t+e.position[0],i+e.position[1],o,a)}}if(Array.isArray(n)&&n.length>0){let e=this.getCanvas().getContext("2d");e.fillStyle=o,e.font=a;for(let r=0;r<Math.min(t.length,n.length);r++){let o=i[r]?i[r]:t[r].position;e.fillText(n[r],o[0],o[1])}this.data=Uint8Array.from(e.getImageData(0,0,this.width,this.height).data)}return this}function fs(t,e){let r=new Array(t);for(let n=0;n<t;n++)r[n]=new Array(e).fill(0);return r}const ds=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],ps=[[0,1,0],[1,1,1],[0,1,0]];class ms{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{kind:e="cross",shape:r,size:n,width:i,height:o,filled:a=!0}=t;if(n&&(i=n,o=n),r)switch(r.toLowerCase()){case"square":case"rectangle":this.matrix=function(t,e,r){const n=fs(e,t);if(r.filled)for(let i=0;i<e;i++)for(let e=0;e<t;e++)n[i][e]=1;else{for(let r of[0,e-1])for(let e=0;e<t;e++)n[r][e]=1;for(let r=0;r<e;r++)for(let e of[0,t-1])n[r][e]=1}return n}(i,o,{filled:a});break;case"circle":case"ellipse":this.matrix=function(t,e,r){const n=fs(e,t);let i=1-e%2,o=1-t%2,a=Math.floor((t-1)/2),s=Math.floor((e-1)/2),l=a*a,h=s*s;if(r.filled)for(let u=0;u<=s;u++){for(let e=a-Math.floor(Math.sqrt(l-l*u*u/h));e<=a;e++)n[s-u][e]=1,n[s+u+i][e]=1,n[s-u][t-e-1]=1,n[s+u+i][t-e-1]=1}else{for(let e=0;e<=s;e++){let r=a-Math.floor(Math.sqrt(l-l*e*e/h));n[s-e][r]=1,n[s+e+i][r]=1,n[s-e][t-r-1]=1,n[s+e+i][t-r-1]=1}for(let t=0;t<=a;t++){let r=s-Math.floor(Math.sqrt(h-h*t*t/l));n[r][a-t]=1,n[r][a+t+o]=1,n[e-r-1][a-t]=1,n[e-r-1][a+t+o]=1}}return n}(i,o,{filled:a});break;case"triangle":this.matrix=function(t,e,r){if(!r.filled)throw new Error("Non filled triangle is not implemented");const n=fs(e,t);for(let i=0;i<e;i++){let r=Math.floor((1-i/e)*t/2);for(let e=r;e<t-r;e++)n[i][e]=1}return n}(i,o,{filled:a});break;default:throw new Error(`Shape: unexpected shape: ${r}`)}else{if(!e)throw new Error("Shape: expected a kind or a shape option");switch(e.toLowerCase()){case"cross":this.matrix=ds;break;case"smallcross":this.matrix=ps;break;default:throw new Error(`Shape: unexpected kind: ${e}`)}}this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2|0,this.halfWidth=this.width/2|0}getPoints(){let t=this.matrix,e=[];for(let r=0;r<t.length;r++)for(let n=0;n<t[0].length;n++)t[r][n]&&e.push([n-this.halfWidth,r-this.halfHeight]);return e}getMask(){let t=new Sl(this.width,this.height,{kind:En});for(let e=0;e<this.matrix.length;e++)for(let r=0;r<this.matrix[0].length;r++)this.matrix[e][r]&&t.setBitXY(r,e);return t}}function gs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{shape:r}=e;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let n=hs(Object.assign({},e,{numberColors:t.length})),i=new ms(r).getPoints(),o=Math.min(this.channels,n[0].length);for(let a=0;a<t.length;a++){let e=n[a%n.length],r=t[a][0],s=t[a][1];for(let t=0;t<i.length;t++){let n=i[t][0],a=i[t][1];if(r+n>=0&&s+a>=0&&r+n<this.width&&s+a<this.height){let t=(r+n+(s+a)*this.width)*this.channels;for(let r=0;r<o;r++)this.data[t+r]=e[r]}}}return this}function ws(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{color:r=[this.maxValue,0,0],closed:n=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]});let i=Math.min(this.channels,r.length);for(let o=0;o<t.length-1+n;o++){let e=t[o],n=t[(o+1)%t.length],a=n[0]-e[0],s=n[1]-e[1],l=Math.max(Math.abs(a),Math.abs(s)),h=a/l,u=s/l,c=e[0],f=e[1];for(let t=0;t<=l;t++){let t=Math.round(c),e=Math.round(f);if(t>=0&&e>=0&&t<this.width&&e<this.height)if(1===this.bitDepth)this.setBitXY(t,e);else{let n=(t+e*this.width)*this.channels;for(let t=0;t<i;t++)this.data[n+t]=r[t]}c+=h,f+=u}}return this}function bs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},e);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});let n=hs(Object.assign({},e,{numberColors:t.length}));for(let i=0;i<t.length;i++)r.color=n[i%n.length],this.paintPolyline(t[i],r);return this}function ys(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{color:r=[this.maxValue,0,0],filled:n=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]}),e.closed=!0;let i=function(t){let e=[];for(let r=0;r<t.length;r++)t[r][0]===t[(r+1)%t.length][0]&&t[r][1]===t[(r+1)%t.length][1]||t[r][0]===t[(r-1+t.length)%t.length][0]&&t[r][1]===t[(r-1+t.length)%t.length][1]||t[(r+1)%t.length][0]===t[(r-1+t.length)%t.length][0]&&t[(r-1+t.length)%t.length][1]===t[(r+1)%t.length][1]||e.push(t[r]);return e}(t);if(!1===n)return this.paintPolyline(t,e);{let n=Array(this.height);for(let t=0;t<this.height;t++){n[t]=[];for(let e=0;e<this.width;e++)n[t].push(0)}for(let t=0;t<i.length;t++){const e=vs(i[t],i[(t+1)%i.length]);for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)xs(r,t,e,this.height)&&(n[t][r]=0===n[t][r]?1:0)}for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++)if(1===n[t][e])if(1===this.bitDepth)this.setBitXY(e,t);else{let n=Math.min(this.channels,r.length),i=(e+t*this.width)*this.channels;for(let t=0;t<n;t++)this.data[i+t]=r[t]}return this.paintPolyline(t,e)}}function vs(t,e){if(t[0]===e[0])return{a:0,b:t[0],vertical:!0};{const r=(e[1]-t[1])/(e[0]-t[0]);return{a:r,b:t[1]-r*t[0],vertical:!1}}}function xs(t,e,r,n){if(!0===r.vertical)return r.b<=t;if(0===r.a)return!1;{const i=(e-r.b)/r.a;return i<t&&i>=0&&i<=n}}function _s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},e);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});let n=hs(Object.assign({},e,{numberColors:t.length}));for(let i=0;i<t.length;i++)r.color=n[i%n.length],this.paintPolygon(t[i],r);return this}function ks(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{maxSlots:e=256,channel:r,useAlpha:n=!0}=t;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),void 0===r){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}return Ss.call(this,r,{useAlpha:n,maxSlots:e})}function Ms(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{maxSlots:e=256,useAlpha:r=!0}=t;this.checkProcessable("getHistograms",{bitDepth:[8,16]});let n=new Array(r?this.components:this.channels);for(let i=0;i<n.length;i++)n[i]=Ss.call(this,i,{useAlpha:r,maxSlots:e});return n}function Ss(t,e){let{useAlpha:r,maxSlots:n}=e;if(1===this.bitDepth){let t=[0,0];for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=this.getBitXY(e,r);0===n?t[0]+=1:1===n&&(t[1]+=1)}return t}let i=Math.log2(n);if(!Xi()(i))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");let o=0;this.bitDepth>i&&(o=this.bitDepth-i);let a=this.data,s=oo()(Math.pow(2,Math.min(this.bitDepth,i)),0);if(r&&this.alpha){let e=this.channels-t-1;for(let r=t;r<a.length;r+=this.channels)s[a[r]>>o]+=a[r+e]/this.maxValue}else for(let l=t;l<a.length;l+=this.channels)s[a[l]>>o]++;return s}function Es(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{useAlpha:e=!0,nbSlots:r=512}=t;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});let n=Math.log(r)/Math.log(8);if(n!==Math.floor(n))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");let i=this.bitDepth-n,o=this.data,a=oo()(Math.pow(8,n),0),s=Math.pow(2,2*n),l=Math.pow(2,n);for(let h=0;h<o.length;h+=this.channels){let t=(o[h]>>i)*s+(o[h+1]>>i)*l+(o[h+2]>>i);e&&this.alpha?a[t]+=o[h+this.channels-1]/this.maxValue:a[t]++}return a}function As(){this.checkProcessable("min",{bitDepth:[8,16,32]});let t=oo()(this.channels,1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)this.data[e+r]<t[r]&&(t[r]=this.data[e+r]);return t}function Cs(){this.checkProcessable("max",{bitDepth:[8,16,32]});let t=oo()(this.channels,-1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)this.data[e+r]>t[r]&&(t[r]=this.data[e+r]);return t}function Ps(){this.checkProcessable("sum",{bitDepth:[8,16]});let t=oo()(this.channels,0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)t[r]+=this.data[e+r];return t}function Ds(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.checkProcessable("getMoment",{bitDepth:[1]});let r=0;for(let n=0;n<this.width;n++)for(let i=0;i<this.height;i++)1===this.getBitXY(n,i)&&(r+=n**t*i**e);return r}function Is(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mask:e,region:r=3,removeClosePoints:n=0,invert:i=!1,maxEquals:o=2}=t,a=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1}),r*=4;let s=i?0:1,l=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],h=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],u=r<=8?1:2,c=[];for(let f=u;f<a.height-u;f++)for(let t=u;t<a.width-u;t++){if(e&&e.getBitXY(t,f)!==s)continue;let n=0,u=0,d=a.data[t+f*a.width];for(let e=0;e<r;e++)i?a.data[t+l[e]+(f+h[e])*a.width]>d&&n++:a.data[t+l[e]+(f+h[e])*a.width]<d&&n++,a.data[t+l[e]+(f+h[e])*a.width]===d&&u++;n+u===r&&u<=o&&c.push([t,f])}if(n>0)for(let f=0;f<c.length;f++)for(let t=f+1;t<c.length;t++)Math.sqrt(Math.pow(c[f][0]-c[t][0],2)+Math.pow(c[f][1]-c[t][1],2))<n&&(c[f][0]=c[f][0]+c[t][0]>>1,c[f][1]=c[f][1]+c[t][1]>>1,c.splice(t,1),t--);return c}function Ts(){let t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=oi(n)}return e}function Rs(){let t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=ii(n)}return e}function Ns(){this.checkProcessable("points",{bitDepth:[1]});const t=[];for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)1===this.getBitXY(e,r)&&t.push([e,r]);return t}function Ls(){this.checkProcessable("extendedPoints",{bitDepth:[1]});const t=[];for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++)if(1===this.getBitXY(r,e))for(t.push([r,e]),1!==this.getBitXY(r+1,e)?(t.push([r+1,e]),t.push([r+1,e+1]),1!==this.getBitXY(r,e+1)&&t.push([r,e+1])):1!==this.getBitXY(r,e+1)&&(t.push([r,e+1]),t.push([r+1,e+1]));r<this.width-2&&1===this.getBitXY(r+1,e)&&1===this.getBitXY(r+2,e);)r++;return t}function zs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this===t)return[0,0];let r=[0,0],n=this;for(;n;){if(n===t)return r;n.position&&(r[0]+=n.position[0],r[1]+=n.position[1]),n=n.parent}return!!e.defaultFurther&&r}function Bs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{alpha:e=1}=t;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});let r=0;if(void 0!==e){for(let t=this.components;t<this.data.length;t+=this.channels)this.data[t]===e&&r++;return r}return this.size}function Fs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sorted:r}=e;r||(t=t.slice().sort(Os));const n=t.length,i=new Array(2*n);let o=0;for(let s=0;s<n;s++){const e=t[s];for(;o>=2&&Us(i[o-2],i[o-1],e)<=0;)o--;i[o++]=e}const a=o+1;for(let s=n-2;s>=0;s--){const e=t[s];for(;o>=a&&Us(i[o-2],i[o-1],e)<=0;)o--;i[o++]=e}return i.slice(0,o-1)}function Us(t,e,r){return(e[1]-t[1])*(r[0]-t[0])-(e[0]-t[0])*(r[1]-t[1])}function Os(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function Vs(){return Fs(this.extendedPoints,{sorted:!1})}function js(t,e){return[t[0]-e[0],t[1]-e[1]]}function Ys(t){let e=Math.sqrt(t[0]**2+t[1]**2);return[t[0]/e,t[1]/e]}function Xs(t,e,r){void 0===r&&(r=new Array(e.length));let n=Math.cos(t),i=Math.sin(t);for(let o=0;o<r.length;++o)r[o]=[n*e[o][0]-i*e[o][1],i*e[o][0]+n*e[o][1]];return r}function $s(t){let e=0;for(let r=0;r<t.length;r++){let n=t[r][0],i=t[r][1],o=t[r===t.length-1?0:r+1][0],a=t[r===t.length-1?0:r+1][1];e+=Math.sqrt((o-n)**2+(a-i)**2)}return e}function qs(t){let e=0;for(let r=0;r<t.length;r++){e+=t[r][0]*t[r===t.length-1?0:r+1][1]*.5,e-=t[r===t.length-1?0:r+1][0]*t[r][1]*.5}return Math.abs(e)}function Hs(t){let e=1/0,r=1/0,n=-1/0,i=-1/0;for(let o=0;o<t.length;o++)t[o][0]<e&&(e=t[o][0]),t[o][0]>n&&(n=t[o][0]),t[o][1]<r&&(r=t[o][1]),t[o][1]>i&&(i=t[o][1]);return[[e,r],[n,i]]}function Gs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{originalPoints:e=Vs.call(this)}=t;if(0===e.length)return[];if(1===e.length)return[e[0],e[0],e[0],e[0]];const r=new Array(e.length);let n,i=1/0,o=0;for(let a=0;a<r.length;a++){let t=Ws(e[a],e[(a+1)%r.length]);Xs(-t,e,r);let s=r[a][0],l=r[a][1],h=r[(a+1)%r.length][0],u=r[(a+1)%r.length][1],c=!0,f=0,d=0,p=0;for(let e=0;e<r.length;e++){let t=(r[e][0]-s)/(h-s);!0===c?(c=!1,f=t,d=t):(t<f&&(f=t),t>d&&(d=t));let n=(-(h-s)*r[e][1]+h*l-u*s)/(h-s);Math.abs(n)>Math.abs(p)&&(p=n)}let m=[s+f*(h-s),l],g=[s+d*(h-s),l],w=Math.abs(p*(f-d)*(h-s));w<i&&(o=t,i=w,n=[m,g,[g[0],g[1]-p],[m[0],m[1]-p]])}return Xs(o,n,n),n}function Ws(t,e){let r=Ys(js(e,t)),n=Math.acos(r[0]);return r[1]<0?-n:n}var Ks=r(4723),Zs=r.n(Ks);var Qs=r(6427),Js=r.n(Qs);function tl(t,e){let r=Ys(js(e,t)),n=Math.acos(r[0]);return r[1]<0?-n:n}class el{constructor(t,e){this.map=t,this.id=e,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}getMask(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{scale:e=1,kind:r=""}=t;let n;switch(r){case"contour":n=this.contourMask;break;case"box":n=this.boxMask;break;case"filled":n=this.filledMask;break;case"center":n=this.centerMask;break;case"mbr":n=this.mbrFilledMask;break;case"hull":n=this.convexHullFilledMask;break;case"hullContour":n=this.convexHullMask;break;case"mbrContour":n=this.mbrMask;break;case"feret":n=this.feretMask;break;default:n=this.mask}return e<1&&(n=n.resize({factor:e}),n.parent=this.mask.parent,n.position[0]+=this.minX,n.position[1]+=this.minY),n}get mean(){throw new Error("Roi mean not implemented yet")}get center(){return this.computed.center||(this.computed.center=[this.width/2|0,this.height/2|0]),this.computed.center}get ratio(){return this.width/this.height}get width(){return this.maxX-this.minX+1}get height(){return this.maxY-this.minY+1}_computExternalIDs(){let t=this.borderIDs,e=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];let r=this.internalIDs;for(let n=0;n<t.length;n++)r.includes(t[n])||(this.computed.externalIDs.push(t[n]),this.computed.externalLengths.push(e[n]))}get externalIDs(){return this.computed.externalIDs||this._computExternalIDs(),this.computed.externalIDs}get externalLengths(){return this.computed.externalLengths||this._computExternalIDs(),this.computed.externalLengths}_computeBorderIDs(){let t=function(t){let e=t.map,r=e.data,n=new Set,i=new Map,o=new Set,a=[1,0,-1,0],s=[0,1,0,-1];for(let u=t.minX;u<=t.maxX;u++)for(let l=t.minY;l<=t.maxY;l++){if(r[u+l*e.width]===t.id)for(let h=0;h<4;h++){let c=u+a[h],f=l+s[h];if(c>=0&&f>=0&&c<e.width&&f<e.height){let a=c+f*e.width;if(r[a]!==t.id&&!o.has(a)){o.add(a),n.add(r[a]);let t=i.get(r[a]);t?i.set(r[a],++t):i.set(r[a],1)}}}}let l=Array.from(n),h=l.map((function(t){return i.get(t)}));return{ids:l,lengths:h}}(this);this.computed.borderIDs=t.ids,this.computed.borderLengths=t.lengths}get borderIDs(){return this.computed.borderIDs||this._computeBorderIDs(),this.computed.borderIDs}get borderLengths(){return this.computed.borderLengths||this._computeBorderIDs(),this.computed.borderLengths}get boxIDs(){return this.computed.boxIDs||(this.computed.boxIDs=function(t){let e=new Set,r=t.map,n=r.data;for(let i of[0,t.height-1])for(let o=0;o<t.width;o++){let a=(i+t.minY)*r.width+o+t.minX;if(o-t.minX>0&&n[a]===t.id&&n[a-1]!==t.id){let t=n[a-1];e.add(t)}if(r.width-o-t.minX>1&&n[a]===t.id&&n[a+1]!==t.id){let t=n[a+1];e.add(t)}}for(let i of[0,t.width-1])for(let o=0;o<t.height;o++){let a=(o+t.minY)*r.width+i+t.minX;if(o-t.minY>0&&n[a]===t.id&&n[a-r.width]!==t.id){let t=n[a-r.width];e.add(t)}if(r.height-o-t.minY>1&&n[a]===t.id&&n[a+r.width]!==t.id){let t=n[a+r.width];e.add(t)}}return Array.from(e)}(this)),this.computed.boxIDs}get internalIDs(){return this.computed.internalIDs||(this.computed.internalIDs=function(t){let e=[t.id],r=t.map,n=r.data;if(t.height>2)for(let o=0;o<t.width;o++){let i=t.minY*r.width+o+t.minX;if(e.includes(n[i])){let o=n[i+r.width];e.includes(o)||t.boxIDs.includes(o)||e.push(o)}}let i=new Array(4);for(let o=1;o<t.width-1;o++)for(let a=1;a<t.height-1;a++){let s=(a+t.minY)*r.width+o+t.minX;if(e.includes(n[s])){i[0]=n[s-1],i[1]=n[s+1],i[2]=n[s-r.width],i[3]=n[s+r.width];for(let r=0;r<4;r++){let n=i[r];e.includes(n)||t.boxIDs.includes(n)||e.push(n)}}}return e}(this)),this.computed.internalIDs}get box(){return this.computed.box||(this.computed.box=function(t){let e=0,r=t.map,n=r.data,i=[0];t.height>1&&(i[1]=t.height-1);for(let a of i)for(let i=1;i<t.width-1;i++){n[(a+t.minY)*r.width+i+t.minX]===t.id&&e++}let o=[0];t.width>1&&(o[1]=t.width-1);for(let a of o)for(let i=0;i<t.height;i++){n[(i+t.minY)*r.width+a+t.minX]===t.id&&e++}return e}(this)),this.computed.box}get external(){return this.computed.external||(this.computed.external=function(t){let e=0,r=t.map,n=r.data;for(let i=1;i<t.width-1;i++)for(let o=1;o<t.height-1;o++){let a=(o+t.minY)*r.width+i+t.minX;n[a]===t.id&&(t.externalIDs.includes(n[a-1])||t.externalIDs.includes(n[a+1])||t.externalIDs.includes(n[a-r.width])||t.externalIDs.includes(n[a+r.width]))&&e++}return e+t.box}(this)),this.computed.external}get holesInfo(){return this.computed.holesInfo||(this.computed.holesInfo=function(t){let e=0,r=t.map.width,n=t.map.data;for(let i=1;i<t.width-1;i++)for(let o=1;o<t.height-1;o++){let a=(o+t.minY)*r+i+t.minX;t.internalIDs.includes(n[a])&&n[a]!==t.id&&e++}return{number:t.internalIDs.length-1,surface:e}}(this)),this.computed.holesInfo}get border(){return this.computed.border||(this.computed.border=function(t){let e=0,r=t.map,n=r.data;for(let i=1;i<t.width-1;i++)for(let o=1;o<t.height-1;o++){let a=(o+t.minY)*r.width+i+t.minX;n[a]===t.id&&(n[a-1]===t.id&&n[a+1]===t.id&&n[a-r.width]===t.id&&n[a+r.width]===t.id||e++)}return e+t.box}(this)),this.computed.border}get contourMask(){if(!this.computed.contourMask){let t=new Sl(this.width,this.height,{kind:En,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)this.map.data[e+this.minX+(r+this.minY)*this.map.width]===this.id&&(e>0&&e<this.width-1&&r>0&&r<this.height-1&&this.map.data[e-1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r-1+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r+1+this.minY)*this.map.width]===this.id||t.setBitXY(e,r));this.computed.contourMask=t}return this.computed.contourMask}get boxMask(){if(!this.computed.boxMask){let t=new Sl(this.width,this.height,{kind:En,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)t.setBitXY(e,0),t.setBitXY(e,this.height-1);for(let e=0;e<this.height;e++)t.setBitXY(0,e),t.setBitXY(this.width-1,e);this.computed.boxMask=t}return this.computed.boxMask}get mask(){if(!this.computed.mask){let t=new Sl(this.width,this.height,{kind:En,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)this.map.data[e+this.minX+(r+this.minY)*this.map.width]===this.id&&t.setBitXY(e,r);this.computed.mask=t}return this.computed.mask}get filledMask(){if(!this.computed.filledMask){let t=new Sl(this.width,this.height,{kind:En,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++){let n=e+this.minX+(r+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[n])&&t.setBitXY(e,r)}this.computed.filledMask=t}return this.computed.filledMask}get centerMask(){if(!this.computed.centerMask){let t=new ms({kind:"smallCross"}).getMask();t.parent=this.map.parent,t.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=t}return this.computed.centerMask}get convexHull(){if(!this.computed.convexHull){const t=[];for(let r=0;r<this.width;r++)for(let e=0;e<this.height;e++)this.map.data[r+this.minX+(e+this.minY)*this.map.width]===this.id&&(r>0&&r<this.width-1&&e>0&&e<this.height-1&&this.map.data[r-1+this.minX+(e+this.minY)*this.map.width]===this.id&&this.map.data[r+1+this.minX+(e+this.minY)*this.map.width]===this.id&&this.map.data[r+this.minX+(e-1+this.minY)*this.map.width]===this.id&&this.map.data[r+this.minX+(e+1+this.minY)*this.map.width]===this.id||(t.push([r,e]),t.push([r+1,e]),t.push([r,e+1]),t.push([r+1,e+1])));const e=Fs(t);this.computed.convexHull={polyline:e,surface:qs(e),perimeter:$s(e)}}return this.computed.convexHull}get convexHullMask(){if(!this.computed.convexHullMask){const t=this.convexHull,e=new Sl(this.width+1,this.height+1,{kind:En,position:[this.minX,this.minY],parent:this.map.parent});e.paintPolyline(t.polyline,{closed:!0}),this.computed.convexHullMask=e}return this.computed.convexHullMask}get convexHullFilledMask(){if(!this.computed.convexHullFilledMask){const t=this.convexHull,e=new Sl(this.width,this.height,{kind:En,position:[this.minX,this.minY],parent:this.map.parent});for(let r=0;r<this.width;r++)for(let n=0;n<this.height;n++)1!==Js()(t.polyline,[r,n])&&e.setBitXY(r,n);this.computed.convexHullFilledMask=e}return this.computed.convexHullFilledMask}get mbr(){if(!this.computed.mbr){let t=Gs({originalPoints:this.convexHull.polyline});if(0===t.length)this.computed.mbr={width:0,height:0,surface:0,perimeter:0,rectangle:t};else{let e=t[0],r=t[1],n=t[2],i=Math.sqrt((e[0]-r[0])**2+(e[1]-r[1])**2),o=Math.sqrt((n[0]-r[0])**2+(n[1]-r[1])**2);this.computed.mbr={width:i,height:o,elongation:1-i/o,aspectRatio:i/o,surface:i*o,perimeter:2*(i+o),rectangle:t}}}return this.computed.mbr}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get feretDiameters(){return this.computed.feretDiameters||(this.computed.feretDiameters=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{originalPoints:e=Vs.call(this)}=t;if(0===e.length)return{min:0,max:0,minLine:[],maxLine:[],aspectRatio:1};if(1===e.length)return{min:1,max:1,minLine:[e[0],e[0]],maxLine:[e[0],e[0]],aspectRatio:1};const r=new Array(e.length);let n=1/0,i=0,o=[];for(let h=0;h<e.length;h++){let t=tl(e[h],e[(h+1)%e.length]);Xs(-t,e,r);let a=0,s=[];for(let n=0;n<e.length;n++){let t=Math.abs(r[h][1]-r[n][1]);t>a&&(a=t,s=[],s.push([r[n][0],r[h][1]],[r[n][0],r[n][1]]))}a<n&&(n=a,i=t,o=s)}Xs(i,o,o);let a=0,s=[],l=0;for(let h=0;h<e.length-1;h++)for(let t=h+1;t<e.length;t++){let r=(e[h][0]-e[t][0])**2+(e[h][1]-e[t][1])**2;r>l&&(l=r,a=Math.sqrt(r),s=[e[h],e[t]])}return{min:n,minLine:o,max:a,maxLine:s,aspectRatio:n/a}}({originalPoints:this.convexHull.polyline})),this.computed.feretDiameters}get eqpc(){return this.computed.eqpc||(this.computed.eqpc=2*Math.sqrt(this.surface/Math.PI)),this.computed.eqpc}get perimeterInfo(){return this.computed.perimeterInfo||(this.computed.perimeterInfo=function(t){let e=t.map,r=e.data,n=0,i=0,o=0,a=0;for(let s=0;s<t.width;s++)for(let l=0;l<t.height;l++){let h=(l+t.minY)*e.width+s+t.minX;if(r[h]===t.id){let u=0;switch((0===s||t.externalIDs.includes(r[h-1]))&&u++,(s===t.width-1||t.externalIDs.includes(r[h+1]))&&u++,(0===l||t.externalIDs.includes(r[h-e.width]))&&u++,(l===t.height-1||t.externalIDs.includes(r[h+e.width]))&&u++,u){case 1:n++;break;case 2:i++;break;case 3:o++;break;case 4:a++}}}return{one:n,two:i,three:o,four:a}}(this)),this.computed.perimeterInfo}get perimeter(){let t=this.perimeterInfo,e=2-Math.sqrt(2);return t.one+2*t.two+3*t.three+4*t.four-e*(t.two+2*t.three+t.four)}get ped(){return this.computed.ped||(this.computed.ped=this.perimeter/Math.PI),this.computed.ped}get feretMask(){if(!this.computed.feretMask){const t=new Sl(this.width+1,this.height+1,{kind:En,position:[this.minX,this.minY],parent:this.map.parent});t.paintPolyline(this.feretDiameters.minLine),t.paintPolyline(this.feretDiameters.maxLine),this.computed.feretMask=t}return this.computed.feretMask}get mbrMask(){if(!this.computed.mbrMask){let t=function(t){for(let e=0;e<t.length;e++)t[e][0]=Math.round(t[e][0]),t[e][1]=Math.round(t[e][1]);return t}(this.mbr.rectangle);if(t.length>0){const e=Hs(t),r=new Sl(e[1][0]-e[0][0]+1,e[1][1]-e[0][1]+1,{kind:En,position:[this.minX+e[0][0],this.minY+e[0][1]],parent:this.map.parent});t=function(t,e){void 0===e&&(e=new Array(t.length).fill(0).map((()=>[])));let r=Hs(t),n=r[0][0],i=r[0][1];for(let o=0;o<t.length;o++)e[o][0]=t[o][0]-n,e[o][1]=t[o][1]-i;return e}(t),r.paintPolyline(t,{closed:!0}),this.computed.mbrMask=r}else this.computed.mbrMask=new Sl(1,1,{kind:En,position:[this.minX,this.minY],parent:this.map.parent})}return this.computed.mbrMask}get mbrFilledMask(){if(!this.computed.mbrFilledMask){const t=new Sl(this.width,this.height,{kind:En,position:[this.minX,this.minY],parent:this.map.parent}),e=this.mask.minimalBoundingRectangle();for(let r=0;r<this.width;r++)for(let n=0;n<this.height;n++)1!==Js()(e,[r,n])&&t.setBitXY(r,n);this.computed.mbrFilledMask=t}return this.computed.mbrFilledMask}get points(){if(!this.computed.points){let t=[];for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=(e+this.minY)*this.map.width+r+this.minX;this.map.data[n]===this.id&&t.push([r,e])}this.computed.points=t}return this.computed.points}get maxLengthPoints(){if(!this.computed.maxLengthPoints){let t,e=0;const r=this.points;for(let n=0;n<r.length;n++)for(let i=n+1;i<r.length;i++){let o=Math.pow(r[n][0]-r[i][0],2)+Math.pow(r[n][1]-r[i][1],2);o>=e&&(e=o,t=[r[n],r[i]])}this.computed.maxLengthPoints=t}return this.computed.maxLengthPoints}get maxLength(){if(!this.computed.maxLength){let t=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=t}return this.computed.maxLength}get roundness(){return 4*this.surface/(Math.PI*this.feretDiameters.max**2)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get solidity(){return this.surface/this.convexHull.surface}get angle(){if(!this.computed.angle){let t=this.maxLengthPoints,e=180*-Math.atan2(t[0][1]-t[1][1],t[0][0]-t[1][0])/Math.PI;this.computed.angle=e}return this.computed.angle}toJSON(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface,mbrWidth:this.mbr.width,mbrHeight:this.mbr.height,mbrSurface:this.mbr.surface,eqpc:this.eqpc,ped:this.ped,feretDiameterMin:this.feretDiameters.min,feretDiameterMax:this.feretDiameters.max,aspectRatio:this.feretDiameters.aspectRatio,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter}}}class rl{constructor(t,e){this.roiMap=t,this.options=e,this.roi=this.createRoi()}createRoi(){let t=this.roiMap.data,e={};this.roiMap.positive=0,this.roiMap.negative=0;for(let a=0;a<t.length;a++)t[a]&&!e[t[a]]&&(e[t[a]]=!0,t[a]>0?this.roiMap.positive++:this.roiMap.negative++);let r={};for(let a in e)r[a]=new el(this.roiMap,1*a);let n=this.roiMap.width,i=this.roiMap.height;for(let a=0;a<i;a++)for(let e=0;e<n;e++){let i=a*n+e;if(0!==t[i]){const n=r[t[i]];e<n.minX&&(n.minX=e),e>n.maxX&&(n.maxX=e),a<n.minY&&(n.minY=a),a>n.maxY&&(n.maxY=a),n.meanX+=e,n.meanY+=a,n.surface++}}let o=[];for(let a in e)r[a].meanX/=r[a].surface,r[a].meanY/=r[a].surface,o.push(r[a]);return o}}function nl(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{algorithm:e="commonBorderLength",minCommonBorderLength:r=5,maxCommonBorderLength:n=100,minCommonBorderRatio:i=.3,maxCommonBorderRatio:o=1}=t;let a=function(t,e,i){return t[i]>=r&&t[i]<=n};"function"===typeof e&&(a=e),"commonborderratio"===e.toLowerCase()&&(a=function(t,e,r){let n=Math.min(t[r]/t[e],1);return n>=i&&n<=o});const s=this,l=s.commonBorderLength;let h={},u={};for(let g of Object.keys(l)){let t=l[g],e=Object.keys(t);for(let r of e)if(r!==g&&a(t,g,r)){let t=r;u[r]&&(t=u[r]);let e=g;if(u[g]&&(e=u[g]),Number(t)!==e){let r=Math.min(t,e),n=Math.max(t,e);if(h[r]||(h[r]={}),h[r][n]=!0,u[n]=r,h[n]){for(let t of Object.keys(h[n]))h[r][t]=!0,u[t]=r;delete h[n]}}}}let c=s.minMax,f=-c.min,d=c.max+f,p=new Array(d+1).fill(0);for(let g of Object.keys(u))p[Number(g)+f]=u[g];let m=s.data;for(let g=0;g<m.length;g++){let t=m[g];if(0!==t){let e=p[t+f];0!==e&&(m[g]=e)}}return s.computed={},s}class il{constructor(t,e){this.parent=t,this.width=t.width,this.height=t.height,this.data=e,this.negative=0,this.positive=0}get total(){return this.negative+this.positive}get minMax(){let t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;for(let r=0;r<this.data.length;r++)this.data[r]<t&&(t=this.data[r]),this.data[r]>e&&(e=this.data[r]);return{min:t,max:e}}get commonBorderLength(){return function(t){let e=t.data,r=[1,0,-1,0],n=[0,1,0,-1],i=t.minMax,o=-i.min,a=i.max+o,s=[];for(let h=0;h<=a;h++)s.push(Object.create(null));for(let h=0;h<t.width;h++)for(let i=0;i<t.height;i++){let a=e[h+i*t.width];if(0!==a){let l=Object.create(null),u=!1;for(let c=0;c<4;c++){let f=h+r[c],d=i+n[c];if(f>=0&&d>=0&&f<t.width&&d<t.height){let r=e[f+d*t.width];a!==r&&(u=!0,0!==r&&void 0===l[r]&&(l[r]=!0,s[r+o][a]?s[r+o][a]++:s[r+o][a]=1))}else u=!0}u&&(s[a+o][a]?s[a+o][a]++:s[a+o][a]=1)}}let l={};for(let h=0;h<s.length;h++)Object.keys(s[h]).length>0&&(l[h-o]=s[h]);return l}(this)}mergeRoi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nl.call(this,t)}mergeRois(t){const e=t[0],r=t.slice(1);for(let n=0;n<this.data.length;n++)r.includes(this.data[n])&&(this.data[n]=e)}rowsInfo(){let t=new Array(this.height),e=0;for(let r=0;r<this.data.length;r+=this.width){let n={row:e,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};t[e++]=n;let i={},o={},a=[],s=this.data[r],l=0;for(let t=r;t<r+this.width;t++){let e=this.data[t];s!==e&&(s=e,a.push(l),l=0),l++,e>0?(n.positivePixel++,i[e]||(i[e]=!0)):e<0?(n.negativePixel++,o[e]||(o[e]=!0)):n.zeroPixel++}a.push(l),n.medianChange=a.sort(((t,e)=>t-e))[Math.floor(a.length/2)],n.positiveRoiIDs=Object.keys(i),n.negativeRoiIDs=Object.keys(o),n.positiveRoi=n.positiveRoiIDs.length,n.negativeRoi=n.negativeRoiIDs.length}return t}colsInfo(){let t=new Array(this.width),e=0;for(let r=0;r<this.width;r++){let n={col:e,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};t[e++]=n;let i={},o={},a=[],s=this.data[r],l=0;for(let t=r;t<r+this.data.length;t+=this.width){let e=this.data[t];s!==e&&(s=e,a.push(l),l=0),l++,e>0?(n.positivePixel++,i[e]||(i[e]=!0)):e<0?(n.negativePixel++,o[e]||(o[e]=!0)):n.zeroPixel++}a.push(l),n.medianChange=a.sort(((t,e)=>t-e))[Math.floor(a.length/2)],n.positiveRoiIDs=Object.keys(i),n.negativeRoiIDs=Object.keys(o),n.positiveRoi=n.positiveRoiIDs.length,n.negativeRoi=n.negativeRoiIDs.length}return t}}function ol(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowCorners:r=!1}=e,n=65535;let i=new Int16Array(t.size),o=0,a=0,s=new Uint16Array(65536),l=new Uint16Array(65536);for(let u=0;u<t.width;u++)for(let e=0;e<t.height;e++)0===i[e*t.width+u]&&h(u,e);function h(e,h){let u=0,c=0,f=t.getBitXY(e,h),d=f?++o:--a;if(o>32767||a<-32768)throw new Error("Too many regions of interest");for(s[0]=e,l[0]=h;u<=c;){let e=s[u&n],o=l[u&n];if(i[o*t.width+e]=d,e>0&&0===i[o*t.width+e-1]&&t.getBitXY(e-1,o)===f&&(c++,s[c&n]=e-1,l[c&n]=o,i[o*t.width+e-1]=-32768),o>0&&0===i[(o-1)*t.width+e]&&t.getBitXY(e,o-1)===f&&(c++,s[c&n]=e,l[c&n]=o-1,i[(o-1)*t.width+e]=-32768),e<t.width-1&&0===i[o*t.width+e+1]&&t.getBitXY(e+1,o)===f&&(c++,s[c&n]=e+1,l[c&n]=o,i[o*t.width+e+1]=-32768),o<t.height-1&&0===i[(o+1)*t.width+e]&&t.getBitXY(e,o+1)===f&&(c++,s[c&n]=e,l[c&n]=o+1,i[(o+1)*t.width+e]=-32768),r&&(e>0&&o>0&&0===i[(o-1)*t.width+e-1]&&t.getBitXY(e-1,o-1)===f&&(c++,s[c&n]=e-1,l[c&n]=o-1,i[(o-1)*t.width+e-1]=-32768),e<t.width-1&&o>0&&0===i[(o-1)*t.width+e+1]&&t.getBitXY(e+1,o-1)===f&&(c++,s[c&n]=e+1,l[c&n]=o-1,i[(o-1)*t.width+e+1]=-32768),e>0&&o<t.height-1&&0===i[(o+1)*t.width+e-1]&&t.getBitXY(e-1,o+1)===f&&(c++,s[c&n]=e-1,l[c&n]=o+1,i[(o+1)*t.width+e-1]=-32768),e<t.width-1&&o<t.height-1&&0===i[(o+1)*t.width+e+1]&&t.getBitXY(e+1,o+1)===f&&(c++,s[c&n]=e+1,l[c&n]=o+1,i[(o+1)*t.width+e+1]=-32768)),u++,c-u>n)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new il(t,i)}var al=r(6788),sl=r.n(al);const ll=[-1,0],hl=[0,-1],ul=[null,null],cl=[-1,-1,0,1],fl=[0,-1,-1,-1],dl=[null,null,null,null];function pl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowCorners:r=!1}=e;let n,i,o,a=4;if(r&&(a=8),8===a)n=cl,i=fl,o=dl;else{if(4!==a)throw new RangeError(`unsupported neighbours count: ${a}`);n=ll,i=hl,o=ul}const s=t.size,l=t.width,h=t.height,u=new Array(s),c=new Uint32Array(s),f=new(sl());let d=1;for(let p=0;p<h;p++)for(let e=0;e<l;e++){const r=e+p*l;if(t.getBit(r)){let t=null;for(let r=0;r<o.length;r++){const a=e+n[r],s=p+i[r];if(a>=0&&s>=0&&a<l&&s<h){let e=u[a+s*l];e?(o[r]=e,(!t||o[r].value<t.value)&&(t=o[r])):o[r]=null}}if(t){u[r]=t;for(let e=0;e<o.length;e++)o[e]&&o[e]!==t&&f.union(t,o[e])}else u[r]=f.add(d++)}}for(let p=0;p<h;p++)for(let e=0;e<l;e++){const r=e+p*l;t.getBit(r)&&(c[r]=f.find(u[r]).value)}return new il(t,c)}function ml(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{allowCorner:e=!0,onlyTop:r=!1,invert:n=!1}=t,i=this;i.checkProcessable("fromMaxima",{components:[1]});let o=0,a=0,s=new Int16Array(i.size),l=new Int8Array(i.size),h=new Float32Array(i.size),u=1048575,c=new Uint16Array(1048576),f=new Uint16Array(1048576),d=0,p=0,m=new Uint16Array(1048576),g=new Uint16Array(1048576),w=0,b=0;for(!function(t){let{maxima:r=!0}=t;for(let n=1;n<i.height-1;n++)for(let t=1;t<i.width-1;t++){let h=t+n*i.width;if(0===l[h]){let l=r?i.data[h]:-i.data[t+n*i.width];if(i.data[n*i.width+t-1]>l)continue;if(i.data[n*i.width+t+1]>l)continue;if(i.data[(n-1)*i.width+t]>l)continue;if(i.data[(n+1)*i.width+t]>l)continue;if(e){if(i.data[(n-1)*i.width+t-1]>l)continue;if(i.data[(n-1)*i.width+t+1]>l)continue;if(i.data[(n+1)*i.width+t-1]>l)continue;if(i.data[(n+1)*i.width+t+1]>l)continue}s[h]=r?++o:--a,y(t,n)||(r?--o:++a)}}}(i);d<p;){v(c[d&u],f[d&u],2),d++}return new il(i,s);function y(t,e){let r=p;w=0,b=1,m[0]=t,g[0]=e;let n=!0;for(;w<b;){n&=v(m[w&u],g[w&u],1),w++}if(!n){for(let t=0;t<b;t++){let e=m[t&u],r=g[t&u]*i.width+e;s[r]=0}p=r}return n}function v(t,e,n){let o=s[e*i.width+t],a=i.data[e*i.width+t];for(let d=e-1;d<=e+1;d++)for(let e=t-1;e<=t+1;e++){let t=d*i.width+e;if(0===l[t])switch(l[t]=1,h[t]=i.data[t]-a,n){case 1:if(0===h[t]){if(0===e||0===d||e===i.width-1||d===i.height-1)return!1;s[t]=o,m[b&u]=e,g[b&u]=d,b++}else{if(h[t]>0)return!1;r||(s[t]=o,c[p&u]=e,f[p&u]=d,p++)}break;case 2:h[t]<=0&&(s[t]=o,c[p&u]=e,f[p&u]=d,p++);break;default:throw new Error("unreachable")}}return!0}}function gl(t){let e=new ms(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=new Int16Array(this.size),n=0,i=e.getPoints();for(let o=0;o<t.length;o++){n++;let e=t[o][0],a=t[o][1];for(let t=0;t<i.length;t++){let o=i[t][0],s=i[t][1];e+o>=0&&a+s>=0&&e+o<this.width&&a+s<this.height&&(r[e+o+(a+s)*this.width]=n)}}return new il(this,r)}var wl=r(1512),bl=r.n(wl);const yl=[1,0,-1,0,1,1,-1,-1],vl=[0,1,0,-1,1,-1,1,-1];function xl(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{points:e,mask:r,image:n,fillMaxValue:i=this.maxValue,invert:o=!1}=t,a=n||this;a.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),o=!o,e||(e=a.getLocalMaxima({invert:o,mask:r}));let s=o?0:1,l=new Int16Array(a.size),h=a.width,u=a.height,c=new(bl())({comparator:(t,e)=>t[2]-e[2],strategy:bl().BinaryHeapStrategy});for(let f=0;f<e.length;f++){let t=e[f][0]+e[f][1]*h;l[t]=f+1;let r=a.data[t];(o&&r<=i||!o&&r>=i)&&c.queue([e[f][0],e[f][1],r])}for(;c.length>0;){let t=c.dequeue(),e=t[0]+t[1]*h;for(let n=0;n<4;n++){let f=t[0]+yl[n],d=t[1]+vl[n];if(f>=0&&d>=0&&f<h&&d<u){let u=f+d*h;if(!r||r.getBit(u)===s){let r=a.data[u];(o&&r<=i||!o&&r>=i)&&0===l[u]&&(l[u]=l[e],c.queue([t[0]+yl[n],t[1]+vl[n],r]))}}}}return new il(a,l)}class _l{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._image=t,this._options=e,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}fromMaxima(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this._options,t),r=ml.call(this._image,t);this._layers[e.label]=new rl(r,e)}fromPoints(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},this._options,e),n=gl.call(this._image,t,e);return this._layers[r.label]=new rl(n,r),this}putMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new il(this._image,t),n=Object.assign({},this._options,e);return this._layers[n.label]=new rl(r,n),this}fromWaterShed(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this._options,t),r=xl.call(this._image,t);this._layers[e.label]=new rl(r,e)}fromMask(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},this._options,e),n=ol.call(this._image,t,e);return this._layers[r.label]=new rl(n,r),this}fromMaskConnectedComponentLabelingAlgorithm(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},this._options,e),n=pl.call(this._image,t,e);return this._layers[r.label]=new rl(n,r),this}getMap(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this._options,t);return this._assertLayerWithLabel(e.label),this._layers[e.label].roiMap}rowsInfo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getMap(t).rowsInfo()}colsInfo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getMap(t).rowsInfo()}getRoiIds(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getRois(t);if(e){let t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r].id;return t}throw new Error("ROIs not found")}getRois(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{label:e=this._options.label,positive:r=!0,negative:n=!0,minSurface:i=0,maxSurface:o=Number.POSITIVE_INFINITY,minWidth:a=0,maxWidth:s=Number.POSITIVE_INFINITY,minHeight:l=0,maxHeight:h=Number.POSITIVE_INFINITY,minRatio:u=0,maxRatio:c=Number.POSITIVE_INFINITY}=t;if(!this._layers[e])throw new Error(`this Roi layer (${e}) does not exist`);const f=this._layers[e].roi,d=[];for(const p of f)(p.id<0&&n||p.id>0&&r)&&p.surface>=i&&p.surface<=o&&p.width>=a&&p.width<=s&&p.height>=l&&p.height<=h&&p.ratio>=u&&p.ratio<=c&&d.push(p);return d}getRoi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{label:r=this._options.label}=e;if(!this._layers[r])throw new Error(`this Roi layer (${r}) does not exist`);const n=this._layers[r].roi.find((e=>e.id===t));if(!n)throw new Error(`found no Roi with id ${t}`);return n}getMasks(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getRois(t),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n].getMask(t);return r}getAnalysisMasks(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{analysisProperty:e}=t;let r=`${e}Mask`,n=this.getRois(t);return 0!==n.length&&n[0][r]?n.map((t=>t[r])):[]}getData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this._options,t);return this._assertLayerWithLabel(e.label),this._layers[e.label].roiMap.data}paint(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{labelProperty:e,analysisProperty:r}=t;this._painted||(this._painted=this._image.rgba8());let n=this.getMasks(t);if(e){const r=this.getRois(t);t.labels=r.map((t=>function(t){let e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").split(".");for(let r of e){if(void 0===t[r])return;t=t[r]}return t}(t,e)));const n=Math.max(...t.labels);let i=!1,o=!1;if(e.includes("surface")?i=!0:/(?:perimeter|min|max|external|width|height|length)/.test(e)&&(o=!0),isFinite(n)){let e="";if("pixel"!==t.unit&&t.pixelSize&&(o||i)){e=i?`${t.unit}^2`:t.unit;let r=i?"m^2":"m",n=i?t.pixelSize**2:t.pixelSize;const o=Zs().swiftConverter(r,e);t.labels=t.labels.map((t=>o(n*t)))}t.labels=n>50?t.labels.map((t=>Math.round(t)+e)):n>10?t.labels.map((t=>t.toFixed(1)+e)):t.labels.map((t=>t.toFixed(2)+e))}t.labelsPosition=r.map((t=>[t.meanX,t.meanY]))}if(this._painted.paintMasks(n,t),r){let e=this.getAnalysisMasks(t);this._painted.paintMasks(e,{color:t.analysisColor,alpha:t.analysisAlpha})}return this._painted}getMask(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new Sl(this._image.width,this._image.height,{kind:"BINARY"}),r=this.getMasks(t);for(let n=0;n<r.length;n++){let t=r[n];for(let r=0;r<t.width;r++)for(let n=0;n<t.height;n++)t.getBitXY(r,n)&&e.setBitXY(r+t.position[0],n+t.position[1])}return e}resetPainted(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{image:e}=t;this._painted=e?this.image.rgba8():this._image.rgba8()}mergeRoi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this.getMap(t);return e.mergeRoi(t),this.putMap(e.data,t),this}mergeRois(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Array.isArray(t)||t.some((t=>!Number.isInteger(t))))throw new Error("Roi ids must be an array of integers");if(t.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(t).size!==t.length)throw new Error("Roi ids must be all different");t.forEach((t=>this.getRoi(t)));const r=this.getMap(e);return r.mergeRois(t),this.putMap(r.data,e),this}findCorrespondingRoi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRois(e),n=[];for(let i=0;i<r.length;i++){let e=r[i],o=kl(e.minX,e.minY,e.points,t,Math.sign(e.id));n.push(o)}return n}_assertLayerWithLabel(t){if(!this._layers[t])throw new Error(`no layer with label ${t}`)}}function kl(t,e,r,n,i){let o={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0};for(let a=0;a<r.length;a++){let i=r[a],s=i[0]+t+(i[1]+e)*n.width,l=n.data[s];(l>0||l<0)&&(o.id.includes(l)?o.surface[o.id.indexOf(l)]+=1:(o.id.push(l),o.surface.push(1)))}for(let a=0;a<o.id.length;a++){Math.sign(o.id[a])===i?o.same+=o.surface[a]:o.opposite+=o.surface[a],o.roiSurfaceCovered[a]=o.surface[a]/r.length}return o.total=o.opposite+o.same,o}const Ml=Object.prototype.toString;class Sl{constructor(t,e,r,i){if(1===arguments.length?(i=t,({width:t,height:e,data:r}=i)):r&&!r.length&&(i=r,({data:r}=i)),void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i={}),"object"!==typeof i||null===i)throw new TypeError("options must be an object");if(!Number.isInteger(t)||t<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(e)||e<=0)throw new RangeError("height must be a positive integer");const{kind:o=An}=i;if("string"!==typeof o)throw new TypeError("kind must be a string");const a=function(t){const e=Cn[t];if(!e)throw new RangeError(`invalid image kind: ${t}`);return e}(o),s=Object.assign({},i);for(const n in a)void 0===s[n]&&(s[n]=a[n]);!function(t){const{components:e,alpha:r,bitDepth:i,colorModel:o}=t;if(!Number.isInteger(e)||e<=0)throw new RangeError(`invalid components: ${e}. Must be a positive integer`);if(0!==r&&1!==r&&"boolean"!==typeof r)throw new TypeError(`invalid alpha: ${r}: must be a boolean, 0 or 1`);if(!Pn.includes(i))throw new RangeError(`invalid bitDepth: ${i}. Must be one of ${Pn.join(", ")}`);if(!n[o])throw new RangeError(`invalid colorModel: ${o}. Must be one of ${Object.keys(n).join(", ")}`)}(s);const{components:l,bitDepth:h,colorModel:u}=s,c=s.alpha+0,f=t*e,d=l+c,p=32===h?Number.MAX_VALUE:2**h-1;if(void 0===r)r=function(t,e,r,n,i,o){const a=n*t;let s;switch(i){case 1:s=new Uint8Array(Math.ceil(a/8));break;case 8:s=new Uint8Array(a);break;case 16:s=new Uint16Array(a);break;case 32:s=new Float32Array(a);break;default:throw new Error(`Cannot create pixel array for bit depth ${i}`)}if(r)for(let l=e;l<s.length;l+=n)s[l]=o;return s}(f,l,c,d,h,p);else{const t=function(t,e,r){let n=e*t;return 1===r&&(n=Math.ceil(n/8)),n}(f,d,h);if(r.length!==t)throw new RangeError(`incorrect data size: ${r.length}. Should be ${t}`)}this.width=t,this.height=e,this.data=r,this.size=f,this.components=l,this.alpha=c,this.bitDepth=h,this.maxValue=p,this.colorModel=u,this.channels=d,this.meta=i.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:i.parent||null}),this.position=i.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}get[Symbol.toStringTag](){return"IJSImage"}static isImage(t){return"[object IJSImage]"===Ml.call(t)}static fromCanvas(t){const e=t.getContext("2d").getImageData(0,0,t.width,t.height);return new Sl(e.width,e.height,e.data)}static createFrom(t,e){const r=vi(t);return Object.assign(r,{parent:t,position:[0,0]},e),new Sl(r)}getRoiManager(t){return new _l(this,t)}clone(){const t=this.data.slice();return new Sl(this.width,this.height,t,this)}apply(t){for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=(e*this.width+r)*this.channels;t.call(this,n)}}}function El(t,e,r){let n,i,o,a,s=new Array(e);r||(r=100),r*=-1;let l=(e-1)/2,h=2*t*t;for(n=0;n<e;n++)for(s[n]=new Array(e),a=(n-l)*(n-l),i=0;i<e;i++)o=(i-l)*(i-l),s[n][i]=Math.round(r*(1-(o+a)/h)*Math.exp(-(o+a)/h));return s}!function(t){for(const e in yi)t.prototype[e]=yi[e]}(Sl),function(t){for(const e in l)t.prototype[e]=l[e]}(Sl),function(t){for(const e in wn)t.prototype[e]=wn[e]}(Sl),Sl.prototype.checkProcessable=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{bitDepth:r,alpha:n,colorModel:i,components:o,channels:a}=e;if("string"!==typeof t||0===t.length)throw new TypeError("processName must be a string");if(r&&(Array.isArray(r)||(r=[r]),!r.includes(this.bitDepth)))throw new TypeError(`The process: ${t} can only be applied if bit depth is in: ${r}`);if(n&&(Array.isArray(n)||(n=[n]),!n.includes(this.alpha)))throw new TypeError(`The process: ${t} can only be applied if alpha is in: ${n}`);if(i&&(Array.isArray(i)||(i=[i]),!i.includes(this.colorModel)))throw new TypeError(`The process: ${t} can only be applied if color model is in: ${i}`);if(o&&(Array.isArray(o)||(o=[o]),!o.includes(this.components))){let e=`The process: ${t} can only be applied if the number of components is in: ${o}`;throw 1===o.length&&1===o[0]?new TypeError(`${e}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(e)}if(a&&(Array.isArray(a)||(a=[a]),!a.includes(this.channels)))throw new TypeError(`The process: ${t} can only be applied if the number of channels is in: ${a}`)},Sl.prototype.getRGBAData=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clamped:e}=t;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});const r=this.width*this.height*4;let n=e?new Uint8ClampedArray(r):new Uint8Array(r);return 1===this.bitDepth?function(t,e){for(let r=0;r<t.size;r++){const n=t.getBit(r);e[4*r]=255*n,e[4*r+1]=255*n,e[4*r+2]=255*n}}(this,n):32===this.bitDepth?(this.checkProcessable("getRGBAData",{alpha:0}),1===this.components?function(t,e){const r=t.min[0],n=t.max[0],i=n-r;for(let o=0;o<t.size;o++){const n=Math.floor(255*(t.data[o]-r)/i);e[4*o]=n,e[4*o+1]=n,e[4*o+2]=n}}(this,n):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[_n]}),function(t,e){const r=Math.min(...t.min),n=Math.max(...t.max),i=n-r;for(let o=0;o<t.size;o++){const n=Math.floor(255*(t.data[3*o]-r)/i),a=Math.floor(255*(t.data[3*o+1]-r)/i),s=Math.floor(255*(t.data[3*o+2]-r)/i);e[4*o]=n,e[4*o+1]=a,e[4*o+2]=s}}(this,n))):1===this.components?function(t,e){for(let r=0;r<t.size;r++)e[4*r]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+1]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+2]=t.data[r*t.channels]>>>t.bitDepth-8}(this,n):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[_n]}),function(t,e){for(let r=0;r<t.size;r++)e[4*r]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+1]=t.data[r*t.channels+1]>>>t.bitDepth-8,e[4*r+2]=t.data[r*t.channels+2]>>>t.bitDepth-8}(this,n)),1===this.alpha?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),function(t,e){for(let r=0;r<t.size;r++)e[4*r+3]=t.data[r*t.channels+t.components]>>t.bitDepth-8}(this,n)):function(t,e){for(let r=0;r<t.size;r++)e[4*r+3]=255}(this,n),n},Sl.load=function(t,e){if("string"===typeof t)return function(t,e){const r=t.slice(0,64).match(pi);let n;n=null!==r?Promise.resolve(function(t){let e,r,n,i,o=.75*t.length,a=t.length,s=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);const l=new Uint8Array(o);for(let h=0;h<a;h+=4)e=un[t.charCodeAt(h)],r=un[t.charCodeAt(h+1)],n=un[t.charCodeAt(h+2)],i=un[t.charCodeAt(h+3)],l[s++]=e<<2|r>>4,l[s++]=(15&r)<<4|n>>2,l[s++]=(3&n)<<6|63&i;return l}(t.slice(r[0].length))):function(t){let{withCredentials:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){let i=new self.XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.withCredentials=e,i.onload=function(t){200!==this.status?n(t):r(this.response)},i.onerror=n,i.send()}))}(t,e);return n.then((n=>mi(new Uint8Array(n),r?t:void 0,e&&e.ignorePalette)))}(t,e);if(t instanceof ArrayBuffer)return Promise.resolve(mi(new Uint8Array(t),void 0,e&&e.ignorePalette));if(t.buffer)return Promise.resolve(mi(t,void 0,e&&e.ignorePalette));throw new Error('argument to "load" must be a string or buffer.')},Sl.extendMethod=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{inPlace:n=!1,returnThis:i=!0,partialArgs:o=[]}=r;return Sl.prototype[t]=n?function(){this.computed=null;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];let a=e.apply(this,[...o,...r]);return i?this:a}:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,[...o,...r])},Sl},Sl.extendProperty=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{partialArgs:n=[]}=r;return vn.get=function(){if(null===this.computed)this.computed={};else if(yn()(t,this.computed))return this.computed[t];let r=e.apply(this,n);return this.computed[t]=r,r},Object.defineProperty(Sl.prototype,t,vn),Sl},function(t){let e={inPlace:!0};t.extendMethod("invert",Mi),t.extendMethod("abs",ki),t.extendMethod("level",ao,e),t.extendMethod("add",uo,e),t.extendMethod("subtract",co,e),t.extendMethod("subtractImage",fo),t.extendMethod("multiply",mo,e),t.extendMethod("divide",go,e),t.extendMethod("hypotenuse",po),t.extendMethod("background",ko),t.extendMethod("flipX",Si),t.extendMethod("flipY",Ei),t.extendMethod("blurFilter",Ai),t.extendMethod("medianFilter",Ti),t.extendMethod("gaussianFilter",Ri),t.extendMethod("sobelFilter",ro),t.extendMethod("gradientFilter",eo),t.extendMethod("scharrFilter",no),t.extendMethod("dilate",Mo),t.extendMethod("erode",Po),t.extendMethod("open",No),t.extendMethod("close",Lo),t.extendMethod("topHat",zo),t.extendMethod("blackHat",Bo),t.extendMethod("morphologicalGradient",Fo),t.extendMethod("warpingFourPoints",Yo),t.extendMethod("crop",Xo),t.extendMethod("cropAlpha",$o),t.extendMethod("resize",Zo).extendMethod("scale",Zo),t.extendMethod("hsv",Qo),t.extendMethod("hsl",Jo),t.extendMethod("cmyk",ta),t.extendMethod("rgba8",ea),t.extendMethod("grey",ia).extendMethod("gray",ia),t.extendMethod("mask",ga),t.extendMethod("pad",wa),t.extendMethod("colorDepth",ba),t.extendMethod("setBorder",Sa,e),t.extendMethod("rotate",va),t.extendMethod("rotateLeft",xa),t.extendMethod("rotateRight",_a),t.extendMethod("insert",Ma),t.extendMethod("getRow",La),t.extendMethod("getColumn",za),t.extendMethod("getMatrix",Ba),t.extendMethod("setMatrix",Fa),t.extendMethod("getPixelsArray",Ua),t.extendMethod("getIntersection",Oa),t.extendMethod("getClosestCommonParent",ja),t.extendMethod("getThreshold",pa),t.extendMethod("split",Ea),t.extendMethod("getChannel",Aa),t.extendMethod("combineChannels",Ca),t.extendMethod("setChannel",Da),t.extendMethod("getSimilarity",Ia),t.extendMethod("getPixelsGrid",Ta),t.extendMethod("getBestMatch",Na),t.extendMethod("cannyEdge",Wa),t.extendMethod("convolution",to),t.extendMethod("extract",Ka),t.extendMethod("floodFill",Ja),t.extendMethod("paintLabels",us,e),t.extendMethod("paintMasks",cs,e),t.extendMethod("paintPoints",gs,e),t.extendMethod("paintPolyline",ws,e),t.extendMethod("paintPolylines",bs,e),t.extendMethod("paintPolygon",ys,e),t.extendMethod("paintPolygons",_s,e),t.extendMethod("countAlphaPixels",Bs),t.extendMethod("monotoneChainConvexHull",Vs),t.extendMethod("minimalBoundingRectangle",Gs),t.extendMethod("getHistogram",ks).extendProperty("histogram",ks),t.extendMethod("getHistograms",Ms).extendProperty("histograms",Ms),t.extendMethod("getColorHistogram",Es).extendProperty("colorHistogram",Es),t.extendMethod("getMin",As).extendProperty("min",As),t.extendMethod("getMax",Cs).extendProperty("max",Cs),t.extendMethod("getSum",Ps).extendProperty("sum",Ps),t.extendMethod("getMoment",Ds).extendProperty("moment",Ds),t.extendMethod("getLocalMaxima",Is),t.extendMethod("getMedian",Rs).extendProperty("median",Rs),t.extendMethod("getMean",Ts).extendProperty("mean",Ts),t.extendMethod("getPoints",Ns).extendProperty("points",Ns),t.extendMethod("getExtendedPoints",Ls).extendProperty("extendedPoints",Ls),t.extendMethod("getRelativePosition",zs)}(Sl);var Al=r(7600),Cl=r.n(Al);const Pl={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function Dl(t,e,r){return t.post("data",[e,r]).then((function(t){for(let e in t)t[e]=new Sl(t[e]);return t}))}const Il={run:function(t,e,r){e=Object.assign({},Pl,e);const n=this.manager;return Array.isArray(t)?Promise.all(t.map((function(t){const i=Dl(n,t,e);return"function"===typeof r&&i.then(r),i}))):Dl(n,t,e)},work:function(){worker.on("data",(function(t,e,r){e=new IJS(e);const n={},i=[],o=e.grey(),a=o.sobelFilter();d("sobel",a);const s=a.level().mask({threshold:r.threshold});d("mask",s);const l=a.getRoiManager();l.fromMask(s);const h=l.getMask(r.roi);d("realMask",h);const u=o.getPixelsGrid({sampling:r.sampling,mask:h}),c=e.getBackground(u.xyS,u.zS,r.regression);d("background",c);const f=e.subtract(c);function d(t,e){r.include.includes(t)&&(n[t]=e,i.push(e.data.buffer))}n.result=f,i.push(f.data.buffer),t(n,i)}))}},Tl=Il;class Rl{constructor(){this._url=null,this._deps=[null]}checkUrl(){if(null===this._url)throw new Error("image worker must be initialized with an URL")}get url(){return this._url}set url(t){if("string"!==typeof t)throw new TypeError("worker URL must be a string");this._url=t,this._deps[0]=t}static extendMethod(t,e){let r,n,i={};function o(){r||(this.checkUrl(),n=this.url,r=new(Cl())(e.work,{deps:n}),i.manager=r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e.run.call(i,...o)}o.reset=function(){r&&(r.terminate(),r=new(Cl())(e.work,{deps:n}),i.manager=r)},Rl.prototype[t]=o}}!function(t){t.extendMethod("background",Tl)}(Rl);const Nl=new Rl,Ll={grey:na,threshold:da}},7288:(t,e,r)=>{"use strict";const n=r(1169),i=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),o=t=>{const e=n(t);return i.has(e&&e.ext)?e:null};t.exports=o,t.exports.default=o,Object.defineProperty(o,"minimumBytes",{value:n.minimumBytes})},9643:(t,e,r)=>{"use strict";r.r(e),r.d(e,{IOBuffer:()=>s});r(63);function n(t){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(t)}const i=new TextEncoder;const o=(()=>{const t=new Uint8Array(4);return!((new Uint32Array(t.buffer)[0]=1)&t[0])})(),a={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class s{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!1;"number"===typeof t?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0,i=t.byteLength-n;let o=n;(ArrayBuffer.isView(t)||t instanceof s)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+n),t=t.buffer),this.lastWrittenByte=r?i:0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=t,this}back(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(t)){const e=2*(this.offset+t),r=new Uint8Array(e);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=this.byteLength=e,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(t,"uint8")}readArray(t,e){const r=a[e].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+r);if(this.littleEndian===o&&"uint8"!==e&&"int8"!==e){const t=new Uint8Array(this.buffer.slice(n,n+r));t.reverse();const i=new a[e](t.buffer);return this.offset+=r,i.reverse(),i}const s=new a[e](i);return this.offset+=r,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n(this.readBytes(t))}decodeText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return n(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(function(t){return i.encode(t)}(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},63:function(){"use strict";!function(t){if(t.TextEncoder&&t.TextDecoder)return!1;function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8";if("utf-8"!==t)throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${t}') is invalid.`)}function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fatal:!1};if("utf-8"!==t)throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${t}') is invalid.`);if(e.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1}).stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let e=0;const r=t.length;let n=0,i=Math.max(32,r+(r>>1)+7),o=new Uint8Array(i>>3<<3);for(;e<r;){let a=t.charCodeAt(e++);if(a>=55296&&a<=56319){if(e<r){const r=t.charCodeAt(e);56320===(64512&r)&&(++e,a=((1023&a)<<10)+(1023&r)+65536)}if(a>=55296&&a<=56319)continue}if(n+4>o.length){i+=8,i*=1+e/t.length*2,i=i>>3<<3;const r=new Uint8Array(i);r.set(o),o=r}if(0!==(4294967168&a)){if(0===(4294965248&a))o[n++]=a>>6&31|192;else if(0===(4294901760&a))o[n++]=a>>12&15|224,o[n++]=a>>6&63|128;else{if(0!==(4292870144&a))continue;o[n++]=a>>18&7|240,o[n++]=a>>12&63|128,o[n++]=a>>6&63|128}o[n++]=63&a|128}else o[n++]=a}return o.slice(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(t){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1}).stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const e=new Uint8Array(t);let r=0;const n=e.length,i=[];for(;r<n;){const t=e[r++];if(0===t)break;if(0===(128&t))i.push(t);else if(192===(224&t)){const n=63&e[r++];i.push((31&t)<<6|n)}else if(224===(240&t)){const n=63&e[r++],o=63&e[r++];i.push((31&t)<<12|n<<6|o)}else if(240===(248&t)){let n=(7&t)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];n>65535&&(n-=65536,i.push(n>>>10&1023|55296),n=56320|1023&n),i.push(n)}}return String.fromCharCode.apply(null,i)},t.TextEncoder=e,t.TextDecoder=r}("undefined"!==typeof window?window:"undefined"!==typeof self?self:this)},6889:(t,e,r)=>{"use strict";r.r(e),r.d(e,{isAnyArray:()=>i});const n=Object.prototype.toString;function i(t){const e=n.call(t);return e.endsWith("Array]")&&!e.includes("Big")}},2516:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){return"Array"===e.call(t).substr(-6,5)}},1328:t=>{"use strict";t.exports=Number.isFinite||function(t){return!("number"!==typeof t||t!==t||t===1/0||t===-1/0)}},9867:(t,e,r)=>{var n=r(1328);t.exports=Number.isInteger||function(t){return"number"===typeof t&&n(t)&&Math.floor(t)===t}},3194:(t,e,r)=>{var n=r(8734),i=r(4914);t.exports={encode:n,decode:i}},4914:t=>{var e=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,r=799,n=3406,i=2276,o=1567,a=3784,s=5793,l=2896;function h(){}function u(t,e){for(var r,n,i=0,o=[],a=16;a>0&&!t[a-1];)a--;o.push({children:[],index:0});var s,l=o[0];for(r=0;r<a;r++){for(n=0;n<t[r];n++){for((l=o.pop()).children[l.index]=e[i];l.index>0;){if(0===o.length)throw new Error("Could not recreate Huffman Table");l=o.pop()}for(l.index++,o.push(l);o.length<=r;)o.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s;i++}r+1<a&&(o.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s)}return o[0].children}function c(e,r,n,i,o,a,s,l,h,u){n.precision,n.samplesPerLine,n.scanLines;var c=n.mcusPerLine,f=n.progressive,d=(n.maxH,n.maxV,r),p=0,m=0;function g(){if(m>0)return m--,p>>m&1;if(255==(p=e[r++])){var t=e[r++];if(t)throw new Error("unexpected marker: "+(p<<8|t).toString(16))}return m=7,p>>>7}function w(t){for(var e,r=t;null!==(e=g());){if("number"===typeof(r=r[e]))return r;if("object"!==typeof r)throw new Error("invalid huffman sequence")}return null}function b(t){for(var e=0;t>0;){var r=g();if(null===r)return;e=e<<1|r,t--}return e}function y(t){var e=b(t);return e>=1<<t-1?e:e+(-1<<t)+1}var v=0;var x,_=0;function k(t,e,r,n,i){var o=r%c,a=(r/c|0)*t.v+n,s=o*t.h+i;void 0===t.blocks[a]&&u.tolerantDecoding||e(t,t.blocks[a][s])}function M(t,e,r){var n=r/t.blocksPerLine|0,i=r%t.blocksPerLine;void 0===t.blocks[n]&&u.tolerantDecoding||e(t,t.blocks[n][i])}var S,E,A,C,P,D,I=i.length;D=f?0===a?0===l?function(t,e){var r=w(t.huffmanTableDC),n=0===r?0:y(r)<<h;e[0]=t.pred+=n}:function(t,e){e[0]|=g()<<h}:0===l?function(e,r){if(v>0)v--;else for(var n=a,i=s;n<=i;){var o=w(e.huffmanTableAC),l=15&o,u=o>>4;if(0!==l)r[t[n+=u]]=y(l)*(1<<h),n++;else{if(u<15){v=b(u)+(1<<u)-1;break}n+=16}}}:function(e,r){for(var n=a,i=s,o=0;n<=i;){var l=t[n],u=r[l]<0?-1:1;switch(_){case 0:var c=w(e.huffmanTableAC),f=15&c;if(o=c>>4,0===f)o<15?(v=b(o)+(1<<o),_=4):(o=16,_=1);else{if(1!==f)throw new Error("invalid ACn encoding");x=y(f),_=o?2:3}continue;case 1:case 2:r[l]?r[l]+=(g()<<h)*u:0===--o&&(_=2==_?3:0);break;case 3:r[l]?r[l]+=(g()<<h)*u:(r[l]=x<<h,_=0);break;case 4:r[l]&&(r[l]+=(g()<<h)*u)}n++}4===_&&0===--v&&(_=0)}:function(e,r){var n=w(e.huffmanTableDC),i=0===n?0:y(n);r[0]=e.pred+=i;for(var o=1;o<64;){var a=w(e.huffmanTableAC),s=15&a,l=a>>4;if(0!==s)r[t[o+=l]]=y(s),o++;else{if(l<15)break;o+=16}}};var T,R,N,L,z=0;for(R=1==I?i[0].blocksPerLine*i[0].blocksPerColumn:c*n.mcusPerColumn,o||(o=R);z<R;){for(E=0;E<I;E++)i[E].pred=0;if(v=0,1==I)for(S=i[0],P=0;P<o;P++)M(S,D,z),z++;else for(P=0;P<o;P++){for(E=0;E<I;E++)for(N=(S=i[E]).h,L=S.v,A=0;A<L;A++)for(C=0;C<N;C++)k(S,D,z,A,C);if(++z===R)break}if(z===R)do{if(255===e[r]&&0!==e[r+1])break;r+=1}while(r<e.length-2);if(m=0,(T=e[r]<<8|e[r+1])<65280)throw new Error("marker was not found");if(!(T>=65488&&T<=65495))break;r+=2}return r-d}function f(t,h){var u,c,f=[],d=h.blocksPerLine,p=h.blocksPerColumn,m=d<<3,w=new Int32Array(64),b=new Uint8Array(64);function y(t,u,c){var f,d,p,m,g,w,b,y,v,x,_=h.quantizationTable,k=c;for(x=0;x<64;x++)k[x]=t[x]*_[x];for(x=0;x<8;++x){var M=8*x;0!=k[1+M]||0!=k[2+M]||0!=k[3+M]||0!=k[4+M]||0!=k[5+M]||0!=k[6+M]||0!=k[7+M]?(f=s*k[0+M]+128>>8,d=s*k[4+M]+128>>8,p=k[2+M],m=k[6+M],g=l*(k[1+M]-k[7+M])+128>>8,y=l*(k[1+M]+k[7+M])+128>>8,w=k[3+M]<<4,b=k[5+M]<<4,v=f-d+1>>1,f=f+d+1>>1,d=v,v=p*a+m*o+128>>8,p=p*o-m*a+128>>8,m=v,v=g-b+1>>1,g=g+b+1>>1,b=v,v=y+w+1>>1,w=y-w+1>>1,y=v,v=f-m+1>>1,f=f+m+1>>1,m=v,v=d-p+1>>1,d=d+p+1>>1,p=v,v=g*i+y*n+2048>>12,g=g*n-y*i+2048>>12,y=v,v=w*r+b*e+2048>>12,w=w*e-b*r+2048>>12,b=v,k[0+M]=f+y,k[7+M]=f-y,k[1+M]=d+b,k[6+M]=d-b,k[2+M]=p+w,k[5+M]=p-w,k[3+M]=m+g,k[4+M]=m-g):(v=s*k[0+M]+512>>10,k[0+M]=v,k[1+M]=v,k[2+M]=v,k[3+M]=v,k[4+M]=v,k[5+M]=v,k[6+M]=v,k[7+M]=v)}for(x=0;x<8;++x){var S=x;0!=k[8+S]||0!=k[16+S]||0!=k[24+S]||0!=k[32+S]||0!=k[40+S]||0!=k[48+S]||0!=k[56+S]?(f=s*k[0+S]+2048>>12,d=s*k[32+S]+2048>>12,p=k[16+S],m=k[48+S],g=l*(k[8+S]-k[56+S])+2048>>12,y=l*(k[8+S]+k[56+S])+2048>>12,w=k[24+S],b=k[40+S],v=f-d+1>>1,f=f+d+1>>1,d=v,v=p*a+m*o+2048>>12,p=p*o-m*a+2048>>12,m=v,v=g-b+1>>1,g=g+b+1>>1,b=v,v=y+w+1>>1,w=y-w+1>>1,y=v,v=f-m+1>>1,f=f+m+1>>1,m=v,v=d-p+1>>1,d=d+p+1>>1,p=v,v=g*i+y*n+2048>>12,g=g*n-y*i+2048>>12,y=v,v=w*r+b*e+2048>>12,w=w*e-b*r+2048>>12,b=v,k[0+S]=f+y,k[56+S]=f-y,k[8+S]=d+b,k[48+S]=d-b,k[16+S]=p+w,k[40+S]=p-w,k[24+S]=m+g,k[32+S]=m-g):(v=s*c[x+0]+8192>>14,k[0+S]=v,k[8+S]=v,k[16+S]=v,k[24+S]=v,k[32+S]=v,k[40+S]=v,k[48+S]=v,k[56+S]=v)}for(x=0;x<64;++x){var E=128+(k[x]+8>>4);u[x]=E<0?0:E>255?255:E}}g(m*p*8);for(var v=0;v<p;v++){var x=v<<3;for(u=0;u<8;u++)f.push(new Uint8Array(m));for(var _=0;_<d;_++){y(h.blocks[v][_],b,w);var k=0,M=_<<3;for(c=0;c<8;c++){var S=f[x+c];for(u=0;u<8;u++)S[M+u]=b[k++]}}}return f}function d(t){return t<0?0:t>255?255:t}h.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}.bind(this),e.send(null)},parse:function(e){var r=1e3*this.opts.maxResolutionInMP*1e3,n=0;e.length;function i(){var t=e[n]<<8|e[n+1];return n+=2,t}function o(){var t=i(),r=e.subarray(n,n+t-2);return n+=r.length,r}function a(t){var e,r,n=1,i=1;for(r in t.components)t.components.hasOwnProperty(r)&&(n<(e=t.components[r]).h&&(n=e.h),i<e.v&&(i=e.v));var o=Math.ceil(t.samplesPerLine/8/n),a=Math.ceil(t.scanLines/8/i);for(r in t.components)if(t.components.hasOwnProperty(r)){e=t.components[r];var s=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/n),l=Math.ceil(Math.ceil(t.scanLines/8)*e.v/i),h=o*e.h,u=a*e.v,c=[];g(256*(u*h));for(var f=0;f<u;f++){for(var d=[],p=0;p<h;p++)d.push(new Int32Array(64));c.push(d)}e.blocksPerLine=s,e.blocksPerColumn=l,e.blocks=c}t.maxH=n,t.maxV=i,t.mcusPerLine=o,t.mcusPerColumn=a}var s,l,h=null,d=null,p=[],m=[],w=[],b=[],y=i(),v=-1;if(this.comments=[],65496!=y)throw new Error("SOI not found");for(y=i();65497!=y;){switch(y){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var x=o();if(65534===y){var _=String.fromCharCode.apply(null,x);this.comments.push(_)}65504===y&&74===x[0]&&70===x[1]&&73===x[2]&&70===x[3]&&0===x[4]&&(h={version:{major:x[5],minor:x[6]},densityUnits:x[7],xDensity:x[8]<<8|x[9],yDensity:x[10]<<8|x[11],thumbWidth:x[12],thumbHeight:x[13],thumbData:x.subarray(14,14+3*x[12]*x[13])}),65505===y&&69===x[0]&&120===x[1]&&105===x[2]&&102===x[3]&&0===x[4]&&(this.exifBuffer=x.subarray(5,x.length)),65518===y&&65===x[0]&&100===x[1]&&111===x[2]&&98===x[3]&&101===x[4]&&0===x[5]&&(d={version:x[6],flags0:x[7]<<8|x[8],flags1:x[9]<<8|x[10],transformCode:x[11]});break;case 65499:for(var k=i()+n-2;n<k;){var M=e[n++];g(256);var S=new Int32Array(64);if(M>>4===0)for(H=0;H<64;H++){S[t[H]]=e[n++]}else{if(M>>4!==1)throw new Error("DQT: invalid table spec");for(H=0;H<64;H++){S[t[H]]=i()}}p[15&M]=S}break;case 65472:case 65473:case 65474:i(),(s={}).extended=65473===y,s.progressive=65474===y,s.precision=e[n++],s.scanLines=i(),s.samplesPerLine=i(),s.components={},s.componentsOrder=[];var E=s.scanLines*s.samplesPerLine;if(E>r){var A=Math.ceil((E-r)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${A}MP`)}var C,P=e[n++];for($=0;$<P;$++){C=e[n];var D=e[n+1]>>4,I=15&e[n+1],T=e[n+2];if(D<=0||I<=0)throw new Error("Invalid sampling factor, expected values above 0");s.componentsOrder.push(C),s.components[C]={h:D,v:I,quantizationIdx:T},n+=3}a(s),m.push(s);break;case 65476:var R=i();for($=2;$<R;){var N=e[n++],L=new Uint8Array(16),z=0;for(H=0;H<16;H++,n++)z+=L[H]=e[n];g(16+z);var B=new Uint8Array(z);for(H=0;H<z;H++,n++)B[H]=e[n];$+=17+z,(N>>4===0?b:w)[15&N]=u(L,B)}break;case 65501:i(),l=i();break;case 65500:i(),i();break;case 65498:i();var F=e[n++],U=[];for($=0;$<F;$++){G=s.components[e[n++]];var O=e[n++];G.huffmanTableDC=b[O>>4],G.huffmanTableAC=w[15&O],U.push(G)}var V=e[n++],j=e[n++],Y=e[n++],X=c(e,n,s,U,l,V,j,Y>>4,15&Y,this.opts);n+=X;break;case 65535:255!==e[n]&&n--;break;default:if(255==e[n-3]&&e[n-2]>=192&&e[n-2]<=254){n-=3;break}if(224===y||225==y){if(-1!==v)throw new Error(`first unknown JPEG marker at offset ${v.toString(16)}, second unknown JPEG marker ${y.toString(16)} at offset ${(n-1).toString(16)}`);v=n-1;const t=i();if(255===e[n+t-2]){n+=t-2;break}}throw new Error("unknown JPEG marker "+y.toString(16))}y=i()}if(1!=m.length)throw new Error("only single frame JPEGs supported");for(var $=0;$<m.length;$++){var q=m[$].components;for(var H in q)q[H].quantizationTable=p[q[H].quantizationIdx],delete q[H].quantizationIdx}this.width=s.samplesPerLine,this.height=s.scanLines,this.jfif=h,this.adobe=d,this.components=[];for($=0;$<s.componentsOrder.length;$++){var G=s.components[s.componentsOrder[$]];this.components.push({lines:f(0,G),scaleX:G.h/s.maxH,scaleY:G.v/s.maxV})}},getData:function(t,e){var r,n,i,o,a,s,l,h,u,c,f,p,m,w,b,y,v,x,_,k,M,S=this.width/t,E=this.height/e,A=0,C=t*e*this.components.length;g(C);var P=new Uint8Array(C);switch(this.components.length){case 1:for(r=this.components[0],c=0;c<e;c++)for(a=r.lines[0|c*r.scaleY*E],u=0;u<t;u++)f=a[0|u*r.scaleX*S],P[A++]=f;break;case 2:for(r=this.components[0],n=this.components[1],c=0;c<e;c++)for(a=r.lines[0|c*r.scaleY*E],s=n.lines[0|c*n.scaleY*E],u=0;u<t;u++)f=a[0|u*r.scaleX*S],P[A++]=f,f=s[0|u*n.scaleX*S],P[A++]=f;break;case 3:for(M=!0,this.adobe&&this.adobe.transformCode?M=!0:"undefined"!==typeof this.opts.colorTransform&&(M=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],c=0;c<e;c++)for(a=r.lines[0|c*r.scaleY*E],s=n.lines[0|c*n.scaleY*E],l=i.lines[0|c*i.scaleY*E],u=0;u<t;u++)M?(f=a[0|u*r.scaleX*S],p=s[0|u*n.scaleX*S],x=d(f+1.402*((m=l[0|u*i.scaleX*S])-128)),_=d(f-.3441363*(p-128)-.71413636*(m-128)),k=d(f+1.772*(p-128))):(x=a[0|u*r.scaleX*S],_=s[0|u*n.scaleX*S],k=l[0|u*i.scaleX*S]),P[A++]=x,P[A++]=_,P[A++]=k;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(M=!1,this.adobe&&this.adobe.transformCode?M=!0:"undefined"!==typeof this.opts.colorTransform&&(M=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],o=this.components[3],c=0;c<e;c++)for(a=r.lines[0|c*r.scaleY*E],s=n.lines[0|c*n.scaleY*E],l=i.lines[0|c*i.scaleY*E],h=o.lines[0|c*o.scaleY*E],u=0;u<t;u++)M?(f=a[0|u*r.scaleX*S],p=s[0|u*n.scaleX*S],m=l[0|u*i.scaleX*S],w=h[0|u*o.scaleX*S],b=255-d(f+1.402*(m-128)),y=255-d(f-.3441363*(p-128)-.71413636*(m-128)),v=255-d(f+1.772*(p-128))):(b=a[0|u*r.scaleX*S],y=s[0|u*n.scaleX*S],v=l[0|u*i.scaleX*S],w=h[0|u*o.scaleX*S]),P[A++]=255-b,P[A++]=255-y,P[A++]=255-v,P[A++]=255-w;break;default:throw new Error("Unsupported color mode")}return P},copyToImageData:function(t,e){var r,n,i,o,a,s,l,h,u,c=t.width,f=t.height,p=t.data,m=this.getData(c,f),g=0,w=0;switch(this.components.length){case 1:for(n=0;n<f;n++)for(r=0;r<c;r++)i=m[g++],p[w++]=i,p[w++]=i,p[w++]=i,e&&(p[w++]=255);break;case 3:for(n=0;n<f;n++)for(r=0;r<c;r++)l=m[g++],h=m[g++],u=m[g++],p[w++]=l,p[w++]=h,p[w++]=u,e&&(p[w++]=255);break;case 4:for(n=0;n<f;n++)for(r=0;r<c;r++)a=m[g++],s=m[g++],i=m[g++],l=255-d(a*(1-(o=m[g++])/255)+o),h=255-d(s*(1-o/255)+o),u=255-d(i*(1-o/255)+o),p[w++]=l,p[w++]=h,p[w++]=u,e&&(p[w++]=255);break;default:throw new Error("Unsupported color mode")}}};var p=0,m=0;function g(){var t=p+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0);if(t>m){var e=Math.ceil((t-m)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${e}MB`)}p=t}return h.resetMaxMemoryUsage=function(t){p=0,m=t},h.getBytesAllocated=function(){return p},h.requestMemoryAllocation=g,h}();t.exports=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...r},i=new Uint8Array(t),o=new e;o.opts=n,e.resetMaxMemoryUsage(1024*n.maxMemoryUsageInMB*1024),o.parse(i);var a=n.formatAsRGBA?4:3,s=o.width*o.height*a;try{e.requestMemoryAllocation(s);var l={width:o.width,height:o.height,exifBuffer:o.exifBuffer,data:n.useTArray?new Uint8Array(s):Buffer.alloc(s)};o.comments.length>0&&(l.comments=o.comments)}catch(h){if(h instanceof RangeError)throw new Error("Could not allocate enough memory for the image. Required: "+s);if(h instanceof ReferenceError&&"Buffer is not defined"===h.message)throw new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true");throw h}return o.copyToImageData(l,n.formatAsRGBA),l}},8734:t=>{function e(t){Math.round;var e,r,n,i,o,a=Math.floor,s=new Array(64),l=new Array(64),h=new Array(64),u=new Array(64),c=new Array(65535),f=new Array(65535),d=new Array(64),p=new Array(64),m=[],g=0,w=7,b=new Array(64),y=new Array(64),v=new Array(64),x=new Array(256),_=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(t,e){for(var r=0,n=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)i[e[n]]=[],i[e[n]][0]=r,i[e[n]][1]=o,n++,r++;r*=2}return i}function R(t){for(var e=t[0],r=t[1]-1;r>=0;)e&1<<r&&(g|=1<<w),r--,--w<0&&(255==g?(N(255),N(0)):N(g),w=7,g=0)}function N(t){m.push(t)}function L(t){N(t>>8&255),N(255&t)}function z(t,e,r,n,i){for(var o,a=i[0],s=i[240],l=function(t,e){var r,n,i,o,a,s,l,h,u,c,f=0;for(u=0;u<8;++u){r=t[f],n=t[f+1],i=t[f+2],o=t[f+3],a=t[f+4],s=t[f+5],l=t[f+6];var p=r+(h=t[f+7]),m=r-h,g=n+l,w=n-l,b=i+s,y=i-s,v=o+a,x=o-a,_=p+v,k=p-v,M=g+b,S=g-b;t[f]=_+M,t[f+4]=_-M;var E=.707106781*(S+k);t[f+2]=k+E,t[f+6]=k-E;var A=.382683433*((_=x+y)-(S=w+m)),C=.5411961*_+A,P=1.306562965*S+A,D=.707106781*(M=y+w),I=m+D,T=m-D;t[f+5]=T+C,t[f+3]=T-C,t[f+1]=I+P,t[f+7]=I-P,f+=8}for(f=0,u=0;u<8;++u){r=t[f],n=t[f+8],i=t[f+16],o=t[f+24],a=t[f+32],s=t[f+40],l=t[f+48];var R=r+(h=t[f+56]),N=r-h,L=n+l,z=n-l,B=i+s,F=i-s,U=o+a,O=o-a,V=R+U,j=R-U,Y=L+B,X=L-B;t[f]=V+Y,t[f+32]=V-Y;var $=.707106781*(X+j);t[f+16]=j+$,t[f+48]=j-$;var q=.382683433*((V=O+F)-(X=z+N)),H=.5411961*V+q,G=1.306562965*X+q,W=.707106781*(Y=F+z),K=N+W,Z=N-W;t[f+40]=Z+H,t[f+24]=Z-H,t[f+8]=K+G,t[f+56]=K-G,f++}for(u=0;u<64;++u)c=t[u]*e[u],d[u]=c>0?c+.5|0:c-.5|0;return d}(t,e),h=0;h<64;++h)p[k[h]]=l[h];var u=p[0]-r;r=p[0],0==u?R(n[0]):(R(n[f[o=32767+u]]),R(c[o]));for(var m=63;m>0&&0==p[m];m--);if(0==m)return R(a),r;for(var g,w=1;w<=m;){for(var b=w;0==p[w]&&w<=m;++w);var y=w-b;if(y>=16){g=y>>4;for(var v=1;v<=g;++v)R(s);y&=15}o=32767+p[w],R(i[(y<<4)+f[o]]),R(c[o]),w++}return 63!=m&&R(a),r}function B(t){if(t<=0&&(t=1),t>100&&(t=100),o!=t){(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=a((e[r]*t+50)/100);n<1?n=1:n>255&&(n=255),s[k[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var c=a((i[o]*t+50)/100);c<1?c=1:c>255&&(c=255),l[k[o]]=c}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var m=0;m<8;m++)h[d]=1/(s[k[d]]*f[p]*f[m]*8),u[d]=1/(l[k[d]]*f[p]*f[m]*8),d++})(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),o=t}}this.encode=function(t,o){var a;(new Date).getTime();o&&B(o),m=new Array,g=0,w=7,L(65496),L(65504),L(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),L(1),L(1),N(0),N(0),"undefined"!==typeof(a=t.comments)&&a.constructor===Array&&a.forEach((t=>{if("string"===typeof t){L(65534);var e,r=t.length;for(L(r+2),e=0;e<r;e++)N(t.charCodeAt(e))}})),function(t){if(t){L(65505),69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]?L(t.length+2):(L(t.length+5+2),N(69),N(120),N(105),N(102),N(0));for(var e=0;e<t.length;e++)N(t[e])}}(t.exifBuffer),function(){L(65499),L(132),N(0);for(var t=0;t<64;t++)N(s[t]);N(1);for(var e=0;e<64;e++)N(l[e])}(),function(t,e){L(65472),L(17),N(8),L(e),L(t),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1)}(t.width,t.height),function(){L(65476),L(418),N(0);for(var t=0;t<16;t++)N(M[t+1]);for(var e=0;e<=11;e++)N(S[e]);N(16);for(var r=0;r<16;r++)N(E[r+1]);for(var n=0;n<=161;n++)N(A[n]);N(1);for(var i=0;i<16;i++)N(C[i+1]);for(var o=0;o<=11;o++)N(P[o]);N(17);for(var a=0;a<16;a++)N(D[a+1]);for(var s=0;s<=161;s++)N(I[s])}(),L(65498),L(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0);var c=0,f=0,d=0;g=0,w=7,this.encode.displayName="_encode_";for(var p,x,k,T,F,U,O,V,j,Y=t.data,X=t.width,$=t.height,q=4*X,H=0;H<$;){for(p=0;p<q;){for(U=F=q*H+p,O=-1,V=0,j=0;j<64;j++)U=F+(V=j>>3)*q+(O=4*(7&j)),H+V>=$&&(U-=q*(H+1+V-$)),p+O>=q&&(U-=p+O-q+4),x=Y[U++],k=Y[U++],T=Y[U++],b[j]=(_[x]+_[k+256|0]+_[T+512|0]>>16)-128,y[j]=(_[x+768|0]+_[k+1024|0]+_[T+1280|0]>>16)-128,v[j]=(_[x+1280|0]+_[k+1536|0]+_[T+1792|0]>>16)-128;c=z(b,h,c,e,n),f=z(y,u,f,r,i),d=z(v,u,d,r,i),p+=32}H+=8}if(w>=0){var G=[];G[1]=w+1,G[0]=(1<<w+1)-1,R(G)}return L(65497),Buffer.from(m)},function(){(new Date).getTime();t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)x[e]=t(e)}(),e=T(M,S),r=T(C,P),n=T(E,A),i=T(D,I),function(){for(var t=1,e=2,r=1;r<=15;r++){for(var n=t;n<e;n++)f[32767+n]=r,c[32767+n]=[],c[32767+n][1]=r,c[32767+n][0]=n;for(var i=-(e-1);i<=-t;i++)f[32767+i]=r,c[32767+i]=[],c[32767+i][1]=r,c[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)_[t]=19595*t,_[t+256|0]=38470*t,_[t+512|0]=7471*t+32768,_[t+768|0]=-11059*t,_[t+1024|0]=-21709*t,_[t+1280|0]=32768*t+8421375,_[t+1536|0]=-27439*t,_[t+1792|0]=-5329*t}(),B(t),(new Date).getTime()}()}t.exports=function(t,r){"undefined"===typeof r&&(r=50);return{data:new e(r).encode(t,r),width:t.width,height:t.height}}},1512:t=>{t.exports=function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var h=r[a]={exports:{}};e[a][0].call(h.exports,(function(t){var r=e[a][1][t];return i(r||t)}),h,h.exports,t,e,r,n)}return r[a].exports}for(var o=void 0,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,r){var n,i,o,a,s,l=function(t,e){for(var r in e)h.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;n=t("./PriorityQueue/AbstractPriorityQueue"),i=t("./PriorityQueue/ArrayStrategy"),a=t("./PriorityQueue/BinaryHeapStrategy"),o=t("./PriorityQueue/BHeapStrategy"),(s=function(t){function e(t){t||(t={}),t.strategy||(t.strategy=a),t.comparator||(t.comparator=function(t,e){return(t||0)-(e||0)}),e.__super__.constructor.call(this,t)}return l(e,t),e}(n)).ArrayStrategy=i,s.BinaryHeapStrategy=a,s.BHeapStrategy=o,e.exports=s},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(t,e,r){e.exports=function(){function t(t){var e;if(null==(null!=t?t.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=t?t.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new t.strategy(t),this.length=(null!=t&&null!=(e=t.initialValues)?e.length:void 0)||0}return t.prototype.queue=function(t){this.length++,this.priv.queue(t)},t.prototype.dequeue=function(t){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},t.prototype.peek=function(t){if(!this.length)throw"Empty queue";return this.priv.peek()},t.prototype.clear=function(){return this.length=0,this.priv.clear()},t}()},{}],3:[function(t,e,r){var n;n=function(t,e,r){var n,i,o;for(i=0,n=t.length;i<n;)r(t[o=i+n>>>1],e)>=0?i=o+1:n=o;return i},e.exports=function(){function t(t){var e;this.options=t,this.comparator=this.options.comparator,this.data=(null!=(e=this.options.initialValues)?e.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return t.prototype.queue=function(t){var e;e=n(this.data,t,this.comparator),this.data.splice(e,0,t)},t.prototype.dequeue=function(){return this.data.pop()},t.prototype.peek=function(){return this.data[this.data.length-1]},t.prototype.clear=function(){this.data.length=0},t}()},{}],4:[function(t,e,r){e.exports=function(){function t(t){var e,r,n,i,o,a,s,l;for(this.comparator=(null!=t?t.comparator:void 0)||function(t,e){return t-e},this.pageSize=(null!=t?t.pageSize:void 0)||512,this.length=0,s=0;1<<s<this.pageSize;)s+=1;if(1<<s!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=s,this._emptyMemoryPageTemplate=e=[],r=0,o=this.pageSize;0<=o?r<o:r>o;0<=o?++r:--r)e.push(null);if(this._memory=[],this._mask=this.pageSize-1,t.initialValues)for(n=0,i=(a=t.initialValues).length;n<i;n++)l=a[n],this.queue(l)}return t.prototype.queue=function(t){this.length+=1,this._write(this.length,t),this._bubbleUp(this.length,t)},t.prototype.dequeue=function(){var t,e;return t=this._read(1),e=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,e),this._bubbleDown(1,e)),t},t.prototype.peek=function(){return this._read(1)},t.prototype.clear=function(){this.length=0,this._memory.length=0},t.prototype._write=function(t,e){var r;for(r=t>>this._shift;r>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[r][t&this._mask]=e},t.prototype._read=function(t){return this._memory[t>>this._shift][t&this._mask]},t.prototype._bubbleUp=function(t,e){var r,n,i,o;for(r=this.comparator;t>1&&(n=t&this._mask,t<this.pageSize||n>3?i=t&~this._mask|n>>1:n<2?(i=t-this.pageSize>>this._shift,i+=i&~(this._mask>>1),i|=this.pageSize>>1):i=t-2,!(r(o=this._read(i),e)<0));)this._write(i,e),this._write(t,o),t=i},t.prototype._bubbleDown=function(t,e){var r,n,i,o,a;for(a=this.comparator;t<this.length;)if(t>this._mask&&!(t&this._mask-1)?r=n=t+2:t&this.pageSize>>1?(r=(t&~this._mask)>>1,n=1+(r=1+(r|=t&this._mask>>1)<<this._shift)):n=(r=t+(t&this._mask))+1,r!==n&&n<=this.length)if(i=this._read(r),o=this._read(n),a(i,e)<0&&a(i,o)<=0)this._write(r,e),this._write(t,i),t=r;else{if(!(a(o,e)<0))break;this._write(n,e),this._write(t,o),t=n}else{if(!(r<=this.length))break;if(!(a(i=this._read(r),e)<0))break;this._write(r,e),this._write(t,i),t=r}},t}()},{}],5:[function(t,e,r){e.exports=function(){function t(t){var e;this.comparator=(null!=t?t.comparator:void 0)||function(t,e){return t-e},this.length=0,this.data=(null!=(e=t.initialValues)?e.slice(0):void 0)||[],this._heapify()}return t.prototype._heapify=function(){var t,e,r;if(this.data.length>0)for(t=e=1,r=this.data.length;1<=r?e<r:e>r;t=1<=r?++e:--e)this._bubbleUp(t)},t.prototype.queue=function(t){this.data.push(t),this._bubbleUp(this.data.length-1)},t.prototype.dequeue=function(){var t,e;return e=this.data[0],t=this.data.pop(),this.data.length>0&&(this.data[0]=t,this._bubbleDown(0)),e},t.prototype.peek=function(){return this.data[0]},t.prototype.clear=function(){this.length=0,this.data.length=0},t.prototype._bubbleUp=function(t){for(var e,r;t>0&&(e=t-1>>>1,this.comparator(this.data[t],this.data[e])<0);)r=this.data[e],this.data[e]=this.data[t],this.data[t]=r,t=e},t.prototype._bubbleDown=function(t){var e,r,n,i,o;for(e=this.data.length-1;i=1+(r=1+(t<<1)),n=t,r<=e&&this.comparator(this.data[r],this.data[n])<0&&(n=r),i<=e&&this.comparator(this.data[i],this.data[n])<0&&(n=i),n!==t;)o=this.data[n],this.data[n]=this.data[t],this.data[t]=o,t=n},t}()},{}]},{},[1])(1)},4723:function(t){t.exports=function(){"use strict";function t(t){return"string"===typeof t||t instanceof String}var e=Number.isFinite||window.isFinite;function r(t){return e(t)}function n(t){return t}function i(t){var e={};return t.filter((function(t){return!e.hasOwnProperty(t)&&(e[t]=!0)}))}function o(t,e){if(e.length!==t.length)return!1;for(var r=0;r<t.length;r++){if(e[r].compareArray&&!e[r].compareArray(t[r]))return!1;if(e[r]!==t[r])return!1}return!0}function a(t,e){Object.keys(e).forEach((function(r){t[r]=e[r]}))}function s(){for(var t=1,e=0,r=0;r<arguments.length;r++){var n=arguments[r];e+=u(n),t*=n}return 0!==e?h(t,e):t}function l(t,e){if(0===e)throw new Error("Divide by zero");var r=Math.pow(10,u(e));return s(t,r/(r*e))}function h(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function u(t){if(!isFinite(t))return 0;for(var e=0;t%1!==0;)t*=10,e++;return e}function c(){var t;if(!this)return t=Object.create(c.prototype),c.apply(t,arguments),t;t=Error.apply(this,arguments),this.name="QtyError",this.message=t.message,this.stack=t.stack}function f(t,e){throw new c("Incompatible units: "+t+" and "+e)}c.prototype=Object.create(Error.prototype,{constructor:{value:c}});var d={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","\u03bc","\xb5","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["t","tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],86400,"time",["<second>"]],"<week>":[["wk","week","weeks"],604800,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"molar_concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"molar_concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","\u03a9","\u2126"],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules","Joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<electronvolt>":[["eV","electronvolt","electronvolts"],1602176634e-28,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<arcminute>":[["arcmin","arcminute","arcminutes"],Math.PI/10800,"angle",["<radian>"]],"<arcsecond>":[["arcsec","arcsecond","arcseconds"],Math.PI/648e3,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppb>":[["ppb"],1e-9,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-12,"prefix_only",["<1>"]],"<ppq>":[["ppq"],1e-15,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},p=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],m="<1>",g=[m];function w(t,e){var n=e[1],i=e[3]||[],o=e[4]||[];if(!r(n))throw new c(t+": Invalid unit definition. 'scalar' must be a number");i.forEach((function(e){if(void 0===d[e])throw new c(t+": Invalid unit definition. Unit "+e+" in 'numerator' is not recognized")})),o.forEach((function(e){if(void 0===d[e])throw new c(t+": Invalid unit definition. Unit "+e+" in 'denominator' is not recognized")}))}var b={},y={},v={},x={},_={};for(var k in d)if(d.hasOwnProperty(k)){var M=d[k];if("prefix"===M[2]){b[k]=M[1];for(var S=0;S<M[0].length;S++)y[M[0][S]]=k}else{w(k,M),v[k]={scalar:M[1],numerator:M[3],denominator:M[4]};for(var E=0;E<M[0].length;E++)x[M[0][E]]=k}_[k]=M[0][0]}function A(t){var e,r=[],n=Object.keys(d);if("undefined"===typeof t)for(e=0;e<n.length;e++)-1===["","prefix"].indexOf(d[n[e]][2])&&r.push(n[e].substr(1,n[e].length-2));else{if(-1===this.getKinds().indexOf(t))throw new c("Kind not recognized");for(e=0;e<n.length;e++)d[n[e]][2]===t&&r.push(n[e].substr(1,n[e].length-2))}return r.sort((function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0}))}function C(t){if(!x[t])throw new c("Unit not recognized");return d[x[t]][0]}var P=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function D(){if(this.signature)return this.signature;for(var t=I.call(this),e=0;e<t.length;e++)t[e]*=Math.pow(20,e);return t.reduce((function(t,e){return t+e}),0)}function I(){if(!this.isBase())return I.call(this.toBase());for(var t,e,r=new Array(P.length),n=0;n<r.length;n++)r[n]=0;for(var i=0;i<this.numerator.length;i++)(t=d[this.numerator[i]])&&(e=P.indexOf(t[2]))>=0&&(r[e]=r[e]+1);for(var o=0;o<this.denominator.length;o++)(t=d[this.denominator[o]])&&(e=P.indexOf(t[2]))>=0&&(r[e]=r[e]-1);return r}var T="[+-]",R="\\d+",N="\\."+R,L=new RegExp("^("+T+"?\\s*(?:(?:"+R+"(?:"+N+")?)|(?:"+N+"))(?:[Ee]"+T+"?"+R+")?)?\\s*([^/]*)(?:/(.+))?$"),z="\\^|\\*{2}",B="[01234]",F=new RegExp("([^ \\*\\d]+?)(?:"+z+")?(-?"+B+"(?![a-zA-Z]))"),U=new RegExp("([^ \\*\\d]+?)(?:"+z+")?("+B+"(?![a-zA-Z]))");function O(e){t(e)||(e=e.toString()),e=e.trim();var r=L.exec(e);if(!r)throw new c(e+": Quantity not recognized");var n=r[1];n?(n=n.replace(/\s/g,""),this.scalar=parseFloat(n)):this.scalar=1;for(var i,o,a,s=r[2],l=r[3];r=F.exec(s);){if(i=parseFloat(r[2]),isNaN(i))throw new c("Unit exponent is not a number");if(0===i&&!X.test(r[1]))throw new c("Unit not recognized");o=r[1]+" ",a="";for(var h=0;h<Math.abs(i);h++)a+=o;i>=0?s=s.replace(r[0],a):(l=l?l+a:a,s=s.replace(r[0],""))}for(;r=U.exec(l);){if(i=parseFloat(r[2]),isNaN(i))throw new c("Unit exponent is not a number");if(0===i&&!X.test(r[1]))throw new c("Unit not recognized");o=r[1]+" ",a="";for(var u=0;u<i;u++)a+=o;l=l.replace(r[0],a)}s&&(this.numerator=H(s.trim())),l&&(this.denominator=H(l.trim()))}var V=Object.keys(y).sort((function(t,e){return e.length-t.length})).join("|"),j=Object.keys(x).sort((function(t,e){return e.length-t.length})).join("|"),Y="("+V+")??("+j+")(?:\\b|$)",X=new RegExp("^\\s*("+Y+"[\\s\\*]*)+$"),$=new RegExp(Y,"g"),q={};function H(t){var e=q[t];if(e)return e;var r,n=[];if(!X.test(t))throw new c("Unit not recognized");for(;r=$.exec(t);)n.push(r.slice(1));return n=(n=(n=n.map((function(t){return y[t[0]]?[y[t[0]],x[t[1]]]:[x[t[1]]]}))).reduce((function(t,e){return t.concat(e)}),[])).filter((function(t){return t})),q[t]=n,n}function G(e){if(!t(e))throw new c("Argument should be a string");try{return this(e)}catch(r){return null}}function W(t){return t instanceof K}function K(t,e){if(Z.apply(null,arguments),!W(this))return new K(t,e);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=g,this.denominator=g,Q(t)?(this.scalar=t.scalar,this.numerator=t.numerator&&0!==t.numerator.length?t.numerator:g,this.denominator=t.denominator&&0!==t.denominator.length?t.denominator:g):e?(O.call(this,e),this.scalar=t):O.call(this,t),this.denominator.join("*").indexOf("temp")>=0)throw new c("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new c("Cannot multiply by temperatures");if(!o(this.denominator,g))throw new c("Cannot divide with temperatures")}if(this.initValue=t,J.call(this),this.isTemperature()&&this.baseScalar<0)throw new c("Temperatures must not be less than absolute zero")}function Z(e,n){if(n){if(!r(e)||!t(n))throw new c("Only number accepted as initialization value when units are explicitly provided")}else if(!(t(e)||r(e)||W(e)||Q(e)))throw new c("Only string, number or quantity accepted as single initialization value")}function Q(t){return t&&"object"===typeof t&&t.hasOwnProperty("scalar")}function J(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=D.call(this);else{var t=this.toBase();this.baseScalar=t.scalar,this.signature=t.signature}}K.prototype={constructor:K};var tt={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency",25599999980:"information_rate",256e8:"information",511999999980:"angular_velocity",512e9:"angle"};function et(){return i(Object.keys(tt).map((function(t){return tt[t]})))}function rt(t,e){var r=t.units(),n=e.to(r),i=K(ot(r));return K({scalar:t.scalar-n.scalar,numerator:i.numerator,denominator:i.denominator})}function nt(t,e){var r=e.to(ot(t.units()));return K({scalar:t.scalar-r.scalar,numerator:t.numerator,denominator:t.denominator})}function it(t,e){var r=e.to(ot(t.units()));return K({scalar:t.scalar+r.scalar,numerator:t.numerator,denominator:t.denominator})}function ot(t){if("tempK"===t)return"degK";if("tempC"===t)return"degC";if("tempF"===t)return"degF";if("tempR"===t)return"degR";throw new c("Unknown type for temp conversion from: "+t)}function at(t,e){var r,n=st(t),i=e.units();if("degK"===i)r=n.scalar;else if("degC"===i)r=n.scalar;else if("degF"===i)r=9*n.scalar/5;else{if("degR"!==i)throw new c("Unknown type for degree conversion to: "+i);r=9*n.scalar/5}return K({scalar:r,numerator:e.numerator,denominator:e.denominator})}function st(t){var e,r=t.units();if(r.match(/(deg)[CFRK]/))e=t.baseScalar;else if("tempK"===r)e=t.scalar;else if("tempC"===r)e=t.scalar;else if("tempF"===r)e=5*t.scalar/9;else{if("tempR"!==r)throw new c("Unknown type for temp conversion from: "+r);e=5*t.scalar/9}return K({scalar:e,numerator:["<kelvin>"],denominator:g})}function lt(t,e){var r,n=e.units();if("tempK"===n)r=t.baseScalar;else if("tempC"===n)r=t.baseScalar-273.15;else if("tempF"===n)r=9*t.baseScalar/5-459.67;else{if("tempR"!==n)throw new c("Unknown type for temp conversion to: "+n);r=9*t.baseScalar/5}return K({scalar:r,numerator:e.numerator,denominator:e.denominator})}function ht(t){var e,r=t.units();if(r.match(/(deg)[CFRK]/))e=t.baseScalar;else if("tempK"===r)e=t.scalar;else if("tempC"===r)e=t.scalar+273.15;else if("tempF"===r)e=5*(t.scalar+459.67)/9;else{if("tempR"!==r)throw new c("Unknown type for temp conversion from: "+r);e=5*t.scalar/9}return K({scalar:e,numerator:["<temp-K>"],denominator:g})}function ut(t,e){var r,i=K(t),o=K(e);return i.eq(o)?n:(r=i.isTemperature()?function(t){return i.mul(t).to(o).scalar}:function(t){return t*i.baseScalar/o.baseScalar},function(t){var e,n,i;if(Array.isArray(t)){for(n=t.length,i=[],e=0;e<n;e++)i.push(r(t[e]));return i}return r(t)})}K.prototype.kind=function(){return tt[this.signature.toString()]},a(K.prototype,{isDegrees:function(){return(null===this.signature||400===this.signature)&&1===this.numerator.length&&o(this.denominator,g)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}}),a(K.prototype,{to:function(e){var r,n;return void 0===e||null===e?this:t(e)?(r=this._conversionCache[e])?r:(n=K(e)).units()===this.units()?this:(this.isCompatible(n)?n=n.isTemperature()?lt(this,n):n.isDegrees()?at(this,n):K({scalar:l(this.baseScalar,n.baseScalar),numerator:n.numerator,denominator:n.denominator}):this.isInverse(n)?n=this.inverse().to(e):f(this.units(),n.units()),this._conversionCache[e]=n,n):this.to(e.units())},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return ht(this);var t=ct[this.units()];return t||(t=ft(this.numerator,this.denominator),ct[this.units()]=t),t.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new c("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(e){if(t(e)&&(e=K(e)),r(e)&&(e=K(e+" "+this.units())),this.isUnitless()?e.isUnitless()||f(this.units(),e.units()):e=e.to(this.units()),0===e.scalar)throw new c("Divide by zero");return K(s(Math.round(this.scalar/e.scalar),e.scalar)+this.units())}});var ct={};function ft(t,e){for(var r,n=[],i=[],o=1,a=0;a<t.length;a++)r=t[a],b[r]?o=s(o,b[r]):v[r]&&(o*=v[r].scalar,v[r].numerator&&n.push(v[r].numerator),v[r].denominator&&i.push(v[r].denominator));for(var l=0;l<e.length;l++)r=e[l],b[r]?o/=b[r]:v[r]&&(o/=v[r].scalar,v[r].numerator&&i.push(v[r].numerator),v[r].denominator&&n.push(v[r].denominator));return K({scalar:o,numerator:n=n.reduce((function(t,e){return t.concat(e)}),[]),denominator:i=i.reduce((function(t,e){return t.concat(e)}),[])})}function dt(t,e,r,n){function i(t){return t!==m}t=t.filter(i),r=r.filter(i),e=e.filter(i),n=n.filter(i);var o={};function a(t,e){for(var r,n,i,a=0;a<t.length;a++)if(b[t[a]]?(r=t[a+1],n=t[a],i=b[n],a++):(r=t[a],n=null,i=1),r&&r!==m)if(o[r]){o[r][0]+=e;var s=o[r][2]?b[o[r][2]]:1;o[r][1===e?3:4]*=l(i,s)}else o[r]=[e,r,n,1,1]}a(t,1),a(e,-1),a(r,1),a(n,-1);var s=[],h=[],u=1;for(var c in o)if(o.hasOwnProperty(c)){var f,d=o[c];if(d[0]>0)for(f=0;f<d[0];f++)s.push(null===d[2]?d[1]:[d[2],d[1]]);else if(d[0]<0)for(f=0;f<-d[0];f++)h.push(null===d[2]?d[1]:[d[2],d[1]]);u*=l(d[3],d[4])}return 0===s.length&&(s=g),0===h.length&&(h=g),[s=s.reduce((function(t,e){return t.concat(e)}),[]),h=h.reduce((function(t,e){return t.concat(e)}),[]),u]}function pt(){}function mt(t,e){return(t+" "+e).trim()}K.parse=G,K.getUnits=A,K.getAliases=C,K.mulSafe=s,K.divSafe=l,K.getKinds=et,K.swiftConverter=ut,K.Error=c,a(K.prototype,{add:function(e){if(t(e)&&(e=K(e)),this.isCompatible(e)||f(this.units(),e.units()),this.isTemperature()&&e.isTemperature())throw new c("Cannot add two temperatures");return this.isTemperature()?it(this,e):e.isTemperature()?it(e,this):K({scalar:this.scalar+e.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(e){if(t(e)&&(e=K(e)),this.isCompatible(e)||f(this.units(),e.units()),this.isTemperature()&&e.isTemperature())return rt(this,e);if(this.isTemperature())return nt(this,e);if(e.isTemperature())throw new c("Cannot subtract a temperature from a differential degree unit");return K({scalar:this.scalar-e.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(e){if(r(e))return K({scalar:s(this.scalar,e),numerator:this.numerator,denominator:this.denominator});if(t(e)&&(e=K(e)),(this.isTemperature()||e.isTemperature())&&!this.isUnitless()&&!e.isUnitless())throw new c("Cannot multiply by temperatures");var n=this,i=e;n.isCompatible(i)&&400!==n.signature&&(i=i.to(n));var o=dt(n.numerator,n.denominator,i.numerator,i.denominator);return K({scalar:s(n.scalar,i.scalar,o[2]),numerator:o[0],denominator:o[1]})},div:function(e){if(r(e)){if(0===e)throw new c("Divide by zero");return K({scalar:this.scalar/e,numerator:this.numerator,denominator:this.denominator})}if(t(e)&&(e=K(e)),0===e.scalar)throw new c("Divide by zero");if(e.isTemperature())throw new c("Cannot divide with temperatures");if(this.isTemperature()&&!e.isUnitless())throw new c("Cannot divide with temperatures");var n=this,i=e;n.isCompatible(i)&&400!==n.signature&&(i=i.to(n));var o=dt(n.numerator,n.denominator,i.denominator,i.numerator);return K({scalar:s(n.scalar,o[2])/i.scalar,numerator:o[0],denominator:o[1]})},inverse:function(){if(this.isTemperature())throw new c("Cannot divide with temperatures");if(0===this.scalar)throw new c("Divide by zero");return K({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}}),a(K.prototype,{eq:function(t){return 0===this.compareTo(t)},lt:function(t){return-1===this.compareTo(t)},lte:function(t){return this.eq(t)||this.lt(t)},gt:function(t){return 1===this.compareTo(t)},gte:function(t){return this.eq(t)||this.gt(t)},compareTo:function(e){return t(e)?this.compareTo(K(e)):(this.isCompatible(e)||f(this.units(),e.units()),this.baseScalar<e.baseScalar?-1:this.baseScalar===e.baseScalar?0:this.baseScalar>e.baseScalar?1:void 0)},same:function(t){return this.scalar===t.scalar&&this.units()===t.units()}}),a(K.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every((function(t){return o(t,g)}))},isCompatible:function(e){return t(e)?this.isCompatible(K(e)):!!W(e)&&void 0!==e.signature&&this.signature===e.signature},isInverse:function(t){return this.inverse().isCompatible(t)},isBase:function(){return void 0!==this._isBase?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach((function(t){t!==m&&-1===p.indexOf(t)&&(this._isBase=!1)}),this),!1===this._isBase||(this._isBase=!0),this._isBase)}}),pt.prototype.get=function(t){return arguments.length>1&&(t=Array.apply(null,arguments)),t.reduce((function(e,r,n){if(e){var i=e[r];return n===t.length-1?i?i.data:void 0:i}}),this)},pt.prototype.set=function(t,e){return arguments.length>2&&(t=Array.prototype.slice.call(arguments,0,-1),e=arguments[arguments.length-1]),t.reduce((function(r,n,i){var o=r[n];return void 0===o&&(o=r[n]={}),i===t.length-1?(o.data=e,e):o}),this)},K.formatter=mt,a(K.prototype,{units:function(){if(void 0!==this._units)return this._units;var t=o(this.numerator,g),e=o(this.denominator,g);if(t&&e)return this._units="",this._units;var r=wt(this.numerator),n=wt(this.denominator);return this._units=r+(e?"":"/"+n),this._units},toString:function(e,n){var i;if(r(e))i=this.units(),n=e;else if(t(e))i=e;else if(W(e))return this.toPrec(e).toString(n);var o=this.to(i);return o=((void 0!==n?h(o.scalar,n):o.scalar)+" "+o.units()).trim()},format:function(t,e){1===arguments.length&&"function"===typeof t&&(e=t,t=void 0),e=e||K.formatter;var r=this.to(t);return e.call(this,r.scalar,r.units())}});var gt=new pt;function wt(t){var e=gt.get(t);return e||(e=o(t,g)?"1":yt(bt(t)).join("*"),gt.set(t,e),e)}function bt(t){for(var e,r,n=[],i=0;i<t.length;i++)e=t[i],r=t[i+1],b[e]?(n.push(_[e]+_[r]),i++):n.push(_[e]);return n}function yt(t){return t.reduce((function(t,e){var r=t[e];return r||t.push(r=t[e]=[e,0]),r[1]++,t}),[]).map((function(t){return t[0]+(t[1]>1?t[1]:"")}))}return K.version="1.8.0",K}()},9080:t=>{!function(){function e(t){for(var e=0,i=t.length-1,o=void 0,a=void 0,s=void 0,l=n(e,i);;){if(i<=e)return t[l];if(i==e+1)return t[e]>t[i]&&r(t,e,i),t[l];for(t[o=n(e,i)]>t[i]&&r(t,o,i),t[e]>t[i]&&r(t,e,i),t[o]>t[e]&&r(t,o,e),r(t,o,e+1),a=e+1,s=i;;){do{a++}while(t[e]>t[a]);do{s--}while(t[s]>t[e]);if(s<a)break;r(t,a,s)}r(t,e,s),s<=l&&(e=a),s>=l&&(i=s-1)}}var r=function(t,e,r){var n;return n=[t[r],t[e]],t[e]=n[0],t[r]=n[1],n},n=function(t,e){return~~((t+e)/2)};t.exports?t.exports=e:window.median=e}()},4404:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var n=r(6889);function i(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!(0,n.isAnyArray)(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,i=void 0===r?0:r,o=e.toIndex,a=void 0===o?t.length:o;if(i<0||i>=t.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=i||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[i],l=i+1;l<a;l++)t[l]<s&&(s=t[l]);return s}(t),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,i=void 0===r?0:r,o=e.toIndex,a=void 0===o?t.length:o;if(i<0||i>=t.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=i||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[i],l=i+1;l<a;l++)t[l]>s&&(s=t[l]);return s}(t);if(i===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,s=void 0===a?r.autoMinMax?i:0:a,l=r.max,h=void 0===l?r.autoMinMax?o:1:l;if(s>=h)throw new RangeError("min option must be smaller than max option");for(var u=(h-s)/(o-i),c=0;c<t.length;c++)e[c]=(t[c]-i)*u+s;return e}},6788:t=>{"use strict";function e(t){this.value=t,this.parent=null,this.rank=0}t.exports=class{constructor(){this.nodes=new Map}add(t){var r=this.nodes.get(t);return r||(r=new e(t),this.nodes.set(t,r)),r}union(t,e){const r=this.find(t),n=this.find(e);r!==n&&(r.rank<n.rank?r.parent=n:r.rank>n.rank?n.parent=r:(n.parent=r,r.rank++))}find(t){for(var e=t;null!==e.parent;)e=e.parent;for(var r=t;null!==r.parent;){var n=r;r=r.parent,n.parent=e}return e}connected(t,e){return this.find(t)===this.find(e)}}},9233:(t,e,r)=>{"use strict";function n(t,e){let r=0;for(let n=0;n<t.length;n++)r+=(t[n]-e[n])*(t[n]-e[n]);return r}function i(t,e){return Math.sqrt(n(t,e))}r.r(e),r.d(e,{euclidean:()=>i,squaredEuclidean:()=>n})},8772:(t,e,r)=>{"use strict";var n=r(9122),i={DEBUG:!1,ifft2DArray:function(t,e,r){var i=new Array(e*r),o=e/2,a=2*(r-1);n.init(o);for(var s={re:new Array(o),im:new Array(o)},l=0;l<r;l++){for(var h=o-1;h>=0;h--)s.re[h]=t[2*h*r+l],s.im[h]=t[(2*h+1)*r+l];n.bt(s.re,s.im);for(h=o-1;h>=0;h--)i[2*h*r+l]=s.re[h],i[(2*h+1)*r+l]=s.im[h]}var u=new Array(o*a);n.init(a);var c={re:new Array(a),im:new Array(a)},f=a*o;for(h=0;h<e;h+=2){c.re[0]=i[h*r],c.im[0]=i[(h+1)*r];for(l=1;l<r;l++)c.re[l]=i[h*r+l],c.im[l]=i[(h+1)*r+l],c.re[a-l]=i[h*r+l],c.im[a-l]=-i[(h+1)*r+l];n.bt(c.re,c.im);var d=h/2*a;for(l=a-1;l>=0;l--)u[d+l]=c.re[l]/f}return u},fft2DArray:function(t,e,r,i){Object.assign({},{inplace:!0});var o=r/2+1,a=2*e,s=new Array(a*o);n.init(r);for(var l,h,u,c,f,d={re:new Array(r),im:new Array(r)},p={re:new Array(r),im:new Array(r)},m={re:new Array(r),im:new Array(r)},g=0;g<e/2;g++){l=2*g*r,d.re=t.slice(l,l+r),l=(2*g+1)*r,d.im=t.slice(l,l+r),n.fft1d(d.re,d.im),this.reconstructTwoRealFFT(d,p,m),h=4*g*o,u=(4*g+1)*o,c=(4*g+2)*o,f=(4*g+3)*o;for(var w=o-1;w>=0;w--)s[h+w]=p.re[w],s[u+w]=p.im[w],s[c+w]=m.re[w],s[f+w]=m.im[w]}p=null,m=null;var b=new Array(a*o);n.init(e);for(var y={re:new Array(e),im:new Array(e)},v=o-1;v>=0;v--){for(g=e-1;g>=0;g--)y.re[g]=s[2*g*o+v],y.im[g]=s[(2*g+1)*o+v],isNaN(y.re[g])&&(y.re[g]=0),isNaN(y.im[g])&&(y.im[g]=0);n.fft1d(y.re,y.im);for(g=e-1;g>=0;g--)b[2*g*o+v]=y.re[g],b[(2*g+1)*o+v]=y.im[g]}return b},reconstructTwoRealFFT:function(t,e,r){var n,i,o,a,s,l=t.re.length;e.re[0]=t.re[0],e.im[0]=0,r.re[0]=t.im[0],r.im[0]=0;for(var h=l/2;h>0;h--)s=l-h,n=.5*(t.re[h]-t.re[s]),i=.5*(t.re[h]+t.re[s]),o=.5*(t.im[h]-t.im[s]),a=.5*(t.im[h]+t.im[s]),e.re[h]=i,e.im[h]=o,e.re[s]=i,e.im[s]=-o,r.re[h]=a,r.im[h]=-n,r.re[s]=a,r.im[s]=n},convolute2DI:function(t,e,r,n){for(var i,o,a=0;a<r/2;a++)for(var s=0;s<n;s++)i=t[2*a*n+s]*e[2*a*n+s]-t[(2*a+1)*n+s]*e[(2*a+1)*n+s],o=t[2*a*n+s]*e[(2*a+1)*n+s]+t[(2*a+1)*n+s]*e[2*a*n+s],t[2*a*n+s]=i,t[(2*a+1)*n+s]=o},convolute:function(t,e,r,n,i){for(var o=new Array(n*r),a=0;a<r*n;a++)o[a]=t[a];o=this.fft2DArray(o,r,n);var s,l=e.length,h=e[0].length,u=new Array(n*r);for(a=0;a<n*r;a++)u[a]=0;for(var c=Math.floor((l-1)/2),f=Math.floor((h-1)/2),d=0;d<l;d++){s=(d-c+r)%r;for(var p=0;p<h;p++)u[s*n+(p-f+n)%n]=e[d][p]}u=this.fft2DArray(u,r,n);var m=2*r,g=n/2+1;return this.convolute2DI(o,u,m,g),this.ifft2DArray(o,m,g)},toRadix2:function(t,e,r){var n,i,o,a,s=r,l=e;if(0===r||0!==(r&r-1)){for(s=0;r>>++s!=0;);(s=1<<s)-r}if(0===e||0!==(e&e-1)){for(l=0;e>>++l!=0;);((l=1<<l)-e)*s}if(l==e&&s==r)return{data:t,rows:e,cols:r};var h=new Array(l*s),u=Math.floor((l-e)/2)-e,c=Math.floor((s-r)/2)-r;for(n=0;n<l;n++)for(o=n*s,a=(n-u)%e*r,i=0;i<s;i++)h[o+i]=t[a+(i-c)%r];return{data:h,rows:l,cols:s}},crop:function(t,e,r,n,i,o){if(e==n&&r==i)return t;Object.assign({},o);var a,s,l,h,u=new Array(i*n),c=Math.floor((e-n)/2),f=Math.floor((r-i)/2);for(l=0;l<n;l++)for(a=l*i,s=(l+c)*r,h=0;h<i;h++)u[a+h]=t[s+(h+f)];return u}};t.exports=i},9122:function(t,e){(function(){var t,r="0.3.0",n="2013-03";(t=e).toString=function(){return"version "+r+", released "+n};for(var i=0,o=null,a=null,s={init:function(t){if(0===t||0!==(t&t-1))throw new Error("init: radix-2 required");i=t,s._initArray(),s._makeBitReversalTable(),s._makeCosSinTable()},fft1d:function(t,e){s.fft(t,e,1)},ifft1d:function(t,e){var r=1/i;s.fft(t,e,-1);for(var n=0;n<i;n++)t[n]*=r,e[n]*=r},bt1d:function(t,e){s.fft(t,e,-1)},fft2d:function(t,e){for(var r=[],n=[],o=0,a=0;a<i;a++){o=a*i;for(var l=0;l<i;l++)r[l]=t[l+o],n[l]=e[l+o];s.fft1d(r,n);for(var h=0;h<i;h++)t[h+o]=r[h],e[h+o]=n[h]}for(var u=0;u<i;u++){for(var c=0;c<i;c++)o=u+c*i,r[c]=t[o],n[c]=e[o];s.fft1d(r,n);for(var f=0;f<i;f++)t[o=u+f*i]=r[f],e[o]=n[f]}},ifft2d:function(t,e){for(var r=[],n=[],o=0,a=0;a<i;a++){o=a*i;for(var l=0;l<i;l++)r[l]=t[l+o],n[l]=e[l+o];s.ifft1d(r,n);for(var h=0;h<i;h++)t[h+o]=r[h],e[h+o]=n[h]}for(var u=0;u<i;u++){for(var c=0;c<i;c++)o=u+c*i,r[c]=t[o],n[c]=e[o];s.ifft1d(r,n);for(var f=0;f<i;f++)t[o=u+f*i]=r[f],e[o]=n[f]}},fft:function(t,e,r){for(var n,s,l,h,u,c,f,d,p,m=i>>2,g=0;g<i;g++)g<(h=o[g])&&(u=t[g],t[g]=t[h],t[h]=u,u=e[g],e[g]=e[h],e[h]=u);for(var w=1;w<i;w<<=1){s=0,n=i/(w<<1);for(var b=0;b<w;b++){c=a[s+m],f=r*a[s];for(var y=b;y<i;y+=w<<1)d=c*t[l=y+w]+f*e[l],p=c*e[l]-f*t[l],t[l]=t[y]-d,t[y]+=d,e[l]=e[y]-p,e[y]+=p;s+=n}}},_initArray:function(){o="undefined"!==typeof Uint32Array?new Uint32Array(i):[],a="undefined"!==typeof Float64Array?new Float64Array(1.25*i):[]},_paddingZero:function(){},_makeBitReversalTable:function(){var t=0,e=0,r=0;for(o[0]=0;++t<i;){for(r=i>>1;r<=e;)e-=r,r>>=1;e+=r,o[t]=e}},_makeCosSinTable:function(){var t=i>>1,e=i>>2,r=i>>3,n=t+e,o=Math.sin(Math.PI/i),s=2*o*o,l=Math.sqrt(s*(2-s)),h=a[e]=1,u=a[0]=0;o=2*s;for(var c=1;c<r;c++)s+=o*(h-=s),l-=o*(u+=l),a[c]=u,a[e-c]=h;0!==r&&(a[r]=Math.sqrt(.5));for(var f=0;f<e;f++)a[t-f]=a[f];for(var d=0;d<n;d++)a[d+t]=-a[d]}},l=["init","fft1d","ifft1d","fft2d","ifft2d"],h=0;h<l.length;h++)t[l[h]]=s[l[h]];return t.bt=s.bt1d,t.fft=s.fft1d,t.ifft=s.ifft1d,t}).call(this)},1013:(t,e,r)=>{"use strict";e.FFTUtils=r(8772),r(9122)},4456:(t,e,r)=>{"use strict";const{squaredEuclidean:n}=r(9233),i={sigma:1};t.exports=class{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.divisor)}}},813:t=>{"use strict";const e={degree:1,constant:1,scale:1};t.exports=class{constructor(t){t=Object.assign({},e,t),this.degree=t.degree,this.constant=t.constant,this.scale=t.scale}compute(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return Math.pow(this.scale*r+this.constant,this.degree)}}},6052:t=>{"use strict";const e={alpha:.01,constant:-Math.E};t.exports=class{constructor(t){t=Object.assign({},e,t),this.alpha=t.alpha,this.constant=t.constant}compute(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return Math.tanh(this.alpha*r+this.constant)}}},47:(t,e,r)=>{"use strict";const{Matrix:n,MatrixTransposeView:i}=r(6832),o=r(4456),a=r(813),s=r(6052),l=r(8168),h=r(194),u=r(9250),c=r(5623),f={gaussian:o,rbf:o,polynomial:a,poly:a,anova:l,cauchy:h,exponential:u,histogram:c,min:c,laplacian:r(320),multiquadratic:r(480),rational:r(4476),sigmoid:s,mlp:s};t.exports=class{constructor(t,e){if(this.kernelType=t,"linear"!==t)if("string"===typeof t){t=t.toLowerCase();var r=f[t];if(!r)throw new Error(`unsupported kernel type: ${t}`);this.kernelFunction=new r(e)}else{if("object"!==typeof t||"function"!==typeof t.compute)throw new TypeError("first argument must be a valid kernel type or instance");this.kernelFunction=t}}compute(t,e){if(t=n.checkMatrix(t),e=void 0===e?t:n.checkMatrix(e),"linear"===this.kernelType)return t.mmul(new i(e));const r=new n(t.rows,e.rows);if(t===e)for(let n=0;n<t.rows;n++)for(let e=n;e<t.rows;e++){const i=this.kernelFunction.compute(t.getRow(n),t.getRow(e));r.set(n,e,i),r.set(e,n,i)}else for(let n=0;n<t.rows;n++)for(let i=0;i<e.rows;i++)r.set(n,i,this.kernelFunction.compute(t.getRow(n),e.getRow(i)));return r}}},8168:t=>{"use strict";const e={sigma:1,degree:1};t.exports=class{constructor(t){t=Object.assign({},e,t),this.sigma=t.sigma,this.degree=t.degree}compute(t,e){for(var r=0,n=Math.min(t.length,e.length),i=1;i<=n;++i)r+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(t[i-1],i)-Math.pow(e[i-1],i),2)),this.degree);return r}}},194:(t,e,r)=>{"use strict";const{squaredEuclidean:n}=r(9233),i={sigma:1};t.exports=class{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma}compute(t,e){return 1/(1+n(t,e)/(this.sigma*this.sigma))}}},9250:(t,e,r)=>{"use strict";const{euclidean:n}=r(9233),i={sigma:1};t.exports=class{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.divisor)}}},5623:t=>{"use strict";t.exports=class{compute(t,e){for(var r=Math.min(t.length,e.length),n=0,i=0;i<r;++i)n+=Math.min(t[i],e[i]);return n}}},320:(t,e,r)=>{"use strict";const{euclidean:n}=r(9233),i={sigma:1};t.exports=class{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.sigma)}}},480:(t,e,r)=>{"use strict";const{squaredEuclidean:n}=r(9233),i={constant:1};t.exports=class{constructor(t){t=Object.assign({},i,t),this.constant=t.constant}compute(t,e){return Math.sqrt(n(t,e)+this.constant*this.constant)}}},4476:(t,e,r)=>{"use strict";const{squaredEuclidean:n}=r(9233),i={constant:1};t.exports=class{constructor(t){t=Object.assign({},i,t),this.constant=t.constant}compute(t,e){const r=n(t,e);return 1-r/(r+this.constant)}}},8239:(t,e,r)=>{var n=r(1013).FFTUtils;function i(t){var e,r,n=t;if("number"!=typeof t[0]){e=t.length,r=t[0].length,n=new Array(e*r);for(var i=0;i<e;i++)for(var o=0;o<r;o++)n[i*r+o]=t[i][o]}else{var a=Math.sqrt(t.length);Number.isInteger(a)&&(e=a,r=a)}return{data:n,rows:e,cols:r}}t.exports={fft:function(t,e,r){var o,a,s=i(t),l=s.data,h=Object.assign({normalize:!1,divisor:1,rows:s.rows,cols:s.cols},r);if(!h.rows||!h.cols)throw new Error("Invalid number of rows or columns "+o+" "+a);o=h.rows,a=h.cols;var u,c,f=h.divisor,d=e.length,p=e[0].length;if(h.normalize)for(f=0,u=0;u<d;u++)for(c=0;c<p;c++)f+=e[u][c];if(0===f)throw new RangeError("convolution: The divisor is equal to zero");var m=n.toRadix2(l,o,a),g=n.convolute(m.data,e,m.rows,m.cols);if(g=n.crop(g,m.rows,m.cols,o,a),0!=f&&1!=f)for(u=0;u<g.length;u++)g[u]/=f;return g},direct:function(t,e,r){var n,o,a=i(t),s=a.data,l=Object.assign({normalize:!1,divisor:1,rows:a.rows,cols:a.cols},r);if(!l.rows||!l.cols)throw new Error("Invalid number of rows or columns "+n+" "+o);n=l.rows,o=l.cols;var h,u,c,f,d,p,m=l.divisor,g=e.length,w=e[0].length;if(l.normalize)for(m=0,h=0;h<g;h++)for(u=0;u<w;u++)m+=e[h][u];if(0===m)throw new RangeError("convolution: The divisor is equal to zero");var b=new Array(n*o),y=Math.floor(g/2),v=Math.floor(w/2);for(f=0;f<n;f++)for(c=0;c<o;c++){for(d=0,u=0;u<g;u++)for(h=0;h<w;h++)p=e[g-u-1][w-h-1],d+=s[(f+u-y+n)%n*o+(c+h-v+o)%o]*p;b[f*o+c]=d/m}return b},kernelFactory:{LoG:function(t,e,r){var n=1e3;r&&r.factor&&(n=r.factor);var i,o,a,s,l=new Array(e);n*=-1;var h=(e-1)/2,u=2*t*t;for(i=0;i<e;i++)for(l[i]=new Array(e),s=(i-h)*(i-h),o=0;o<e;o++)a=-((o-h)*(o-h)+s)/u,l[i][o]=Math.round(n*(1+a)*Math.exp(a));return l}},matrix2Array:i}},6832:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6889),i=r(4404);const o=" ".repeat(2),a=" ".repeat(4);function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{maxRows:r=15,maxColumns:n=10,maxNumSize:i=8,padMinus:s="auto"}=e;return`${t.constructor.name} {\n${o}[\n${a}${function(t,e,r,n,i){const{rows:o,columns:s}=t,h=Math.min(o,e),u=Math.min(s,r),c=[];if("auto"===i){i=!1;t:for(let e=0;e<h;e++)for(let r=0;r<u;r++)if(t.get(e,r)<0){i=!0;break t}}for(let a=0;a<h;a++){let e=[];for(let r=0;r<u;r++)e.push(l(t.get(a,r),n,i));c.push(`${e.join(" ")}`)}u!==s&&(c[c.length-1]+=` ... ${s-r} more columns`);h!==o&&c.push(`... ${o-e} more rows`);return c.join(`\n${a}`)}(t,r,n,i,s)}\n${o}]\n${o}rows: ${t.rows}\n${o}columns: ${t.columns}\n}`}function l(t,e,r){return(t>=0&&r?` ${h(t,e-1)}`:h(t,e)).padEnd(e)}function h(t,e){let r=t.toString();if(r.length<=e)return r;let n=t.toFixed(e);if(n.length>e&&(n=t.toFixed(Math.max(0,e-(n.length-e)))),n.length<=e&&!n.startsWith("0.000")&&!n.startsWith("-0.000"))return n;let i=t.toExponential(e);return i.length>e&&(i=t.toExponential(Math.max(0,e-(i.length-e)))),i.slice(0)}function u(t,e,r){let n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function c(t,e,r){let n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function f(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function d(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function p(t,e){if(!n.isAnyArray(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw new RangeError("row indices are out of range")}function m(t,e){if(!n.isAnyArray(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw new RangeError("column indices are out of range")}function g(t,e,r,n,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(b("startRow",e),b("endRow",r),b("startColumn",n),b("endColumn",i),e>r||n>i||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function w(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[];for(let n=0;n<t;n++)r.push(e);return r}function b(t,e){if("number"!==typeof e)throw new TypeError(`${t} must be a number`)}function y(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}class v{static from1DArray(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");let n=new _(t,e);for(let i=0;i<t;i++)for(let t=0;t<e;t++)n.set(i,t,r[i*e+t]);return n}static rowVector(t){let e=new _(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new _(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new _(t,e)}static ones(t,e){return new _(t,e).fill(1)}static rand(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof r)throw new TypeError("options must be an object");const{random:n=Math.random}=r;let i=new _(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)i.set(o,t,n());return i}static randInt(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof r)throw new TypeError("options must be an object");const{min:n=0,max:i=1e3,random:o=Math.random}=r;if(!Number.isInteger(n))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(n>=i)throw new RangeError("min must be smaller than max");let a=i-n,s=new _(t,e);for(let l=0;l<t;l++)for(let t=0;t<e;t++){let e=n+Math.round(o()*a);s.set(l,t,e)}return s}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let n=Math.min(t,e),i=this.zeros(t,e);for(let o=0;o<n;o++)i.set(o,o,r);return i}static diag(t,e,r){let n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);let i=Math.min(n,e,r),o=this.zeros(e,r);for(let a=0;a<i;a++)o.set(a,a,t[a]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,i=new _(r,n);for(let o=0;o<r;o++)for(let r=0;r<n;r++)i.set(o,r,Math.min(t.get(o,r),e.get(o,r)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,i=new this(r,n);for(let o=0;o<r;o++)for(let r=0;r<n;r++)i.set(o,r,Math.max(t.get(o,r),e.get(o,r)));return i}static checkMatrix(t){return v.isMatrix(t)?t:new _(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!==typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let t=0;t<this.rows;t++)if(0!==this.get(t,t))return!1;return!0}isEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;for(;t<this.rows&&n;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);t++}return n}isReducedEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;for(;t<this.rows&&n;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(n=!1);t++}return n}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let n=e;for(let i=e;i<t.rows;i++)t.get(i,r)>t.get(n,r)&&(n=i);if(0===t.get(n,r))r++;else{t.swapRows(e,n);let i=t.get(e,r);for(let n=r;n<t.columns;n++)t.set(e,n,t.get(e,n)/i);for(let n=e+1;n<t.rows;n++){let i=t.get(n,r)/t.get(e,r);t.set(n,r,0);for(let o=r+1;o<t.columns;o++)t.set(n,o,t.get(n,o)-t.get(e,o)*i)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;for(;n>=0;)if(0===t.maxRow(n))n--;else{let i=0,o=!1;for(;i<r&&!1===o;)1===t.get(n,i)?o=!0:i++;for(let r=0;r<n;r++){let o=t.get(r,i);for(let a=i;a<e;a++){let e=t.get(r,a)-o*t.get(n,a);t.set(r,a,e)}}n--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let n=new _(this.rows*e,this.columns*r);for(let i=0;i<e;i++)for(let t=0;t<r;t++)n.setSubMatrix(this,this.rows*i,this.columns*t);return n}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){u(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return _.rowVector(this.getRow(t))}setRow(t,e){u(this,t),e=f(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){u(this,t),u(this,e);for(let r=0;r<this.columns;r++){let n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}getColumn(t){c(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return _.columnVector(this.getColumn(t))}setColumn(t,e){c(this,t),e=d(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){c(this,t),c(this,e);for(let r=0;r<this.rows;r++){let n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}addRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=d(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=d(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=d(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=d(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){u(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){c(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){y(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){y(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}maxRow(t){if(u(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){u(this,t),y(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}minRow(t){if(u(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){u(this,t),y(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}maxColumn(t){if(c(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){c(this,t),y(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}minColumn(t){if(c(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){c(this,t),y(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius";switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${t}`)}}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){v.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let n=0;n<e.length;n++)r+=e[n]*t[n];return r}mmul(t){t=_.checkMatrix(t);let e=this.rows,r=this.columns,n=t.columns,i=new _(e,n),o=new Float64Array(r);for(let a=0;a<n;a++){for(let e=0;e<r;e++)o[e]=t.get(e,a);for(let t=0;t<e;t++){let e=0;for(let n=0;n<r;n++)e+=this.get(t,n)*o[n];i.set(t,a,e)}}return i}strassen2x2(t){t=_.checkMatrix(t);let e=new _(2,2);const r=this.get(0,0),n=t.get(0,0),i=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),l=this.get(1,1),h=t.get(1,1),u=(r+l)*(n+h),c=(a+l)*n,f=r*(o-h),d=l*(s-n),p=(r+i)*h,m=u+d-p+(i-l)*(s+h),g=f+p,w=c+d,b=u-c+f+(a-r)*(n+o);return e.set(0,0,m),e.set(0,1,g),e.set(1,0,w),e.set(1,1,b),e}strassen3x3(t){t=_.checkMatrix(t);let e=new _(3,3);const r=this.get(0,0),n=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),l=this.get(2,0),h=this.get(2,1),u=this.get(2,2),c=t.get(0,0),f=t.get(0,1),d=t.get(0,2),p=t.get(1,0),m=t.get(1,1),g=t.get(1,2),w=t.get(2,0),b=t.get(2,1),y=t.get(2,2),v=(r-o)*(-f+m),x=(-r+o+a)*(c-f+m),k=(o+a)*(-c+f),M=r*c,S=(-r+l+h)*(c-d+g),E=(-r+l)*(d-g),A=(l+h)*(-c+d),C=(-i+h+u)*(m+w-b),P=(i-u)*(m-b),D=i*w,I=(h+u)*(-w+b),T=(-i+a+s)*(g+w-y),R=(i-s)*(g-y),N=(a+s)*(-w+y),L=M+D+n*p,z=(r+n+i-o-a-h-u)*m+x+k+M+C+D+I,B=M+S+A+(r+n+i-a-s-l-h)*g+D+T+N,F=v+a*(-c+f+p-m-g-w+y)+x+M+D+T+R,U=v+x+k+M+s*b,O=D+T+R+N+o*d,V=M+S+E+h*(-c+d+p-m-g-w+b)+C+P+D,j=C+P+D+I+l*f,Y=M+S+E+A+u*y;return e.set(0,0,L),e.set(0,1,z),e.set(0,2,B),e.set(1,0,F),e.set(1,1,U),e.set(1,2,O),e.set(2,0,V),e.set(2,1,j),e.set(2,2,Y),e}mmulStrassen(t){t=_.checkMatrix(t);let e=this.clone(),r=e.rows,n=e.columns,i=t.rows,o=t.columns;function a(t,e,r){let n=t.rows,i=t.columns;if(n===e&&i===r)return t;{let n=v.zeros(e,r);return n=n.setSubMatrix(t,0,0),n}}n!==i&&console.warn(`Multiplying ${r} x ${n} and ${i} x ${o} matrix: dimensions do not match.`);let s=Math.max(r,i),l=Math.max(n,o);return e=a(e,s,l),function t(e,r,n,i){if(n<=512||i<=512)return e.mmul(r);n%2===1&&i%2===1?(e=a(e,n+1,i+1),r=a(r,n+1,i+1)):n%2===1?(e=a(e,n+1,i),r=a(r,n+1,i)):i%2===1&&(e=a(e,n,i+1),r=a(r,n,i+1));let o=parseInt(e.rows/2,10),s=parseInt(e.columns/2,10),l=e.subMatrix(0,o-1,0,s-1),h=r.subMatrix(0,o-1,0,s-1),u=e.subMatrix(0,o-1,s,e.columns-1),c=r.subMatrix(0,o-1,s,r.columns-1),f=e.subMatrix(o,e.rows-1,0,s-1),d=r.subMatrix(o,r.rows-1,0,s-1),p=e.subMatrix(o,e.rows-1,s,e.columns-1),m=r.subMatrix(o,r.rows-1,s,r.columns-1),g=t(v.add(l,p),v.add(h,m),o,s),w=t(v.add(f,p),h,o,s),b=t(l,v.sub(c,m),o,s),y=t(p,v.sub(d,h),o,s),x=t(v.add(l,u),m,o,s),_=t(v.sub(f,l),v.add(h,c),o,s),k=t(v.sub(u,p),v.add(d,m),o,s),M=v.add(g,y);M.sub(x),M.add(k);let S=v.add(b,x),E=v.add(w,y),A=v.sub(g,w);A.add(b),A.add(_);let C=v.zeros(2*M.rows,2*M.columns);return C=C.setSubMatrix(M,0,0),C=C.setSubMatrix(S,M.rows,0),C=C.setSubMatrix(E,0,M.columns),C=C.setSubMatrix(A,M.rows,M.columns),C.subMatrix(0,n-1,0,i-1)}(e,t=a(t,s,l),s,l)}scaleRows(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new _(this.rows,this.columns);for(let o=0;o<this.rows;o++){const t=this.getRow(o);t.length>0&&i(t,{min:e,max:r,output:t}),n.setRow(o,t)}return n}scaleColumns(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new _(this.rows,this.columns);for(let o=0;o<this.columns;o++){const t=this.getColumn(o);t.length&&i(t,{min:e,max:r,output:t}),n.setColumn(o,t)}return n}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),n=this.get(e,this.columns-1-r);this.set(e,r,n),this.set(e,this.columns-1-r,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),n=this.get(this.rows-1-r,e);this.set(r,e,n),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=_.checkMatrix(t);let e=this.rows,r=this.columns,n=t.rows,i=t.columns,o=new _(e*n,r*i);for(let a=0;a<e;a++)for(let e=0;e<r;e++)for(let r=0;r<n;r++)for(let s=0;s<i;s++)o.set(n*a+r,i*e+s,this.get(a,e)*t.get(r,s));return o}kroneckerSum(t){if(t=_.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,r=t.rows,n=this.kroneckerProduct(_.eye(r,r)),i=_.eye(e,e).kroneckerProduct(t);return n.add(i)}transpose(){let t=new _(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,n){g(this,t,e,r,n);let i=new _(e-t+1,n-r+1);for(let o=t;o<=e;o++)for(let e=r;e<=n;e++)i.set(o-t,e-r,this.get(o,e));return i}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let n=new _(t.length,r-e+1);for(let i=0;i<t.length;i++)for(let o=e;o<=r;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);n.set(i,o-e,this.get(t[i],o))}return n}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let n=new _(r-e+1,t.length);for(let i=0;i<t.length;i++)for(let o=e;o<=r;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);n.set(o-e,i,this.get(o,t[i]))}return n}setSubMatrix(t,e,r){if((t=_.checkMatrix(t)).isEmpty())return this;g(this,e,e+t.rows-1,r,r+t.columns-1);for(let n=0;n<t.rows;n++)for(let i=0;i<t.columns;i++)this.set(e+n,r+i,t.get(n,i));return this}selection(t,e){p(this,t),m(this,e);let r=new _(t.length,e.length);for(let n=0;n<t.length;n++){let i=t[n];for(let t=0;t<e.length;t++){let o=e[t];r.set(n,t,this.get(i,o))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){return this.constructor.copy(this,new _(this.rows,this.columns))}static copy(t,e){for(const[r,n,i]of t.entries())e.set(r,n,i);return e}sum(t){switch(t){case"row":return function(t){let e=w(t.rows);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}(this);case"column":return function(t){let e=w(t.columns);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}(this);case void 0:return function(t){let e=0;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e+=t.get(r,n);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=w(t.rows,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}(this);case"column":return function(t){let e=w(t.columns,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}(this);case void 0:return function(t){let e=1;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e*=t.get(r,n);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{unbiased:r=!0,mean:i=this.mean(t)}=e;if("boolean"!==typeof r)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!n.isAnyArray(i))throw new TypeError("mean must be an array");return function(t,e,r){const n=t.rows,i=t.columns,o=[];for(let a=0;a<n;a++){let n=0,s=0,l=0;for(let e=0;e<i;e++)l=t.get(a,e)-r[a],n+=l,s+=l*l;e?o.push((s-n*n/i)/(i-1)):o.push((s-n*n/i)/i)}return o}(this,r,i);case"column":if(!n.isAnyArray(i))throw new TypeError("mean must be an array");return function(t,e,r){const n=t.rows,i=t.columns,o=[];for(let a=0;a<i;a++){let i=0,s=0,l=0;for(let e=0;e<n;e++)l=t.get(e,a)-r[a],i+=l,s+=l*l;e?o.push((s-i*i/n)/(n-1)):o.push((s-i*i/n)/n)}return o}(this,r,i);case void 0:if("number"!==typeof i)throw new TypeError("mean must be a number");return function(t,e,r){const n=t.rows,i=t.columns,o=n*i;let a=0,s=0,l=0;for(let h=0;h<n;h++)for(let e=0;e<i;e++)l=t.get(h,e)-r,a+=l,s+=l*l;return e?(s-a*a/o)/(o-1):(s-a*a/o)/o}(this,r,i);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"===typeof t&&(e=t,t=void 0);const r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let n=0;n<r.length;n++)r[n]=Math.sqrt(r[n]);return r}center(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{center:r=this.mean(t)}=e;switch(t){case"row":if(!n.isAnyArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}(this,r),this;case"column":if(!n.isAnyArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}(this,r),this;case void 0:if("number"!==typeof r)throw new TypeError("center must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}scale(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.rows;r++){let n=0;for(let e=0;e<t.columns;e++)n+=t.get(r,e)**2/(t.columns-1);e.push(Math.sqrt(n))}return e}(this);else if(!n.isAnyArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}(this,r),this;case"column":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.columns;r++){let n=0;for(let e=0;e<t.rows;e++)n+=t.get(e,r)**2/(t.rows-1);e.push(Math.sqrt(n))}return e}(this);else if(!n.isAnyArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}(this,r),this;case void 0:if(void 0===r)r=function(t){const e=t.size-1;let r=0;for(let n=0;n<t.columns;n++)for(let i=0;i<t.rows;i++)r+=t.get(i,n)**2/e;return Math.sqrt(r)}(this);else if("number"!==typeof r)throw new TypeError("scale must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return s(this,t)}[Symbol.iterator](){return this.entries()}*entries(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield[t,e,this.get(t,e)]}*values(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield this.get(t,e)}}function x(t,e){return t-e}v.prototype.klass="Matrix","undefined"!==typeof Symbol&&(v.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return s(this)}),v.random=v.rand,v.randomInt=v.randInt,v.diagonal=v.diag,v.prototype.diagonal=v.prototype.diag,v.identity=v.eye,v.prototype.negate=v.prototype.neg,v.prototype.tensorProduct=v.prototype.kroneckerProduct;class _ extends v{data;#t(t,e){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let r=0;r<t;r++)this.data.push(new Float64Array(e));this.rows=t,this.columns=e}constructor(t,e){if(super(),_.isMatrix(t))this.#t(t.rows,t.columns),_.copy(t,this);else if(Number.isInteger(t)&&t>=0)this.#t(t,e);else{if(!n.isAnyArray(t))throw new TypeError("First argument must be a positive number or an array");{const r=t;if("number"!==typeof(e=(t=r.length)?r[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let n=0;n<t;n++){if(r[n].length!==e)throw new RangeError("Inconsistent array dimensions");if(!r[n].every((t=>"number"===typeof t)))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[n]))}this.rows=t,this.columns=e}}}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){return u(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),u(this,t,!0),e=Float64Array.from(f(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){c(this,t);for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let n=0;n<t;n++)r[n]=this.data[e][n];for(let n=t+1;n<this.columns;n++)r[n-1]=this.data[e][n];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){"undefined"===typeof e&&(e=t,t=this.columns),c(this,t,!0),e=d(this,e);for(let r=0;r<this.rows;r++){const n=new Float64Array(this.columns+1);let i=0;for(;i<t;i++)n[i]=this.data[r][i];for(n[i++]=e[r];i<this.columns+1;i++)n[i]=this.data[r][i-1];this.data[r]=n}return this.columns+=1,this}}!function(t,e){t.prototype.add=function(t){return"number"===typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},t.add=function(t,r){return new e(t).add(r)},t.prototype.sub=function(t){return"number"===typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},t.sub=function(t,r){return new e(t).sub(r)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"===typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},t.mul=function(t,r){return new e(t).mul(r)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"===typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},t.div=function(t,r){return new e(t).div(r)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"===typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},t.mod=function(t,r){return new e(t).mod(r)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"===typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},t.and=function(t,r){return new e(t).and(r)},t.prototype.or=function(t){return"number"===typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},t.or=function(t,r){return new e(t).or(r)},t.prototype.xor=function(t){return"number"===typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},t.xor=function(t,r){return new e(t).xor(r)},t.prototype.leftShift=function(t){return"number"===typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},t.leftShift=function(t,r){return new e(t).leftShift(r)},t.prototype.signPropagatingRightShift=function(t){return"number"===typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},t.signPropagatingRightShift=function(t,r){return new e(t).signPropagatingRightShift(r)},t.prototype.rightShift=function(t){return"number"===typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},t.rightShift=function(t,r){return new e(t).rightShift(r)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){return new e(t).not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){return new e(t).abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){return new e(t).acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){return new e(t).acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){return new e(t).asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){return new e(t).asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){return new e(t).atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){return new e(t).atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){return new e(t).cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){return new e(t).ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){return new e(t).clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){return new e(t).cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){return new e(t).cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){return new e(t).exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){return new e(t).expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){return new e(t).floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){return new e(t).fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){return new e(t).log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){return new e(t).log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){return new e(t).log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){return new e(t).log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){return new e(t).round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){return new e(t).sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){return new e(t).sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){return new e(t).sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){return new e(t).sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){return new e(t).tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){return new e(t).tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){return new e(t).trunc()},t.pow=function(t,r){return new e(t).pow(r)},t.prototype.pow=function(t){return"number"===typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t);return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t.get(e,r));return this}}(v,_);class k extends v{#e;get size(){return this.#e.size}get rows(){return this.#e.rows}get columns(){return this.#e.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(t){return _.isMatrix(t)&&"SymmetricMatrix"===t.klassType}static zeros(t){return new this(t)}static ones(t){return new this(t).fill(1)}constructor(t){if(super(),_.isMatrix(t)){if(!t.isSymmetric())throw new TypeError("not symmetric data");this.#e=_.copy(t,new _(t.rows,t.rows))}else if(Number.isInteger(t)&&t>=0)this.#e=new _(t,t);else if(this.#e=new _(t),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){const t=new k(this.diagonalSize);for(const[e,r,n]of this.upperRightEntries())t.set(e,r,n);return t}toMatrix(){return new _(this)}get(t,e){return this.#e.get(t,e)}set(t,e,r){return this.#e.set(t,e,r),this.#e.set(e,t,r),this}removeCross(t){return this.#e.removeRow(t),this.#e.removeColumn(t),this}addCross(t,e){void 0===e&&(e=t,t=this.diagonalSize);const r=e.slice();return r.splice(t,1),this.#e.addRow(t,r),this.#e.addColumn(t,e),this}applyMask(t){if(t.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const e=[];for(const[r,n]of t.entries())n||e.push(r);e.reverse();for(const r of e)this.removeCross(r);return this}toCompact(){const{diagonalSize:t}=this,e=new Array(t*(t+1)/2);for(let r=0,n=0,i=0;i<e.length;i++)e[i]=this.get(n,r),++r>=t&&(r=++n);return e}static fromCompact(t){const e=t.length,r=(Math.sqrt(8*e+1)-1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(t)}`);const n=new k(r);for(let i=0,o=0,a=0;a<e;a++)n.set(i,o,t[a]),++i>=r&&(i=++o);return n}*upperRightEntries(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield[t,e,r],++e>=this.diagonalSize&&(e=++t)}}*upperRightValues(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield r,++e>=this.diagonalSize&&(e=++t)}}}k.prototype.klassType="SymmetricMatrix";class M extends k{static isDistanceMatrix(t){return k.isSymmetricMatrix(t)&&"DistanceMatrix"===t.klassSubType}constructor(t){if(super(t),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(t,e,r){return t===e&&(r=0),super.set(t,e,r)}addCross(t,e){return void 0===e&&(e=t,t=this.diagonalSize),(e=e.slice())[t]=0,super.addCross(t,e)}toSymmetricMatrix(){return new k(this)}clone(){const t=new M(this.diagonalSize);for(const[e,r,n]of this.upperRightEntries())e!==r&&t.set(e,r,n);return t}toCompact(){const{diagonalSize:t}=this,e=new Array((t-1)*t/2);for(let r=1,n=0,i=0;i<e.length;i++)e[i]=this.get(n,r),++r>=t&&(r=1+ ++n);return e}static fromCompact(t){const e=t.length;if(0===e)return new this(0);const r=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(t)}`);const n=new this(r);for(let i=1,o=0,a=0;a<e;a++)n.set(i,o,t[a]),++i>=r&&(i=1+ ++o);return n}}M.prototype.klassSubType="DistanceMatrix";class S extends v{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}class E extends S{constructor(t,e,r){p(t,e),m(t,r),super(t,e.length,r.length),this.rowIndices=e,this.columnIndices=r}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class A extends v{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{rows:r=1}=e;if(t.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){let n=this._calculateIndex(t,e);return this.data[n]=r,this}get(t,e){let r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}}class C extends v{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}class P{constructor(t){let e,r,n,i,o,a,s,l,h,u=(t=C.checkMatrix(t)).clone(),c=u.rows,f=u.columns,d=new Float64Array(c),p=1;for(e=0;e<c;e++)d[e]=e;for(l=new Float64Array(c),r=0;r<f;r++){for(e=0;e<c;e++)l[e]=u.get(e,r);for(e=0;e<c;e++){for(h=Math.min(e,r),o=0,n=0;n<h;n++)o+=u.get(e,n)*l[n];l[e]-=o,u.set(e,r,l[e])}for(i=r,e=r+1;e<c;e++)Math.abs(l[e])>Math.abs(l[i])&&(i=e);if(i!==r){for(n=0;n<f;n++)a=u.get(i,n),u.set(i,n,u.get(r,n)),u.set(r,n,a);s=d[i],d[i]=d[r],d[r]=s,p=-p}if(r<c&&0!==u.get(r,r))for(e=r+1;e<c;e++)u.set(e,r,u.get(e,r)/u.get(r,r))}this.LU=u,this.pivotVector=d,this.pivotSign=p}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){t=_.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r,n,i,o=t.columns,a=t.subMatrixRow(this.pivotVector,0,o-1),s=e.columns;for(i=0;i<s;i++)for(r=i+1;r<s;r++)for(n=0;n<o;n++)a.set(r,n,a.get(r,n)-a.get(i,n)*e.get(r,i));for(i=s-1;i>=0;i--){for(n=0;n<o;n++)a.set(i,n,a.get(i,n)/e.get(i,i));for(r=0;r<i;r++)for(n=0;n<o;n++)a.set(r,n,a.get(r,n)-a.get(i,n)*e.get(r,i))}return a}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let n=0;n<r;n++)e*=t.get(n,n);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new _(e,r);for(let i=0;i<e;i++)for(let e=0;e<r;e++)i>e?n.set(i,e,t.get(i,e)):i===e?n.set(i,e,1):n.set(i,e,0);return n}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new _(e,r);for(let i=0;i<e;i++)for(let e=0;e<r;e++)i<=e?n.set(i,e,t.get(i,e)):n.set(i,e,0);return n}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function D(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class I{constructor(t){let e,r,n,i,o=(t=C.checkMatrix(t)).clone(),a=t.rows,s=t.columns,l=new Float64Array(s);for(n=0;n<s;n++){let t=0;for(e=n;e<a;e++)t=D(t,o.get(e,n));if(0!==t){for(o.get(n,n)<0&&(t=-t),e=n;e<a;e++)o.set(e,n,o.get(e,n)/t);for(o.set(n,n,o.get(n,n)+1),r=n+1;r<s;r++){for(i=0,e=n;e<a;e++)i+=o.get(e,n)*o.get(e,r);for(i=-i/o.get(n,n),e=n;e<a;e++)o.set(e,r,o.get(e,r)+i*o.get(e,n))}}l[n]=-t}this.QR=o,this.Rdiag=l}solve(t){t=_.checkMatrix(t);let e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let n,i,o,a,s=t.columns,l=t.clone(),h=e.columns;for(o=0;o<h;o++)for(i=0;i<s;i++){for(a=0,n=o;n<r;n++)a+=e.get(n,o)*l.get(n,i);for(a=-a/e.get(o,o),n=o;n<r;n++)l.set(n,i,l.get(n,i)+a*e.get(n,o))}for(o=h-1;o>=0;o--){for(i=0;i<s;i++)l.set(o,i,l.get(o,i)/this.Rdiag[o]);for(n=0;n<o;n++)for(i=0;i<s;i++)l.set(n,i,l.get(n,i)-l.get(o,i)*e.get(n,o))}return l.subMatrix(0,h-1,0,s-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,n=r.columns,i=new _(n,n);for(t=0;t<n;t++)for(e=0;e<n;e++)t<e?i.set(t,e,r.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}get orthogonalMatrix(){let t,e,r,n,i=this.QR,o=i.rows,a=i.columns,s=new _(o,a);for(r=a-1;r>=0;r--){for(t=0;t<o;t++)s.set(t,r,0);for(s.set(r,r,1),e=r;e<a;e++)if(0!==i.get(r,r)){for(n=0,t=r;t<o;t++)n+=i.get(t,r)*s.get(t,e);for(n=-n/i.get(r,r),t=r;t<o;t++)s.set(t,e,s.get(t,e)+n*i.get(t,r))}}return s}}class T{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((t=C.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,n=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=e;let s,l=Boolean(i),h=Boolean(o),u=!1;if(r<n)if(a){s=t.transpose(),r=s.rows,n=s.columns,u=!0;let e=l;l=h,h=e}else s=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=t.clone();let c=Math.min(r,n),f=Math.min(r+1,n),d=new Float64Array(f),p=new _(r,c),m=new _(n,n),g=new Float64Array(n),w=new Float64Array(r),b=new Float64Array(f);for(let _=0;_<f;_++)b[_]=_;let y=Math.min(r-1,n),v=Math.max(0,Math.min(n-2,r)),x=Math.max(y,v);for(let _=0;_<x;_++){if(_<y){d[_]=0;for(let t=_;t<r;t++)d[_]=D(d[_],s.get(t,_));if(0!==d[_]){s.get(_,_)<0&&(d[_]=-d[_]);for(let t=_;t<r;t++)s.set(t,_,s.get(t,_)/d[_]);s.set(_,_,s.get(_,_)+1)}d[_]=-d[_]}for(let t=_+1;t<n;t++){if(_<y&&0!==d[_]){let e=0;for(let n=_;n<r;n++)e+=s.get(n,_)*s.get(n,t);e=-e/s.get(_,_);for(let n=_;n<r;n++)s.set(n,t,s.get(n,t)+e*s.get(n,_))}g[t]=s.get(_,t)}if(l&&_<y)for(let t=_;t<r;t++)p.set(t,_,s.get(t,_));if(_<v){g[_]=0;for(let t=_+1;t<n;t++)g[_]=D(g[_],g[t]);if(0!==g[_]){g[_+1]<0&&(g[_]=0-g[_]);for(let t=_+1;t<n;t++)g[t]/=g[_];g[_+1]+=1}if(g[_]=-g[_],_+1<r&&0!==g[_]){for(let t=_+1;t<r;t++)w[t]=0;for(let t=_+1;t<r;t++)for(let e=_+1;e<n;e++)w[t]+=g[e]*s.get(t,e);for(let t=_+1;t<n;t++){let e=-g[t]/g[_+1];for(let n=_+1;n<r;n++)s.set(n,t,s.get(n,t)+e*w[n])}}if(h)for(let t=_+1;t<n;t++)m.set(t,_,g[t])}}let k=Math.min(n,r+1);if(y<n&&(d[y]=s.get(y,y)),r<k&&(d[k-1]=0),v+1<k&&(g[v]=s.get(v,k-1)),g[k-1]=0,l){for(let t=y;t<c;t++){for(let e=0;e<r;e++)p.set(e,t,0);p.set(t,t,1)}for(let t=y-1;t>=0;t--)if(0!==d[t]){for(let e=t+1;e<c;e++){let n=0;for(let i=t;i<r;i++)n+=p.get(i,t)*p.get(i,e);n=-n/p.get(t,t);for(let i=t;i<r;i++)p.set(i,e,p.get(i,e)+n*p.get(i,t))}for(let e=t;e<r;e++)p.set(e,t,-p.get(e,t));p.set(t,t,1+p.get(t,t));for(let e=0;e<t-1;e++)p.set(e,t,0)}else{for(let e=0;e<r;e++)p.set(e,t,0);p.set(t,t,1)}}if(h)for(let _=n-1;_>=0;_--){if(_<v&&0!==g[_])for(let t=_+1;t<n;t++){let e=0;for(let r=_+1;r<n;r++)e+=m.get(r,_)*m.get(r,t);e=-e/m.get(_+1,_);for(let r=_+1;r<n;r++)m.set(r,t,m.get(r,t)+e*m.get(r,_))}for(let t=0;t<n;t++)m.set(t,_,0);m.set(_,_,1)}let M=k-1,S=Number.EPSILON;for(;k>0;){let t,e;for(t=k-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+S*Math.abs(d[t]+Math.abs(d[t+1]));if(Math.abs(g[t])<=e||Number.isNaN(g[t])){g[t]=0;break}}if(t===k-2)e=4;else{let r;for(r=k-1;r>=t&&r!==t;r--){let e=(r!==k?Math.abs(g[r]):0)+(r!==t+1?Math.abs(g[r-1]):0);if(Math.abs(d[r])<=S*e){d[r]=0;break}}r===t?e=3:r===k-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=g[k-2];g[k-2]=0;for(let r=k-2;r>=t;r--){let i=D(d[r],e),o=d[r]/i,a=e/i;if(d[r]=i,r!==t&&(e=-a*g[r-1],g[r-1]=o*g[r-1]),h)for(let t=0;t<n;t++)i=o*m.get(t,r)+a*m.get(t,k-1),m.set(t,k-1,-a*m.get(t,r)+o*m.get(t,k-1)),m.set(t,r,i)}break}case 2:{let e=g[t-1];g[t-1]=0;for(let n=t;n<k;n++){let i=D(d[n],e),o=d[n]/i,a=e/i;if(d[n]=i,e=-a*g[n],g[n]=o*g[n],l)for(let e=0;e<r;e++)i=o*p.get(e,n)+a*p.get(e,t-1),p.set(e,t-1,-a*p.get(e,n)+o*p.get(e,t-1)),p.set(e,n,i)}break}case 3:{const e=Math.max(Math.abs(d[k-1]),Math.abs(d[k-2]),Math.abs(g[k-2]),Math.abs(d[t]),Math.abs(g[t])),i=d[k-1]/e,o=d[k-2]/e,a=g[k-2]/e,s=d[t]/e,u=g[t]/e,c=((o+i)*(o-i)+a*a)/2,f=i*a*(i*a);let w=0;0===c&&0===f||(w=c<0?0-Math.sqrt(c*c+f):Math.sqrt(c*c+f),w=f/(c+w));let b=(s+i)*(s-i)+w,y=s*u;for(let v=t;v<k-1;v++){let e=D(b,y);0===e&&(e=Number.MIN_VALUE);let i=b/e,o=y/e;if(v!==t&&(g[v-1]=e),b=i*d[v]+o*g[v],g[v]=i*g[v]-o*d[v],y=o*d[v+1],d[v+1]=i*d[v+1],h)for(let t=0;t<n;t++)e=i*m.get(t,v)+o*m.get(t,v+1),m.set(t,v+1,-o*m.get(t,v)+i*m.get(t,v+1)),m.set(t,v,e);if(e=D(b,y),0===e&&(e=Number.MIN_VALUE),i=b/e,o=y/e,d[v]=e,b=i*g[v]+o*d[v+1],d[v+1]=-o*g[v]+i*d[v+1],y=o*g[v+1],g[v+1]=i*g[v+1],l&&v<r-1)for(let t=0;t<r;t++)e=i*p.get(t,v)+o*p.get(t,v+1),p.set(t,v+1,-o*p.get(t,v)+i*p.get(t,v+1)),p.set(t,v,e)}g[k-2]=b;break}case 4:if(d[t]<=0&&(d[t]=d[t]<0?-d[t]:0,h))for(let e=0;e<=M;e++)m.set(e,t,-m.get(e,t));for(;t<M&&!(d[t]>=d[t+1]);){let e=d[t];if(d[t]=d[t+1],d[t+1]=e,h&&t<n-1)for(let r=0;r<n;r++)e=m.get(r,t+1),m.set(r,t+1,m.get(r,t)),m.set(r,t,e);if(l&&t<r-1)for(let n=0;n<r;n++)e=p.get(n,t+1),p.set(n,t+1,p.get(n,t)),p.set(n,t,e);t++}k--}}if(u){let t=m;m=p,p=t}this.m=r,this.n=n,this.s=d,this.U=p,this.V=m}solve(t){let e=t,r=this.threshold,n=this.s.length,i=_.zeros(n,n);for(let c=0;c<n;c++)Math.abs(this.s[c])<=r?i.set(c,c,0):i.set(c,c,1/this.s[c]);let o=this.U,a=this.rightSingularVectors,s=a.mmul(i),l=a.rows,h=o.rows,u=_.zeros(l,h);for(let c=0;c<l;c++)for(let t=0;t<h;t++){let e=0;for(let r=0;r<n;r++)e+=s.get(c,r)*o.get(t,r);u.set(c,t,e)}return u.mmul(e)}solveForDiagonal(t){return this.solve(_.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,n=t.columns,i=new _(r,this.s.length);for(let h=0;h<r;h++)for(let r=0;r<n;r++)Math.abs(this.s[r])>e&&i.set(h,r,t.get(h,r)/this.s[r]);let o=this.U,a=o.rows,s=o.columns,l=new _(r,a);for(let h=0;h<r;h++)for(let t=0;t<a;t++){let e=0;for(let r=0;r<s;r++)e+=i.get(h,r)*o.get(t,r);l.set(h,t,e)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let n=0,i=r.length;n<i;n++)r[n]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return _.diag(this.s)}}function R(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=C.checkMatrix(t),e=C.checkMatrix(e),r?new T(t).solve(e):t.isSquare()?new P(t).solve(e):new I(t).solve(e)}function N(t,e){let r=[];for(let n=0;n<t;n++)n!==e&&r.push(n);return r}function L(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-9;if(t>(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-9))return new Array(e.rows+1).fill(0);{let t=e.addRow(r,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<n&&t.set(e,0,0);return t.to1DArray()}}class z{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{assumeSymmetric:r=!1}=e;if(!(t=C.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let n,i,o=t.columns,a=new _(o,o),s=new Float64Array(o),l=new Float64Array(o),h=t,u=!1;if(u=!!r||t.isSymmetric(),u){for(n=0;n<o;n++)for(i=0;i<o;i++)a.set(n,i,h.get(n,i));!function(t,e,r,n){let i,o,a,s,l,h,u,c;for(l=0;l<t;l++)r[l]=n.get(t-1,l);for(s=t-1;s>0;s--){for(c=0,a=0,h=0;h<s;h++)c+=Math.abs(r[h]);if(0===c)for(e[s]=r[s-1],l=0;l<s;l++)r[l]=n.get(s-1,l),n.set(s,l,0),n.set(l,s,0);else{for(h=0;h<s;h++)r[h]/=c,a+=r[h]*r[h];for(i=r[s-1],o=Math.sqrt(a),i>0&&(o=-o),e[s]=c*o,a-=i*o,r[s-1]=i-o,l=0;l<s;l++)e[l]=0;for(l=0;l<s;l++){for(i=r[l],n.set(l,s,i),o=e[l]+n.get(l,l)*i,h=l+1;h<=s-1;h++)o+=n.get(h,l)*r[h],e[h]+=n.get(h,l)*i;e[l]=o}for(i=0,l=0;l<s;l++)e[l]/=a,i+=e[l]*r[l];for(u=i/(a+a),l=0;l<s;l++)e[l]-=u*r[l];for(l=0;l<s;l++){for(i=r[l],o=e[l],h=l;h<=s-1;h++)n.set(h,l,n.get(h,l)-(i*e[h]+o*r[h]));r[l]=n.get(s-1,l),n.set(s,l,0)}}r[s]=a}for(s=0;s<t-1;s++){if(n.set(t-1,s,n.get(s,s)),n.set(s,s,1),a=r[s+1],0!==a){for(h=0;h<=s;h++)r[h]=n.get(h,s+1)/a;for(l=0;l<=s;l++){for(o=0,h=0;h<=s;h++)o+=n.get(h,s+1)*n.get(h,l);for(h=0;h<=s;h++)n.set(h,l,n.get(h,l)-o*r[h])}}for(h=0;h<=s;h++)n.set(h,s+1,0)}for(l=0;l<t;l++)r[l]=n.get(t-1,l),n.set(t-1,l,0);n.set(t-1,t-1,1),e[0]=0}(o,l,s,a),function(t,e,r,n){let i,o,a,s,l,h,u,c,f,d,p,m,g,w,b,y;for(a=1;a<t;a++)e[a-1]=e[a];e[t-1]=0;let v=0,x=0,_=Number.EPSILON;for(h=0;h<t;h++){for(x=Math.max(x,Math.abs(r[h])+Math.abs(e[h])),u=h;u<t&&!(Math.abs(e[u])<=_*x);)u++;if(u>h)do{for(i=r[h],c=(r[h+1]-i)/(2*e[h]),f=D(c,1),c<0&&(f=-f),r[h]=e[h]/(c+f),r[h+1]=e[h]*(c+f),d=r[h+1],o=i-r[h],a=h+2;a<t;a++)r[a]-=o;for(v+=o,c=r[u],p=1,m=p,g=p,w=e[h+1],b=0,y=0,a=u-1;a>=h;a--)for(g=m,m=p,y=b,i=p*e[a],o=p*c,f=D(c,e[a]),e[a+1]=b*f,b=e[a]/f,p=c/f,c=p*r[a]-b*i,r[a+1]=o+b*(p*i+b*r[a]),l=0;l<t;l++)o=n.get(l,a+1),n.set(l,a+1,b*n.get(l,a)+p*o),n.set(l,a,p*n.get(l,a)-b*o);c=-b*y*g*w*e[h]/d,e[h]=b*c,r[h]=p*c}while(Math.abs(e[h])>_*x);r[h]=r[h]+v,e[h]=0}for(a=0;a<t-1;a++){for(l=a,c=r[a],s=a+1;s<t;s++)r[s]<c&&(l=s,c=r[s]);if(l!==a)for(r[l]=r[a],r[a]=c,s=0;s<t;s++)c=n.get(s,a),n.set(s,a,n.get(s,l)),n.set(s,l,c)}}(o,l,s,a)}else{let t=new _(o,o),e=new Float64Array(o);for(i=0;i<o;i++)for(n=0;n<o;n++)t.set(n,i,h.get(n,i));!function(t,e,r,n){let i,o,a,s,l,h,u,c=0,f=t-1;for(h=c+1;h<=f-1;h++){for(u=0,s=h;s<=f;s++)u+=Math.abs(e.get(s,h-1));if(0!==u){for(a=0,s=f;s>=h;s--)r[s]=e.get(s,h-1)/u,a+=r[s]*r[s];for(o=Math.sqrt(a),r[h]>0&&(o=-o),a-=r[h]*o,r[h]=r[h]-o,l=h;l<t;l++){for(i=0,s=f;s>=h;s--)i+=r[s]*e.get(s,l);for(i/=a,s=h;s<=f;s++)e.set(s,l,e.get(s,l)-i*r[s])}for(s=0;s<=f;s++){for(i=0,l=f;l>=h;l--)i+=r[l]*e.get(s,l);for(i/=a,l=h;l<=f;l++)e.set(s,l,e.get(s,l)-i*r[l])}r[h]=u*r[h],e.set(h,h-1,u*o)}}for(s=0;s<t;s++)for(l=0;l<t;l++)n.set(s,l,s===l?1:0);for(h=f-1;h>=c+1;h--)if(0!==e.get(h,h-1)){for(s=h+1;s<=f;s++)r[s]=e.get(s,h-1);for(l=h;l<=f;l++){for(o=0,s=h;s<=f;s++)o+=r[s]*n.get(s,l);for(o=o/r[h]/e.get(h,h-1),s=h;s<=f;s++)n.set(s,l,n.get(s,l)+o*r[s])}}}(o,t,e,a),function(t,e,r,n,i){let o,a,s,l,h,u,c,f,d,p,m,g,w,b,y,v=t-1,x=0,_=t-1,k=Number.EPSILON,M=0,S=0,E=0,A=0,C=0,P=0,D=0,I=0;for(o=0;o<t;o++)for((o<x||o>_)&&(r[o]=i.get(o,o),e[o]=0),a=Math.max(o-1,0);a<t;a++)S+=Math.abs(i.get(o,a));for(;v>=x;){for(l=v;l>x&&(P=Math.abs(i.get(l-1,l-1))+Math.abs(i.get(l,l)),0===P&&(P=S),!(Math.abs(i.get(l,l-1))<k*P));)l--;if(l===v)i.set(v,v,i.get(v,v)+M),r[v]=i.get(v,v),e[v]=0,v--,I=0;else if(l===v-1){if(c=i.get(v,v-1)*i.get(v-1,v),E=(i.get(v-1,v-1)-i.get(v,v))/2,A=E*E+c,D=Math.sqrt(Math.abs(A)),i.set(v,v,i.get(v,v)+M),i.set(v-1,v-1,i.get(v-1,v-1)+M),f=i.get(v,v),A>=0){for(D=E>=0?E+D:E-D,r[v-1]=f+D,r[v]=r[v-1],0!==D&&(r[v]=f-c/D),e[v-1]=0,e[v]=0,f=i.get(v,v-1),P=Math.abs(f)+Math.abs(D),E=f/P,A=D/P,C=Math.sqrt(E*E+A*A),E/=C,A/=C,a=v-1;a<t;a++)D=i.get(v-1,a),i.set(v-1,a,A*D+E*i.get(v,a)),i.set(v,a,A*i.get(v,a)-E*D);for(o=0;o<=v;o++)D=i.get(o,v-1),i.set(o,v-1,A*D+E*i.get(o,v)),i.set(o,v,A*i.get(o,v)-E*D);for(o=x;o<=_;o++)D=n.get(o,v-1),n.set(o,v-1,A*D+E*n.get(o,v)),n.set(o,v,A*n.get(o,v)-E*D)}else r[v-1]=f+E,r[v]=f+E,e[v-1]=D,e[v]=-D;v-=2,I=0}else{if(f=i.get(v,v),d=0,c=0,l<v&&(d=i.get(v-1,v-1),c=i.get(v,v-1)*i.get(v-1,v)),10===I){for(M+=f,o=x;o<=v;o++)i.set(o,o,i.get(o,o)-f);P=Math.abs(i.get(v,v-1))+Math.abs(i.get(v-1,v-2)),f=d=.75*P,c=-.4375*P*P}if(30===I&&(P=(d-f)/2,P=P*P+c,P>0)){for(P=Math.sqrt(P),d<f&&(P=-P),P=f-c/((d-f)/2+P),o=x;o<=v;o++)i.set(o,o,i.get(o,o)-P);M+=P,f=d=c=.964}for(I+=1,h=v-2;h>=l&&(D=i.get(h,h),C=f-D,P=d-D,E=(C*P-c)/i.get(h+1,h)+i.get(h,h+1),A=i.get(h+1,h+1)-D-C-P,C=i.get(h+2,h+1),P=Math.abs(E)+Math.abs(A)+Math.abs(C),E/=P,A/=P,C/=P,h!==l)&&!(Math.abs(i.get(h,h-1))*(Math.abs(A)+Math.abs(C))<k*(Math.abs(E)*(Math.abs(i.get(h-1,h-1))+Math.abs(D)+Math.abs(i.get(h+1,h+1)))));)h--;for(o=h+2;o<=v;o++)i.set(o,o-2,0),o>h+2&&i.set(o,o-3,0);for(s=h;s<=v-1&&(b=s!==v-1,s!==h&&(E=i.get(s,s-1),A=i.get(s+1,s-1),C=b?i.get(s+2,s-1):0,f=Math.abs(E)+Math.abs(A)+Math.abs(C),0!==f&&(E/=f,A/=f,C/=f)),0!==f);s++)if(P=Math.sqrt(E*E+A*A+C*C),E<0&&(P=-P),0!==P){for(s!==h?i.set(s,s-1,-P*f):l!==h&&i.set(s,s-1,-i.get(s,s-1)),E+=P,f=E/P,d=A/P,D=C/P,A/=E,C/=E,a=s;a<t;a++)E=i.get(s,a)+A*i.get(s+1,a),b&&(E+=C*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-E*D)),i.set(s,a,i.get(s,a)-E*f),i.set(s+1,a,i.get(s+1,a)-E*d);for(o=0;o<=Math.min(v,s+3);o++)E=f*i.get(o,s)+d*i.get(o,s+1),b&&(E+=D*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-E*C)),i.set(o,s,i.get(o,s)-E),i.set(o,s+1,i.get(o,s+1)-E*A);for(o=x;o<=_;o++)E=f*n.get(o,s)+d*n.get(o,s+1),b&&(E+=D*n.get(o,s+2),n.set(o,s+2,n.get(o,s+2)-E*C)),n.set(o,s,n.get(o,s)-E),n.set(o,s+1,n.get(o,s+1)-E*A)}}}if(0===S)return;for(v=t-1;v>=0;v--)if(E=r[v],A=e[v],0===A)for(l=v,i.set(v,v,1),o=v-1;o>=0;o--){for(c=i.get(o,o)-E,C=0,a=l;a<=v;a++)C+=i.get(o,a)*i.get(a,v);if(e[o]<0)D=c,P=C;else if(l=o,0===e[o]?i.set(o,v,0!==c?-C/c:-C/(k*S)):(f=i.get(o,o+1),d=i.get(o+1,o),A=(r[o]-E)*(r[o]-E)+e[o]*e[o],u=(f*P-D*C)/A,i.set(o,v,u),i.set(o+1,v,Math.abs(f)>Math.abs(D)?(-C-c*u)/f:(-P-d*u)/D)),u=Math.abs(i.get(o,v)),k*u*u>1)for(a=o;a<=v;a++)i.set(a,v,i.get(a,v)/u)}else if(A<0)for(l=v-1,Math.abs(i.get(v,v-1))>Math.abs(i.get(v-1,v))?(i.set(v-1,v-1,A/i.get(v,v-1)),i.set(v-1,v,-(i.get(v,v)-E)/i.get(v,v-1))):(y=B(0,-i.get(v-1,v),i.get(v-1,v-1)-E,A),i.set(v-1,v-1,y[0]),i.set(v-1,v,y[1])),i.set(v,v-1,0),i.set(v,v,1),o=v-2;o>=0;o--){for(p=0,m=0,a=l;a<=v;a++)p+=i.get(o,a)*i.get(a,v-1),m+=i.get(o,a)*i.get(a,v);if(c=i.get(o,o)-E,e[o]<0)D=c,C=p,P=m;else if(l=o,0===e[o]?(y=B(-p,-m,c,A),i.set(o,v-1,y[0]),i.set(o,v,y[1])):(f=i.get(o,o+1),d=i.get(o+1,o),g=(r[o]-E)*(r[o]-E)+e[o]*e[o]-A*A,w=2*(r[o]-E)*A,0===g&&0===w&&(g=k*S*(Math.abs(c)+Math.abs(A)+Math.abs(f)+Math.abs(d)+Math.abs(D))),y=B(f*C-D*p+A*m,f*P-D*m-A*p,g,w),i.set(o,v-1,y[0]),i.set(o,v,y[1]),Math.abs(f)>Math.abs(D)+Math.abs(A)?(i.set(o+1,v-1,(-p-c*i.get(o,v-1)+A*i.get(o,v))/f),i.set(o+1,v,(-m-c*i.get(o,v)-A*i.get(o,v-1))/f)):(y=B(-C-d*i.get(o,v-1),-P-d*i.get(o,v),D,A),i.set(o+1,v-1,y[0]),i.set(o+1,v,y[1]))),u=Math.max(Math.abs(i.get(o,v-1)),Math.abs(i.get(o,v))),k*u*u>1)for(a=o;a<=v;a++)i.set(a,v-1,i.get(a,v-1)/u),i.set(a,v,i.get(a,v)/u)}for(o=0;o<t;o++)if(o<x||o>_)for(a=o;a<t;a++)n.set(o,a,i.get(o,a));for(a=t-1;a>=x;a--)for(o=x;o<=_;o++){for(D=0,s=x;s<=Math.min(a,_);s++)D+=n.get(o,s)*i.get(s,a);n.set(o,a,D)}}(o,l,s,a,t)}this.n=o,this.e=l,this.d=s,this.V=a}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,r=this.n,n=this.e,i=this.d,o=new _(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)o.set(t,e,0);o.set(t,t,i[t]),n[t]>0?o.set(t,t+1,n[t]):n[t]<0&&o.set(t,t-1,n[t])}return o}}function B(t,e,r,n){let i,o;return Math.abs(r)>Math.abs(n)?(i=n/r,o=r+i*n,[(t+i*e)/o,(e-i*t)/o]):(i=r/n,o=n+i*r,[(i*t+e)/o,(i*e-t)/o])}class F{constructor(t){if(!(t=C.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");let e,r,n,i=t,o=i.rows,a=new _(o,o),s=!0;for(r=0;r<o;r++){let t=0;for(n=0;n<r;n++){let o=0;for(e=0;e<n;e++)o+=a.get(n,e)*a.get(r,e);o=(i.get(r,n)-o)/a.get(n,n),a.set(r,n,o),t+=o*o}for(t=i.get(r,r)-t,s&=t>0,a.set(r,r,Math.sqrt(Math.max(t,0))),n=r+1;n<o;n++)a.set(r,n,0)}this.L=a,this.positiveDefinite=Boolean(s)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=C.checkMatrix(t);let e=this.L,r=e.rows;if(t.rows!==r)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let n,i,o,a=t.columns,s=t.clone();for(o=0;o<r;o++)for(i=0;i<a;i++){for(n=0;n<o;n++)s.set(o,i,s.get(o,i)-s.get(n,i)*e.get(o,n));s.set(o,i,s.get(o,i)/e.get(o,o))}for(o=r-1;o>=0;o--)for(i=0;i<a;i++){for(n=o+1;n<r;n++)s.set(o,i,s.get(o,i)-s.get(n,i)*e.get(n,o));s.set(o,i,s.get(o,i)/e.get(o,o))}return s}get lowerTriangularMatrix(){return this.L}}class U{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=C.checkMatrix(t);let{Y:r}=e;const{scaleScores:i=!1,maxIterations:o=1e3,terminationCriteria:a=1e-10}=e;let s;if(r){if(r=n.isAnyArray(r)&&"number"===typeof r[0]?_.columnVector(r):C.checkMatrix(r),r.rows!==t.rows)throw new Error("Y should have the same number of rows as X");s=r.getColumnVector(0)}else s=t.getColumnVector(0);let l,h,u,c,f=1;for(let n=0;n<o&&f>a;n++)u=t.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),u=u.div(u.norm()),l=t.mmul(u).div(u.transpose().mmul(u).get(0,0)),n>0&&(f=l.clone().sub(c).pow(2).sum()),c=l.clone(),r?(h=r.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),h=h.div(h.norm()),s=r.mmul(h).div(h.transpose().mmul(h).get(0,0))):s=l;if(r){let e=t.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0));e=e.div(e.norm());let n=t.clone().sub(l.clone().mmul(e.transpose())),i=s.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),o=r.clone().sub(l.clone().mulS(i.get(0,0)).mmul(h.transpose()));this.t=l,this.p=e.transpose(),this.w=u.transpose(),this.q=h,this.u=s,this.s=l.transpose().mmul(l),this.xResidual=n,this.yResidual=o,this.betas=i}else this.w=u.transpose(),this.s=l.transpose().mmul(l).sqrt(),this.t=i?l.clone().div(this.s.get(0,0)):l,this.xResidual=t.sub(l.mmul(u.transpose()))}}e.AbstractMatrix=v,e.CHO=F,e.CholeskyDecomposition=F,e.DistanceMatrix=M,e.EVD=z,e.EigenvalueDecomposition=z,e.LU=P,e.LuDecomposition=P,e.Matrix=_,e.MatrixColumnSelectionView=class extends S{constructor(t,e){m(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}},e.MatrixColumnView=class extends S{constructor(t,e){c(t,e),super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}},e.MatrixFlipColumnView=class extends S{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}},e.MatrixFlipRowView=class extends S{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}},e.MatrixRowSelectionView=class extends S{constructor(t,e){p(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}},e.MatrixRowView=class extends S{constructor(t,e){u(t,e),super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}},e.MatrixSelectionView=E,e.MatrixSubView=class extends S{constructor(t,e,r,n,i){g(t,e,r,n,i),super(t,r-e+1,i-n+1),this.startRow=e,this.startColumn=n}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}},e.MatrixTransposeView=class extends S{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}},e.NIPALS=U,e.Nipals=U,e.QR=I,e.QrDecomposition=I,e.SVD=T,e.SingularValueDecomposition=T,e.SymmetricMatrix=k,e.WrapperMatrix1D=A,e.WrapperMatrix2D=C,e.correlation=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=new _(t);let i=!1;if("object"!==typeof e||_.isMatrix(e)||n.isAnyArray(e)?e=new _(e):(r=e,e=t,i=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0,scale:a=!0}=r;o&&(t.center("column"),i||e.center("column")),a&&(t.scale("column"),i||e.scale("column"));const s=t.standardDeviation("column",{unbiased:!0}),l=i?s:e.standardDeviation("column",{unbiased:!0}),h=t.transpose().mmul(e);for(let n=0;n<h.rows;n++)for(let e=0;e<h.columns;e++)h.set(n,e,h.get(n,e)*(1/(s[n]*l[e]))*(1/(t.rows-1)));return h},e.covariance=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=new _(t);let i=!1;if("object"!==typeof e||_.isMatrix(e)||n.isAnyArray(e)?e=new _(e):(r=e,e=t,i=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0}=r;o&&(t=t.center("column"),i||(e=e.center("column")));const a=t.transpose().mmul(e);for(let n=0;n<a.rows;n++)for(let e=0;e<a.columns;e++)a.set(n,e,a.get(n,e)*(1/(t.rows-1)));return a},e.default=_,e.determinant=function t(e){if((e=_.checkMatrix(e)).isSquare()){if(0===e.columns)return 1;let r,n,i,o;if(2===e.columns)return r=e.get(0,0),n=e.get(0,1),i=e.get(1,0),o=e.get(1,1),r*o-n*i;if(3===e.columns){let o,a,s;return o=new E(e,[1,2],[1,2]),a=new E(e,[1,2],[0,2]),s=new E(e,[1,2],[0,1]),r=e.get(0,0),n=e.get(0,1),i=e.get(0,2),r*t(o)-n*t(a)+i*t(s)}return new P(e).determinant}throw Error("determinant can only be calculated for a square matrix")},e.inverse=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=C.checkMatrix(t),e?new T(t).inverse():R(t,_.eye(t.rows))},e.linearDependencies=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{thresholdValue:r=1e-9,thresholdError:n=1e-9}=e;let i=(t=_.checkMatrix(t)).rows,o=new _(i,i);for(let a=0;a<i;a++){let e=_.columnVector(t.getRow(a)),s=t.subMatrixRow(N(i,a)).transpose(),l=new T(s).solve(e),h=_.sub(e,s.mmul(l)).abs().max();o.setRow(a,L(h,l,a,r,n))}return o},e.pseudoInverse=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;if((t=_.checkMatrix(t)).isEmpty())return t.transpose();let r=new T(t,{autoTranspose:!0}),n=r.leftSingularVectors,i=r.rightSingularVectors,o=r.diagonal;for(let a=0;a<o.length;a++)Math.abs(o[a])>e?o[a]=1/o[a]:o[a]=0;return i.mmul(_.diag(o).mmul(n.transpose()))},e.solve=R,e.wrap=function(t,e){if(n.isAnyArray(t))return t[0]&&n.isAnyArray(t[0])?new C(t):new A(t,e);throw new Error("the argument is not an array")}},5198:t=>{t.exports=function(t,e){t=t||0;for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r}},3122:t=>{t.exports=function(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}},2730:(t,e,r)=>{"use strict";var n=r(5043),i=r(8853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){h(t,e),h(t+"Capture",e)}function h(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(t,e,r,n,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var w=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function y(t,e,r,n){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,r,n){if(null===e||"undefined"===typeof e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,i,n)&&(r=null),n||null===i?function(t){return!!c.call(p,t)||!c.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=null===r?3!==i.type&&"":r:(e=i.attributeName,n=i.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(w,b);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(w,b);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(w,b);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function L(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=N&&t[N]||t["@@iterator"])?t:null}var z,B=Object.assign;function F(t){if(void 0===z)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);z=e&&e[1]||""}return"\n"+z+t}var U=!1;function O(t,e){if(!t||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&"string"===typeof h.stack){for(var i=h.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?F(t):""}function V(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=O(t.type,!1);case 11:return t=O(t.type.render,!1);case 1:return t=O(t.type,!0);default:return""}}function j(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case _:return"Portal";case S:return"Profiler";case M:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case A:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case C:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case I:return null!==(e=t.displayName||null)?e:j(t.type)||"Memo";case T:e=t._payload,t=t._init;try{return j(t(e))}catch(r){}}return null}function Y(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(e);case 8:return e===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function X(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function $(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=$(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){n=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function H(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=$(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function G(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function W(t,e){var r=e.checked;return B({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function K(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=X(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Z(t,e){null!=(e=e.checked)&&y(t,"checked",e,!1)}function Q(t,e){Z(t,e);var r=X(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,r):e.hasOwnProperty("defaultValue")&&tt(t,e.type,X(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function tt(t,e,r){"number"===e&&G(t.ownerDocument)===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var et=Array.isArray;function rt(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+X(r),e=null,i=0;i<t.length;i++){if(t[i].value===r)return t[i].selected=!0,void(n&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return B({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(o(92));if(et(r)){if(1<r.length)throw Error(o(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:X(r)}}function ot(t,e){var r=X(e.value),n=X(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ht,ut,ct=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ht=ht||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ht.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function ft(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,r){return null==e||"boolean"===typeof e||""===e?"":r||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function gt(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=mt(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var wt=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(t,e){if(e){if(wt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function yt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var _t=null,kt=null,Mt=null;function St(t){if(t=yi(t)){if("function"!==typeof _t)throw Error(o(280));var e=t.stateNode;e&&(e=xi(e),_t(t.stateNode,t.type,e))}}function Et(t){kt?Mt?Mt.push(t):Mt=[t]:kt=t}function At(){if(kt){var t=kt,e=Mt;if(Mt=kt=null,St(t),e)for(t=0;t<e.length;t++)St(e[t])}}function Ct(t,e){return t(e)}function Pt(){}var Dt=!1;function It(t,e,r){if(Dt)return t(e,r);Dt=!0;try{return Ct(t,e,r)}finally{Dt=!1,(null!==kt||null!==Mt)&&(Pt(),At())}}function Tt(t,e){var r=t.stateNode;if(null===r)return null;var n=xi(r);if(null===n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!==typeof r)throw Error(o(231,e,typeof r));return r}var Rt=!1;if(u)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch(ut){Rt=!1}function Lt(t,e,r,n,i,o,a,s,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(u){this.onError(u)}}var zt=!1,Bt=null,Ft=!1,Ut=null,Ot={onError:function(t){zt=!0,Bt=t}};function Vt(t,e,r,n,i,o,a,s,l){zt=!1,Bt=null,Lt.apply(Ot,arguments)}function jt(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function Yt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Xt(t){if(jt(t)!==t)throw Error(o(188))}function $t(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=jt(t)))throw Error(o(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Xt(i),t;if(a===n)return Xt(i),e;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Ht=i.unstable_scheduleCallback,Gt=i.unstable_cancelCallback,Wt=i.unstable_shouldYield,Kt=i.unstable_requestPaint,Zt=i.unstable_now,Qt=i.unstable_getCurrentPriorityLevel,Jt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,re=i.unstable_LowPriority,ne=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var he=64,ue=4194304;function ce(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var r=t.pendingLanes;if(0===r)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&r;if(0!==a){var s=a&~i;0!==s?n=ce(s):0!==(o&=a)&&(n=ce(o))}else 0!==(a=r&~i)?n=ce(a):0!==o&&(n=ce(o));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&i)&&((i=n&-n)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&n)&&(n|=16&r),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)i=1<<(r=31-ae(e)),n|=t[r],e&=~i;return n}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=he;return 0===(4194240&(he<<=1))&&(he=64),t}function ge(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function we(t,e,r){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=r}function be(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ae(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ye=0;function ve(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,_e,ke,Me,Se,Ee=!1,Ae=[],Ce=null,Pe=null,De=null,Ie=new Map,Te=new Map,Re=[],Ne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Le(t,e){switch(t){case"focusin":case"focusout":Ce=null;break;case"dragenter":case"dragleave":Pe=null;break;case"mouseover":case"mouseout":De=null;break;case"pointerover":case"pointerout":Ie.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(e.pointerId)}}function ze(t,e,r,n,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=yi(e))&&_e(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Be(t){var e=bi(t.target);if(null!==e){var r=jt(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=Yt(r)))return t.blockedOn=e,void Se(t.priority,(function(){ke(r)}))}else if(3===e&&r.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function Fe(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var r=We(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==r)return null!==(e=yi(r))&&_e(e),t.blockedOn=r,!1;var n=new(r=t.nativeEvent).constructor(r.type,r);vt=n,r.target.dispatchEvent(n),vt=null,e.shift()}return!0}function Ue(t,e,r){Fe(t)&&r.delete(e)}function Oe(){Ee=!1,null!==Ce&&Fe(Ce)&&(Ce=null),null!==Pe&&Fe(Pe)&&(Pe=null),null!==De&&Fe(De)&&(De=null),Ie.forEach(Ue),Te.forEach(Ue)}function Ve(t,e){t.blockedOn===e&&(t.blockedOn=null,Ee||(Ee=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Oe)))}function je(t){function e(e){return Ve(e,t)}if(0<Ae.length){Ve(Ae[0],t);for(var r=1;r<Ae.length;r++){var n=Ae[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Ce&&Ve(Ce,t),null!==Pe&&Ve(Pe,t),null!==De&&Ve(De,t),Ie.forEach(e),Te.forEach(e),r=0;r<Re.length;r++)(n=Re[r]).blockedOn===t&&(n.blockedOn=null);for(;0<Re.length&&null===(r=Re[0]).blockedOn;)Be(r),null===r.blockedOn&&Re.shift()}var Ye=v.ReactCurrentBatchConfig,Xe=!0;function $e(t,e,r,n){var i=ye,o=Ye.transition;Ye.transition=null;try{ye=1,He(t,e,r,n)}finally{ye=i,Ye.transition=o}}function qe(t,e,r,n){var i=ye,o=Ye.transition;Ye.transition=null;try{ye=4,He(t,e,r,n)}finally{ye=i,Ye.transition=o}}function He(t,e,r,n){if(Xe){var i=We(t,e,r,n);if(null===i)Xn(t,e,n,Ge,r),Le(t,n);else if(function(t,e,r,n,i){switch(e){case"focusin":return Ce=ze(Ce,t,e,r,n,i),!0;case"dragenter":return Pe=ze(Pe,t,e,r,n,i),!0;case"mouseover":return De=ze(De,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Ie.set(o,ze(Ie.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Te.set(o,ze(Te.get(o)||null,t,e,r,n,i)),!0}return!1}(i,t,e,r,n))n.stopPropagation();else if(Le(t,n),4&e&&-1<Ne.indexOf(t)){for(;null!==i;){var o=yi(i);if(null!==o&&xe(o),null===(o=We(t,e,r,n))&&Xn(t,e,n,Ge,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else Xn(t,e,n,null,r)}}var Ge=null;function We(t,e,r,n){if(Ge=null,null!==(t=bi(t=xt(n))))if(null===(e=jt(t)))t=null;else if(13===(r=e.tag)){if(null!==(t=Yt(e)))return t;t=null}else if(3===r){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ge=t,null}function Ke(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case Jt:return 1;case te:return 4;case ee:case re:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Ze=null,Qe=null,Je=null;function tr(){if(Je)return Je;var t,e,r=Qe,n=r.length,i="value"in Ze?Ze.value:Ze.textContent,o=i.length;for(t=0;t<n&&r[t]===i[t];t++);var a=n-t;for(e=1;e<=a&&r[n-e]===i[o-e];e++);return Je=i.slice(t,1<e?1-e:void 0)}function er(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rr(){return!0}function nr(){return!1}function ir(t){function e(e,r,n,i,o){for(var a in this._reactName=e,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return B(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),e}var or,ar,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=ir(lr),ur=B({},lr,{view:0,detail:0}),cr=ir(ur),fr=B({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sr&&(sr&&"mousemove"===t.type?(or=t.screenX-sr.screenX,ar=t.screenY-sr.screenY):ar=or=0,sr=t),or)},movementY:function(t){return"movementY"in t?t.movementY:ar}}),dr=ir(fr),pr=ir(B({},fr,{dataTransfer:0})),mr=ir(B({},ur,{relatedTarget:0})),gr=ir(B({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),wr=B({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),br=ir(wr),yr=ir(B({},lr,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=_r[t])&&!!e[t]}function Mr(){return kr}var Sr=B({},ur,{key:function(t){if(t.key){var e=vr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=er(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(t){return"keypress"===t.type?er(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?er(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Er=ir(Sr),Ar=ir(B({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cr=ir(B({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr})),Pr=ir(B({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dr=B({},fr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ir=ir(Dr),Tr=[9,13,27,32],Rr=u&&"CompositionEvent"in window,Nr=null;u&&"documentMode"in document&&(Nr=document.documentMode);var Lr=u&&"TextEvent"in window&&!Nr,zr=u&&(!Rr||Nr&&8<Nr&&11>=Nr),Br=String.fromCharCode(32),Fr=!1;function Ur(t,e){switch(t){case"keyup":return-1!==Tr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Or(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vr=!1;var jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!jr[t.type]:"textarea"===e}function Xr(t,e,r,n){Et(n),0<(e=qn(e,"onChange")).length&&(r=new hr("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var $r=null,qr=null;function Hr(t){Fn(t,0)}function Gr(t){if(H(vi(t)))return t}function Wr(t,e){if("change"===t)return e}var Kr=!1;if(u){var Zr;if(u){var Qr="oninput"in document;if(!Qr){var Jr=document.createElement("div");Jr.setAttribute("oninput","return;"),Qr="function"===typeof Jr.oninput}Zr=Qr}else Zr=!1;Kr=Zr&&(!document.documentMode||9<document.documentMode)}function tn(){$r&&($r.detachEvent("onpropertychange",en),qr=$r=null)}function en(t){if("value"===t.propertyName&&Gr(qr)){var e=[];Xr(e,qr,t,xt(t)),It(Hr,e)}}function rn(t,e,r){"focusin"===t?(tn(),qr=r,($r=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function nn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Gr(qr)}function on(t,e){if("click"===t)return Gr(e)}function an(t,e){if("input"===t||"change"===t)return Gr(e)}var sn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ln(t,e){if(sn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!c.call(e,i)||!sn(t[i],e[i]))return!1}return!0}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function un(t,e){var r,n=hn(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=hn(n)}}function cn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?cn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fn(){for(var t=window,e=G();e instanceof t.HTMLIFrameElement;){try{var r="string"===typeof e.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=G((t=e.contentWindow).document)}return e}function dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pn(t){var e=fn(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&cn(r.ownerDocument.documentElement,r)){if(null!==n&&dn(r))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if((t=(e=r.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=un(r,o);var a=un(r,n);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=r;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<e.length;r++)(t=e[r]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mn=u&&"documentMode"in document&&11>=document.documentMode,gn=null,wn=null,bn=null,yn=!1;function vn(t,e,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;yn||null==gn||gn!==G(n)||("selectionStart"in(n=gn)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&ln(bn,n)||(bn=n,0<(n=qn(wn,"onSelect")).length&&(e=new hr("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=gn)))}function xn(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var _n={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionend:xn("Transition","TransitionEnd")},kn={},Mn={};function Sn(t){if(kn[t])return kn[t];if(!_n[t])return t;var e,r=_n[t];for(e in r)if(r.hasOwnProperty(e)&&e in Mn)return kn[t]=r[e];return t}u&&(Mn=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);var En=Sn("animationend"),An=Sn("animationiteration"),Cn=Sn("animationstart"),Pn=Sn("transitionend"),Dn=new Map,In="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(t,e){Dn.set(t,e),l(e,[t])}for(var Rn=0;Rn<In.length;Rn++){var Nn=In[Rn];Tn(Nn.toLowerCase(),"on"+(Nn[0].toUpperCase()+Nn.slice(1)))}Tn(En,"onAnimationEnd"),Tn(An,"onAnimationIteration"),Tn(Cn,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Pn,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function Bn(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,function(t,e,r,n,i,a,s,l,h){if(Vt.apply(this,arguments),zt){if(!zt)throw Error(o(198));var u=Bt;zt=!1,Bt=null,Ft||(Ft=!0,Ut=u)}}(n,e,void 0,t),t.currentTarget=null}function Fn(t,e){e=0!==(4&e);for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;t:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,h=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Bn(i,s,h),o=l}else for(a=0;a<n.length;a++){if(l=(s=n[a]).instance,h=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Bn(i,s,h),o=l}}}if(Ft)throw t=Ut,Ft=!1,Ut=null,t}function Un(t,e){var r=e[mi];void 0===r&&(r=e[mi]=new Set);var n=t+"__bubble";r.has(n)||(Yn(e,t,2,!1),r.add(n))}function On(t,e,r){var n=0;e&&(n|=4),Yn(r,t,n,e)}var Vn="_reactListening"+Math.random().toString(36).slice(2);function jn(t){if(!t[Vn]){t[Vn]=!0,a.forEach((function(e){"selectionchange"!==e&&(zn.has(e)||On(e,!1,t),On(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Vn]||(e[Vn]=!0,On("selectionchange",!1,e))}}function Yn(t,e,r,n){switch(Ke(e)){case 1:var i=$e;break;case 4:i=qe;break;default:i=He}r=i.bind(null,e,r,t),i=void 0,!Rt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),n?void 0!==i?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):void 0!==i?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Xn(t,e,r,n,i){var o=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=bi(s)))return;if(5===(l=a.tag)||6===l){n=o=a;continue t}s=s.parentNode}}n=n.return}It((function(){var n=o,i=xt(r),a=[];t:{var s=Dn.get(t);if(void 0!==s){var l=hr,h=t;switch(t){case"keypress":if(0===er(r))break t;case"keydown":case"keyup":l=Er;break;case"focusin":h="focus",l=mr;break;case"focusout":h="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cr;break;case En:case An:case Cn:l=gr;break;case Pn:l=Pr;break;case"scroll":l=cr;break;case"wheel":l=Ir;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ar}var u=0!==(4&e),c=!u&&"scroll"===t,f=u?null!==s?s+"Capture":null:s;u=[];for(var d,p=n;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=Tt(p,f))&&u.push($n(p,m,d)))),c)break;p=p.return}0<u.length&&(s=new l(s,h,null,r,i),a.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||r===vt||!(h=r.relatedTarget||r.fromElement)||!bi(h)&&!h[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(h=(h=r.relatedTarget||r.toElement)?bi(h):null)&&(h!==(c=jt(h))||5!==h.tag&&6!==h.tag)&&(h=null)):(l=null,h=n),l!==h)){if(u=dr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Ar,m="onPointerLeave",f="onPointerEnter",p="pointer"),c=null==l?s:vi(l),d=null==h?s:vi(h),(s=new u(m,p+"leave",l,r,i)).target=c,s.relatedTarget=d,m=null,bi(i)===n&&((u=new u(f,p+"enter",h,r,i)).target=d,u.relatedTarget=c,m=u),c=m,l&&h)t:{for(f=h,p=0,d=u=l;d;d=Hn(d))p++;for(d=0,m=f;m;m=Hn(m))d++;for(;0<p-d;)u=Hn(u),p--;for(;0<d-p;)f=Hn(f),d--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break t;u=Hn(u),f=Hn(f)}u=null}else u=null;null!==l&&Gn(a,s,l,u,!1),null!==h&&null!==c&&Gn(a,c,h,u,!0)}if("select"===(l=(s=n?vi(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Wr;else if(Yr(s))if(Kr)g=an;else{g=nn;var w=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=on);switch(g&&(g=g(t,n))?Xr(a,g,r,i):(w&&w(t,s,n),"focusout"===t&&(w=s._wrapperState)&&w.controlled&&"number"===s.type&&tt(s,"number",s.value)),w=n?vi(n):window,t){case"focusin":(Yr(w)||"true"===w.contentEditable)&&(gn=w,wn=n,bn=null);break;case"focusout":bn=wn=gn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,vn(a,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":vn(a,r,i)}var b;if(Rr)t:{switch(t){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Vr?Ur(t,r)&&(y="onCompositionEnd"):"keydown"===t&&229===r.keyCode&&(y="onCompositionStart");y&&(zr&&"ko"!==r.locale&&(Vr||"onCompositionStart"!==y?"onCompositionEnd"===y&&Vr&&(b=tr()):(Qe="value"in(Ze=i)?Ze.value:Ze.textContent,Vr=!0)),0<(w=qn(n,y)).length&&(y=new yr(y,t,null,r,i),a.push({event:y,listeners:w}),b?y.data=b:null!==(b=Or(r))&&(y.data=b))),(b=Lr?function(t,e){switch(t){case"compositionend":return Or(e);case"keypress":return 32!==e.which?null:(Fr=!0,Br);case"textInput":return(t=e.data)===Br&&Fr?null:t;default:return null}}(t,r):function(t,e){if(Vr)return"compositionend"===t||!Rr&&Ur(t,e)?(t=tr(),Je=Qe=Ze=null,Vr=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zr&&"ko"!==e.locale?null:e.data}}(t,r))&&(0<(n=qn(n,"onBeforeInput")).length&&(i=new yr("onBeforeInput","beforeinput",null,r,i),a.push({event:i,listeners:n}),i.data=b))}Fn(a,e)}))}function $n(t,e,r){return{instance:t,listener:e,currentTarget:r}}function qn(t,e){for(var r=e+"Capture",n=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Tt(t,r))&&n.unshift($n(t,o,i)),null!=(o=Tt(t,e))&&n.push($n(t,o,i))),t=t.return}return n}function Hn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Gn(t,e,r,n,i){for(var o=e._reactName,a=[];null!==r&&r!==n;){var s=r,l=s.alternate,h=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==h&&(s=h,i?null!=(l=Tt(r,o))&&a.unshift($n(r,l,s)):i||null!=(l=Tt(r,o))&&a.push($n(r,l,s))),r=r.return}0!==a.length&&t.push({event:e,listeners:a})}var Wn=/\r\n?/g,Kn=/\u0000|\uFFFD/g;function Zn(t){return("string"===typeof t?t:""+t).replace(Wn,"\n").replace(Kn,"")}function Qn(t,e,r){if(e=Zn(e),Zn(t)!==e&&r)throw Error(o(425))}function Jn(){}var ti=null,ei=null;function ri(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ni;function si(t){setTimeout((function(){throw t}))}function li(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return t.removeChild(i),void je(e);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);je(e)}function hi(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ui(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||"$!"===r||"$?"===r){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var ci=Math.random().toString(36).slice(2),fi="__reactFiber$"+ci,di="__reactProps$"+ci,pi="__reactContainer$"+ci,mi="__reactEvents$"+ci,gi="__reactListeners$"+ci,wi="__reactHandles$"+ci;function bi(t){var e=t[fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pi]||r[fi]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=ui(t);null!==t;){if(r=t[fi])return r;t=ui(t)}return e}r=(t=r).parentNode}return null}function yi(t){return!(t=t[fi]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function vi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function xi(t){return t[di]||null}var _i=[],ki=-1;function Mi(t){return{current:t}}function Si(t){0>ki||(t.current=_i[ki],_i[ki]=null,ki--)}function Ei(t,e){ki++,_i[ki]=t.current,t.current=e}var Ai={},Ci=Mi(Ai),Pi=Mi(!1),Di=Ai;function Ii(t,e){var r=t.type.contextTypes;if(!r)return Ai;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=e[i];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ti(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ri(){Si(Pi),Si(Ci)}function Ni(t,e,r){if(Ci.current!==Ai)throw Error(o(168));Ei(Ci,e),Ei(Pi,r)}function Li(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(o(108,Y(t)||"Unknown",i));return B({},r,n)}function zi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ai,Di=Ci.current,Ei(Ci,t),Ei(Pi,Pi.current),!0}function Bi(t,e,r){var n=t.stateNode;if(!n)throw Error(o(169));r?(t=Li(t,e,Di),n.__reactInternalMemoizedMergedChildContext=t,Si(Pi),Si(Ci),Ei(Ci,t)):Si(Pi),Ei(Pi,r)}var Fi=null,Ui=!1,Oi=!1;function Vi(t){null===Fi?Fi=[t]:Fi.push(t)}function ji(){if(!Oi&&null!==Fi){Oi=!0;var t=0,e=ye;try{var r=Fi;for(ye=1;t<r.length;t++){var n=r[t];do{n=n(!0)}while(null!==n)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(t+1)),Ht(Jt,ji),i}finally{ye=e,Oi=!1}}return null}var Yi=[],Xi=0,$i=null,qi=0,Hi=[],Gi=0,Wi=null,Ki=1,Zi="";function Qi(t,e){Yi[Xi++]=qi,Yi[Xi++]=$i,$i=t,qi=e}function Ji(t,e,r){Hi[Gi++]=Ki,Hi[Gi++]=Zi,Hi[Gi++]=Wi,Wi=t;var n=Ki;t=Zi;var i=32-ae(n)-1;n&=~(1<<i),r+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ki=1<<32-ae(e)+i|r<<i|n,Zi=o+t}else Ki=1<<o|r<<i|n,Zi=t}function to(t){null!==t.return&&(Qi(t,1),Ji(t,1,0))}function eo(t){for(;t===$i;)$i=Yi[--Xi],Yi[Xi]=null,qi=Yi[--Xi],Yi[Xi]=null;for(;t===Wi;)Wi=Hi[--Gi],Hi[Gi]=null,Zi=Hi[--Gi],Hi[Gi]=null,Ki=Hi[--Gi],Hi[Gi]=null}var ro=null,no=null,io=!1,oo=null;function ao(t,e){var r=Ih(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,null===(e=t.deletions)?(t.deletions=[r],t.flags|=16):e.push(r)}function so(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ro=t,no=hi(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ro=t,no=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(r=null!==Wi?{id:Ki,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},(r=Ih(18,null,null,0)).stateNode=e,r.return=t,t.child=r,ro=t,no=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function ho(t){if(io){var e=no;if(e){var r=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=hi(r.nextSibling);var n=ro;e&&so(t,e)?ao(n,r):(t.flags=-4097&t.flags|2,io=!1,ro=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,ro=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ro=t}function co(t){if(t!==ro)return!1;if(!io)return uo(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ri(t.type,t.memoizedProps)),e&&(e=no)){if(lo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=hi(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){no=hi(t.nextSibling);break t}e--}else"$"!==r&&"$!"!==r&&"$?"!==r||e++}t=t.nextSibling}no=null}}else no=ro?hi(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=no;t;)t=hi(t.nextSibling)}function po(){no=ro=null,io=!1}function mo(t){null===oo?oo=[t]:oo.push(t)}var go=v.ReactCurrentBatchConfig;function wo(t,e,r){if(null!==(t=r.ref)&&"function"!==typeof t&&"object"!==typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,t));var i=n,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!r._owner)throw Error(o(290,t))}return t}function bo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yo(t){return(0,t._init)(t._payload)}function vo(t){function e(e,r){if(t){var n=e.deletions;null===n?(e.deletions=[r],e.flags|=16):n.push(r)}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Rh(t,e)).index=0,t.sibling=null,t}function a(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.flags|=2,r):n:(e.flags|=2,r):(e.flags|=1048576,r)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,r,n){return null===e||6!==e.tag?((e=Bh(r,t.mode,n)).return=t,e):((e=i(e,r)).return=t,e)}function h(t,e,r,n){var o=r.type;return o===k?c(t,e,r.props.children,n,r.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&yo(o)===e.type)?((n=i(e,r.props)).ref=wo(t,e,r),n.return=t,n):((n=Nh(r.type,r.key,r.props,null,t.mode,n)).ref=wo(t,e,r),n.return=t,n)}function u(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=Fh(r,t.mode,n)).return=t,e):((e=i(e,r.children||[])).return=t,e)}function c(t,e,r,n,o){return null===e||7!==e.tag?((e=Lh(r,t.mode,n,o)).return=t,e):((e=i(e,r)).return=t,e)}function f(t,e,r){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Bh(""+e,t.mode,r)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(r=Nh(e.type,e.key,e.props,null,t.mode,r)).ref=wo(t,null,e),r.return=t,r;case _:return(e=Fh(e,t.mode,r)).return=t,e;case T:return f(t,(0,e._init)(e._payload),r)}if(et(e)||L(e))return(e=Lh(e,t.mode,r,null)).return=t,e;bo(t,e)}return null}function d(t,e,r,n){var i=null!==e?e.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:l(t,e,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return r.key===i?h(t,e,r,n):null;case _:return r.key===i?u(t,e,r,n):null;case T:return d(t,e,(i=r._init)(r._payload),n)}if(et(r)||L(r))return null!==i?null:c(t,e,r,n,null);bo(t,r)}return null}function p(t,e,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return l(e,t=t.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return h(e,t=t.get(null===n.key?r:n.key)||null,n,i);case _:return u(e,t=t.get(null===n.key?r:n.key)||null,n,i);case T:return p(t,e,r,(0,n._init)(n._payload),i)}if(et(n)||L(n))return c(e,t=t.get(r)||null,n,i,null);bo(e,n)}return null}function m(i,o,s,l){for(var h=null,u=null,c=o,m=o=0,g=null;null!==c&&m<s.length;m++){c.index>m?(g=c,c=null):g=c.sibling;var w=d(i,c,s[m],l);if(null===w){null===c&&(c=g);break}t&&c&&null===w.alternate&&e(i,c),o=a(w,o,m),null===u?h=w:u.sibling=w,u=w,c=g}if(m===s.length)return r(i,c),io&&Qi(i,m),h;if(null===c){for(;m<s.length;m++)null!==(c=f(i,s[m],l))&&(o=a(c,o,m),null===u?h=c:u.sibling=c,u=c);return io&&Qi(i,m),h}for(c=n(i,c);m<s.length;m++)null!==(g=p(c,i,m,s[m],l))&&(t&&null!==g.alternate&&c.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?h=g:u.sibling=g,u=g);return t&&c.forEach((function(t){return e(i,t)})),io&&Qi(i,m),h}function g(i,s,l,h){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var c=u=null,m=s,g=s=0,w=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(w=m,m=null):w=m.sibling;var y=d(i,m,b.value,h);if(null===y){null===m&&(m=w);break}t&&m&&null===y.alternate&&e(i,m),s=a(y,s,g),null===c?u=y:c.sibling=y,c=y,m=w}if(b.done)return r(i,m),io&&Qi(i,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=f(i,b.value,h))&&(s=a(b,s,g),null===c?u=b:c.sibling=b,c=b);return io&&Qi(i,g),u}for(m=n(i,m);!b.done;g++,b=l.next())null!==(b=p(m,i,g,b.value,h))&&(t&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=a(b,s,g),null===c?u=b:c.sibling=b,c=b);return t&&m.forEach((function(t){return e(i,t)})),io&&Qi(i,g),u}return function t(n,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:t:{for(var h=a.key,u=o;null!==u;){if(u.key===h){if((h=a.type)===k){if(7===u.tag){r(n,u.sibling),(o=i(u,a.props.children)).return=n,n=o;break t}}else if(u.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===T&&yo(h)===u.type){r(n,u.sibling),(o=i(u,a.props)).ref=wo(n,u,a),o.return=n,n=o;break t}r(n,u);break}e(n,u),u=u.sibling}a.type===k?((o=Lh(a.props.children,n.mode,l,a.key)).return=n,n=o):((l=Nh(a.type,a.key,a.props,null,n.mode,l)).ref=wo(n,o,a),l.return=n,n=l)}return s(n);case _:t:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){r(n,o.sibling),(o=i(o,a.children||[])).return=n,n=o;break t}r(n,o);break}e(n,o),o=o.sibling}(o=Fh(a,n.mode,l)).return=n,n=o}return s(n);case T:return t(n,o,(u=a._init)(a._payload),l)}if(et(a))return m(n,o,a,l);if(L(a))return g(n,o,a,l);bo(n,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(r(n,o.sibling),(o=i(o,a)).return=n,n=o):(r(n,o),(o=Bh(a,n.mode,l)).return=n,n=o),s(n)):r(n,o)}}var xo=vo(!0),_o=vo(!1),ko=Mi(null),Mo=null,So=null,Eo=null;function Ao(){Eo=So=Mo=null}function Co(t){var e=ko.current;Si(ko),t._currentValue=e}function Po(t,e,r){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Do(t,e){Mo=t,Eo=So=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ys=!0),t.firstContext=null)}function Io(t){var e=t._currentValue;if(Eo!==t)if(t={context:t,memoizedValue:e,next:null},null===So){if(null===Mo)throw Error(o(308));So=t,Mo.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var To=null;function Ro(t){null===To?To=[t]:To.push(t)}function No(t,e,r,n){var i=e.interleaved;return null===i?(r.next=r,Ro(e)):(r.next=i.next,i.next=r),e.interleaved=r,Lo(t,n)}function Lo(t,e){t.lanes|=e;var r=t.alternate;for(null!==r&&(r.lanes|=e),r=t,t=t.return;null!==t;)t.childLanes|=e,null!==(r=t.alternate)&&(r.childLanes|=e),r=t,t=t.return;return 3===r.tag?r.stateNode:null}var zo=!1;function Bo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Oo(t,e,r){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Cl)){var i=n.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Lo(t,r)}return null===(i=n.interleaved)?(e.next=e,Ro(n)):(e.next=i.next,i.next=e),n.interleaved=e,Lo(t,r)}function Vo(t,e,r){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&r))){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,be(t,r)}}function jo(t,e){var r=t.updateQueue,n=t.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?i=o=e:o=o.next=e}else i=o=e;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(t.updateQueue=r)}null===(t=r.lastBaseUpdate)?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Yo(t,e,r,n){var i=t.updateQueue;zo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,h=l.next;l.next=null,null===a?o=h:a.next=h,a=l;var u=t.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=h:s.next=h,u.lastBaseUpdate=l))}if(null!==o){var c=i.baseState;for(a=0,u=h=l=null,s=o;;){var f=s.lane,d=s.eventTime;if((n&f)===f){null!==u&&(u=u.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,m=s;switch(f=e,d=r,m.tag){case 1:if("function"===typeof(p=m.payload)){c=p.call(d,c,f);break t}c=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(d,c,f):p)||void 0===f)break t;c=B({},c,f);break t;case 2:zo=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(h=u=d,l=c):u=u.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(l=c),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);zl|=a,t.lanes=a,t.memoizedState=c}}function Xo(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(o(191,i));i.call(n)}}}var $o={},qo=Mi($o),Ho=Mi($o),Go=Mi($o);function Wo(t){if(t===$o)throw Error(o(174));return t}function Ko(t,e){switch(Ei(Go,e),Ei(Ho,t),Ei(qo,$o),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Si(qo),Ei(qo,e)}function Zo(){Si(qo),Si(Ho),Si(Go)}function Qo(t){Wo(Go.current);var e=Wo(qo.current),r=lt(e,t.type);e!==r&&(Ei(Ho,t),Ei(qo,r))}function Jo(t){Ho.current===t&&(Si(qo),Si(Ho))}var ta=Mi(0);function ea(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ra=[];function na(){for(var t=0;t<ra.length;t++)ra[t]._workInProgressVersionPrimary=null;ra.length=0}var ia=v.ReactCurrentDispatcher,oa=v.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ha=null,ua=!1,ca=!1,fa=0,da=0;function pa(){throw Error(o(321))}function ma(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!sn(t[r],e[r]))return!1;return!0}function ga(t,e,r,n,i,a){if(aa=a,sa=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ia.current=null===t||null===t.memoizedState?Ja:ts,t=r(n,i),ca){a=0;do{if(ca=!1,fa=0,25<=a)throw Error(o(301));a+=1,ha=la=null,e.updateQueue=null,ia.current=es,t=r(n,i)}while(ca)}if(ia.current=Qa,e=null!==la&&null!==la.next,aa=0,ha=la=sa=null,ua=!1,e)throw Error(o(300));return t}function wa(){var t=0!==fa;return fa=0,t}function ba(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ha?sa.memoizedState=ha=t:ha=ha.next=t,ha}function ya(){if(null===la){var t=sa.alternate;t=null!==t?t.memoizedState:null}else t=la.next;var e=null===ha?sa.memoizedState:ha.next;if(null!==e)ha=e,la=t;else{if(null===t)throw Error(o(310));t={memoizedState:(la=t).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ha?sa.memoizedState=ha=t:ha=ha.next=t}return ha}function va(t,e){return"function"===typeof e?e(t):e}function xa(t){var e=ya(),r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=t;var n=la,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(null!==i){a=i.next,n=n.baseState;var l=s=null,h=null,u=a;do{var c=u.lane;if((aa&c)===c)null!==h&&(h=h.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===h?(l=h=f,s=n):h=h.next=f,sa.lanes|=c,zl|=c}u=u.next}while(null!==u&&u!==a);null===h?s=n:h.next=l,sn(n,e.memoizedState)||(ys=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=h,r.lastRenderedState=n}if(null!==(t=r.interleaved)){i=t;do{a=i.lane,sa.lanes|=a,zl|=a,i=i.next}while(i!==t)}else null===i&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function _a(t){var e=ya(),r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sn(a,e.memoizedState)||(ys=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function ka(){}function Ma(t,e){var r=sa,n=ya(),i=e(),a=!sn(n.memoizedState,i);if(a&&(n.memoizedState=i,ys=!0),n=n.queue,za(Aa.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||null!==ha&&1&ha.memoizedState.tag){if(r.flags|=2048,Ia(9,Ea.bind(null,r,n,i,e),void 0,null),null===Pl)throw Error(o(349));0!==(30&aa)||Sa(r,e,i)}return i}function Sa(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.stores=[t]):null===(r=e.stores)?e.stores=[t]:r.push(t)}function Ea(t,e,r,n){e.value=r,e.getSnapshot=n,Ca(e)&&Pa(t)}function Aa(t,e,r){return r((function(){Ca(e)&&Pa(t)}))}function Ca(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!sn(t,r)}catch(n){return!0}}function Pa(t){var e=Lo(t,1);null!==e&&rh(e,t,1,-1)}function Da(t){var e=ba();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:t},e.queue=t,t=t.dispatch=Ga.bind(null,sa,t),[e.memoizedState,t]}function Ia(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function Ta(){return ya().memoizedState}function Ra(t,e,r,n){var i=ba();sa.flags|=t,i.memoizedState=Ia(1|e,r,void 0,void 0===n?null:n)}function Na(t,e,r,n){var i=ya();n=void 0===n?null:n;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==n&&ma(n,a.deps))return void(i.memoizedState=Ia(e,r,o,n))}sa.flags|=t,i.memoizedState=Ia(1|e,r,o,n)}function La(t,e){return Ra(8390656,8,t,e)}function za(t,e){return Na(2048,8,t,e)}function Ba(t,e){return Na(4,2,t,e)}function Fa(t,e){return Na(4,4,t,e)}function Ua(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Oa(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,Na(4,4,Ua.bind(null,e,t),r)}function Va(){}function ja(t,e){var r=ya();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&ma(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ya(t,e){var r=ya();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&ma(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Xa(t,e,r){return 0===(21&aa)?(t.baseState&&(t.baseState=!1,ys=!0),t.memoizedState=r):(sn(r,e)||(r=me(),sa.lanes|=r,zl|=r,t.baseState=!0),e)}function $a(t,e){var r=ye;ye=0!==r&&4>r?r:4,t(!0);var n=oa.transition;oa.transition={};try{t(!1),e()}finally{ye=r,oa.transition=n}}function qa(){return ya().memoizedState}function Ha(t,e,r){var n=eh(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wa(t))Ka(e,r);else if(null!==(r=No(t,e,r,n))){rh(r,t,n,th()),Za(r,e,n)}}function Ga(t,e,r){var n=eh(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wa(t))Ka(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,sn(s,a)){var l=e.interleaved;return null===l?(i.next=i,Ro(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(h){}null!==(r=No(t,e,i,n))&&(rh(r,t,n,i=th()),Za(r,e,n))}}function Wa(t){var e=t.alternate;return t===sa||null!==e&&e===sa}function Ka(t,e){ca=ua=!0;var r=t.pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Za(t,e,r){if(0!==(4194240&r)){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,be(t,r)}}var Qa={readContext:Io,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:Io,useCallback:function(t,e){return ba().memoizedState=[t,void 0===e?null:e],t},useContext:Io,useEffect:La,useImperativeHandle:function(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,Ra(4194308,4,Ua.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ra(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ra(4,2,t,e)},useMemo:function(t,e){var r=ba();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ba();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Ha.bind(null,sa,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},ba().memoizedState=t},useState:Da,useDebugValue:Va,useDeferredValue:function(t){return ba().memoizedState=t},useTransition:function(){var t=Da(!1),e=t[0];return t=$a.bind(null,t[1]),ba().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=sa,i=ba();if(io){if(void 0===r)throw Error(o(407));r=r()}else{if(r=e(),null===Pl)throw Error(o(349));0!==(30&aa)||Sa(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,La(Aa.bind(null,n,a,t),[t]),n.flags|=2048,Ia(9,Ea.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ba(),e=Pl.identifierPrefix;if(io){var r=Zi;e=":"+e+"R"+(r=(Ki&~(1<<32-ae(Ki)-1)).toString(32)+r),0<(r=fa++)&&(e+="H"+r.toString(32)),e+=":"}else e=":"+e+"r"+(r=da++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ts={readContext:Io,useCallback:ja,useContext:Io,useEffect:za,useImperativeHandle:Oa,useInsertionEffect:Ba,useLayoutEffect:Fa,useMemo:Ya,useReducer:xa,useRef:Ta,useState:function(){return xa(va)},useDebugValue:Va,useDeferredValue:function(t){return Xa(ya(),la.memoizedState,t)},useTransition:function(){return[xa(va)[0],ya().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ma,useId:qa,unstable_isNewReconciler:!1},es={readContext:Io,useCallback:ja,useContext:Io,useEffect:za,useImperativeHandle:Oa,useInsertionEffect:Ba,useLayoutEffect:Fa,useMemo:Ya,useReducer:_a,useRef:Ta,useState:function(){return _a(va)},useDebugValue:Va,useDeferredValue:function(t){var e=ya();return null===la?e.memoizedState=t:Xa(e,la.memoizedState,t)},useTransition:function(){return[_a(va)[0],ya().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ma,useId:qa,unstable_isNewReconciler:!1};function rs(t,e){if(t&&t.defaultProps){for(var r in e=B({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}return e}function ns(t,e,r,n){r=null===(r=r(n,e=t.memoizedState))||void 0===r?e:B({},e,r),t.memoizedState=r,0===t.lanes&&(t.updateQueue.baseState=r)}var is={isMounted:function(t){return!!(t=t._reactInternals)&&jt(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=th(),i=eh(t),o=Uo(n,i);o.payload=e,void 0!==r&&null!==r&&(o.callback=r),null!==(e=Oo(t,o,i))&&(rh(e,t,i,n),Vo(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=th(),i=eh(t),o=Uo(n,i);o.tag=1,o.payload=e,void 0!==r&&null!==r&&(o.callback=r),null!==(e=Oo(t,o,i))&&(rh(e,t,i,n),Vo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=th(),n=eh(t),i=Uo(r,n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Oo(t,i,n))&&(rh(e,t,n,r),Vo(e,t,n))}};function os(t,e,r,n,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ln(r,n)||!ln(i,o))}function as(t,e,r){var n=!1,i=Ai,o=e.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Ti(e)?Di:Ci.current,o=(n=null!==(n=e.contextTypes)&&void 0!==n)?Ii(t,i):Ai),e=new e(r,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=is,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ss(t,e,r,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&is.enqueueReplaceState(e,e.state,null)}function ls(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Bo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Ti(e)?Di:Ci.current,i.context=Ii(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(ns(t,e,o,r),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&is.enqueueReplaceState(i,i.state,null),Yo(t,r,i,n),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function hs(t,e){try{var r="",n=e;do{r+=V(n),n=n.return}while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function us(t,e,r){return{value:t,source:null,stack:null!=r?r:null,digest:null!=e?e:null}}function cs(t,e){try{console.error(e.value)}catch(r){setTimeout((function(){throw r}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ds(t,e,r){(r=Uo(-1,r)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Xl||(Xl=!0,$l=n),cs(0,e)},r}function ps(t,e,r){(r=Uo(-1,r)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){cs(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){cs(0,e),"function"!==typeof n&&(null===ql?ql=new Set([this]):ql.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),r}function ms(t,e,r){var n=t.pingCache;if(null===n){n=t.pingCache=new fs;var i=new Set;n.set(e,i)}else void 0===(i=n.get(e))&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Sh.bind(null,t,e,r),e.then(t,t))}function gs(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ws(t,e,r,n,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((e=Uo(-1,1)).tag=2,Oo(r,e,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var bs=v.ReactCurrentOwner,ys=!1;function vs(t,e,r,n){e.child=null===t?_o(e,null,r,n):xo(e,t.child,r,n)}function xs(t,e,r,n,i){r=r.render;var o=e.ref;return Do(e,i),n=ga(t,e,r,n,o,i),r=wa(),null===t||ys?(io&&r&&to(e),e.flags|=1,vs(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i))}function _s(t,e,r,n,i){if(null===t){var o=r.type;return"function"!==typeof o||Th(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Nh(r.type,null,n,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,ks(t,e,o,n,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(a,n)&&t.ref===e.ref)return Xs(t,e,i)}return e.flags|=1,(t=Rh(o,n)).ref=e.ref,t.return=e,e.child=t}function ks(t,e,r,n,i){if(null!==t){var o=t.memoizedProps;if(ln(o,n)&&t.ref===e.ref){if(ys=!1,e.pendingProps=n=o,0===(t.lanes&i))return e.lanes=t.lanes,Xs(t,e,i);0!==(131072&t.flags)&&(ys=!0)}}return Es(t,e,r,n,i)}function Ms(t,e,r){var n=e.pendingProps,i=n.children,o=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Rl,Tl),Tl|=r;else{if(0===(1073741824&r))return t=null!==o?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ei(Rl,Tl),Tl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:r,Ei(Rl,Tl),Tl|=n}else null!==o?(n=o.baseLanes|r,e.memoizedState=null):n=r,Ei(Rl,Tl),Tl|=n;return vs(t,e,i,r),e.child}function Ss(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Es(t,e,r,n,i){var o=Ti(r)?Di:Ci.current;return o=Ii(e,o),Do(e,i),r=ga(t,e,r,n,o,i),n=wa(),null===t||ys?(io&&n&&to(e),e.flags|=1,vs(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i))}function As(t,e,r,n,i){if(Ti(r)){var o=!0;zi(e)}else o=!1;if(Do(e,i),null===e.stateNode)Ys(t,e),as(e,r,n),ls(e,r,n,i),n=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,h=r.contextType;"object"===typeof h&&null!==h?h=Io(h):h=Ii(e,h=Ti(r)?Di:Ci.current);var u=r.getDerivedStateFromProps,c="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==h)&&ss(e,a,n,h),zo=!1;var f=e.memoizedState;a.state=f,Yo(e,n,a,i),l=e.memoizedState,s!==n||f!==l||Pi.current||zo?("function"===typeof u&&(ns(e,r,u,n),l=e.memoizedState),(s=zo||os(e,r,s,n,f,l,h))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=h,n=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Fo(t,e),s=e.memoizedProps,h=e.type===e.elementType?s:rs(e.type,s),a.props=h,c=e.pendingProps,f=a.context,"object"===typeof(l=r.contextType)&&null!==l?l=Io(l):l=Ii(e,l=Ti(r)?Di:Ci.current);var d=r.getDerivedStateFromProps;(u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==c||f!==l)&&ss(e,a,n,l),zo=!1,f=e.memoizedState,a.state=f,Yo(e,n,a,i);var p=e.memoizedState;s!==c||f!==p||Pi.current||zo?("function"===typeof d&&(ns(e,r,d,n),p=e.memoizedState),(h=zo||os(e,r,h,n,f,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=l,n=h):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Cs(t,e,r,n,o,i)}function Cs(t,e,r,n,i,o){Ss(t,e);var a=0!==(128&e.flags);if(!n&&!a)return i&&Bi(e,r,!1),Xs(t,e,o);n=e.stateNode,bs.current=e;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&a?(e.child=xo(e,t.child,null,o),e.child=xo(e,null,s,o)):vs(t,e,s,o),e.memoizedState=n.state,i&&Bi(e,r,!0),e.child}function Ps(t){var e=t.stateNode;e.pendingContext?Ni(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ni(0,e.context,!1),Ko(t,e.containerInfo)}function Ds(t,e,r,n,i){return po(),mo(i),e.flags|=256,vs(t,e,r,n),e.child}var Is,Ts,Rs,Ns,Ls={dehydrated:null,treeContext:null,retryLane:0};function zs(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bs(t,e,r){var n,i=e.pendingProps,a=ta.current,s=!1,l=0!==(128&e.flags);if((n=l)||(n=(null===t||null!==t.memoizedState)&&0!==(2&a)),n?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Ei(ta,1&a),null===t)return ho(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=zh(l,i,0,null),t=Lh(t,i,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=zs(r),e.memoizedState=Ls,t):Fs(e,l));if(null!==(a=t.memoizedState)&&null!==(n=a.dehydrated))return function(t,e,r,n,i,a,s){if(r)return 256&e.flags?(e.flags&=-257,Us(t,e,s,n=us(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=zh({mode:"visible",children:n.children},i,0,null),(a=Lh(a,i,s,null)).flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,0!==(1&e.mode)&&xo(e,t.child,null,s),e.child.memoizedState=zs(s),e.memoizedState=Ls,a);if(0===(1&e.mode))return Us(t,e,s,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var l=n.dgst;return n=l,Us(t,e,s,n=us(a=Error(o(419)),n,void 0))}if(l=0!==(s&t.childLanes),ys||l){if(null!==(n=Pl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(t,i),rh(n,t,i,-1))}return mh(),Us(t,e,s,n=us(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Ah.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,no=hi(i.nextSibling),ro=e,io=!0,oo=null,null!==t&&(Hi[Gi++]=Ki,Hi[Gi++]=Zi,Hi[Gi++]=Wi,Ki=t.id,Zi=t.overflow,Wi=e),e=Fs(e,n.children),e.flags|=4096,e)}(t,e,l,i,n,a,r);if(s){s=i.fallback,l=e.mode,n=(a=t.child).sibling;var h={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=h,e.deletions=null):(i=Rh(a,h)).subtreeFlags=14680064&a.subtreeFlags,null!==n?s=Rh(n,s):(s=Lh(s,l,r,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=null===(l=t.child.memoizedState)?zs(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~r,e.memoizedState=Ls,i}return t=(s=t.child).sibling,i=Rh(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=r),i.return=e,i.sibling=null,null!==t&&(null===(r=e.deletions)?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function Fs(t,e){return(e=zh({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Us(t,e,r,n){return null!==n&&mo(n),xo(e,t.child,null,r),(t=Fs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Os(t,e,r){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Po(t.return,e,r)}function Vs(t,e,r,n,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function js(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(vs(t,e,n.children,r),0!==(2&(n=ta.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Os(t,r,e);else if(19===t.tag)Os(t,r,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ei(ta,n),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;null!==r;)null!==(t=r.alternate)&&null===ea(t)&&(i=r),r=r.sibling;null===(r=i)?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Vs(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ea(t)){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Vs(e,!0,r,null,o);break;case"together":Vs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ys(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xs(t,e,r){if(null!==t&&(e.dependencies=t.dependencies),zl|=e.lanes,0===(r&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(r=Rh(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Rh(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function $s(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qs(t){var e=null!==t.alternate&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Hs(t,e,r){var n=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(e),null;case 1:case 17:return Ti(e.type)&&Ri(),qs(e),null;case 3:return n=e.stateNode,Zo(),Si(Pi),Si(Ci),na(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(co(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(ah(oo),oo=null))),Ts(t,e),qs(e),null;case 5:Jo(e);var i=Wo(Go.current);if(r=e.type,null!==t&&null!=e.stateNode)Rs(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(o(166));return qs(e),null}if(t=Wo(qo.current),co(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[fi]=e,n[di]=a,t=0!==(1&e.mode),r){case"dialog":Un("cancel",n),Un("close",n);break;case"iframe":case"object":case"embed":Un("load",n);break;case"video":case"audio":for(i=0;i<Ln.length;i++)Un(Ln[i],n);break;case"source":Un("error",n);break;case"img":case"image":case"link":Un("error",n),Un("load",n);break;case"details":Un("toggle",n);break;case"input":K(n,a),Un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Un("invalid",n);break;case"textarea":it(n,a),Un("invalid",n)}for(var l in bt(r,a),i=null,a)if(a.hasOwnProperty(l)){var h=a[l];"children"===l?"string"===typeof h?n.textContent!==h&&(!0!==a.suppressHydrationWarning&&Qn(n.textContent,h,t),i=["children",h]):"number"===typeof h&&n.textContent!==""+h&&(!0!==a.suppressHydrationWarning&&Qn(n.textContent,h,t),i=["children",""+h]):s.hasOwnProperty(l)&&null!=h&&"onScroll"===l&&Un("scroll",n)}switch(r){case"input":q(n),J(n,a,!0);break;case"textarea":q(n),at(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=Jn)}n=i,e.updateQueue=n,null!==n&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(r)),"http://www.w3.org/1999/xhtml"===t?"script"===r?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),"select"===r&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[fi]=e,t[di]=n,Is(t,e,!1,!1),e.stateNode=t;t:{switch(l=yt(r,n),r){case"dialog":Un("cancel",t),Un("close",t),i=n;break;case"iframe":case"object":case"embed":Un("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ln.length;i++)Un(Ln[i],t);i=n;break;case"source":Un("error",t),i=n;break;case"img":case"image":case"link":Un("error",t),Un("load",t),i=n;break;case"details":Un("toggle",t),i=n;break;case"input":K(t,n),i=W(t,n),Un("invalid",t);break;case"option":default:i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=B({},n,{value:void 0}),Un("invalid",t);break;case"textarea":it(t,n),i=nt(t,n),Un("invalid",t)}for(a in bt(r,i),h=i)if(h.hasOwnProperty(a)){var u=h[a];"style"===a?gt(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ct(t,u):"children"===a?"string"===typeof u?("textarea"!==r||""!==u)&&ft(t,u):"number"===typeof u&&ft(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Un("scroll",t):null!=u&&y(t,a,u,l))}switch(r){case"input":q(t),J(t,n,!1);break;case"textarea":q(t),at(t);break;case"option":null!=n.value&&t.setAttribute("value",""+X(n.value));break;case"select":t.multiple=!!n.multiple,null!=(a=n.value)?rt(t,!!n.multiple,a,!1):null!=n.defaultValue&&rt(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Jn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return qs(e),null;case 6:if(t&&null!=e.stateNode)Ns(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));if(r=Wo(Go.current),Wo(qo.current),co(e)){if(n=e.stateNode,r=e.memoizedProps,n[fi]=e,(a=n.nodeValue!==r)&&null!==(t=ro))switch(t.tag){case 3:Qn(n.nodeValue,r,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Qn(n.nodeValue,r,0!==(1&t.mode))}a&&(e.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[fi]=e,e.stateNode=n}return qs(e),null;case 13:if(Si(ta),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==no&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=co(e),null!==n&&null!==n.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;qs(e),a=!1}else null!==oo&&(ah(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=r,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ta.current)?0===Nl&&(Nl=3):mh())),null!==e.updateQueue&&(e.flags|=4),qs(e),null);case 4:return Zo(),Ts(t,e),null===t&&jn(e.stateNode.containerInfo),qs(e),null;case 10:return Co(e.type._context),qs(e),null;case 19:if(Si(ta),null===(a=e.memoizedState))return qs(e),null;if(n=0!==(128&e.flags),null===(l=a.rendering))if(n)$s(a,!1);else{if(0!==Nl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ea(t))){for(e.flags|=128,$s(a,!1),null!==(n=l.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;null!==r;)t=n,(a=r).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ei(ta,1&ta.current|2),e.child}t=t.sibling}null!==a.tail&&Zt()>jl&&(e.flags|=128,n=!0,$s(a,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=ea(l))){if(e.flags|=128,n=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.flags|=4),$s(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return qs(e),null}else 2*Zt()-a.renderingStartTime>jl&&1073741824!==r&&(e.flags|=128,n=!0,$s(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(r=a.last)?r.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Zt(),e.sibling=null,r=ta.current,Ei(ta,n?1&r|2:1&r),e):(qs(e),null);case 22:case 23:return ch(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&Tl)&&(qs(e),6&e.subtreeFlags&&(e.flags|=8192)):qs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Gs(t,e){switch(eo(e),e.tag){case 1:return Ti(e.type)&&Ri(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Zo(),Si(Pi),Si(Ci),na(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Jo(e),null;case 13:if(Si(ta),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Si(ta),null;case 4:return Zo(),null;case 10:return Co(e.type._context),null;case 22:case 23:return ch(),null;default:return null}}Is=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ts=function(){},Rs=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Wo(qo.current);var o,a=null;switch(r){case"input":i=W(t,i),n=W(t,n),a=[];break;case"select":i=B({},i,{value:void 0}),n=B({},n,{value:void 0}),a=[];break;case"textarea":i=nt(t,i),n=nt(t,n),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(t.onclick=Jn)}for(u in bt(r,n),r=null,i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var h=n[u];if(l=null!=i?i[u]:void 0,n.hasOwnProperty(u)&&h!==l&&(null!=h||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in h)h.hasOwnProperty(o)&&l[o]!==h[o]&&(r||(r={}),r[o]=h[o])}else r||(a||(a=[]),a.push(u,r)),r=h;else"dangerouslySetInnerHTML"===u?(h=h?h.__html:void 0,l=l?l.__html:void 0,null!=h&&l!==h&&(a=a||[]).push(u,h)):"children"===u?"string"!==typeof h&&"number"!==typeof h||(a=a||[]).push(u,""+h):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=h&&"onScroll"===u&&Un("scroll",t),a||l===h||(a=[])):(a=a||[]).push(u,h))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},Ns=function(t,e,r,n){r!==n&&(e.flags|=4)};var Ws=!1,Ks=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(t,e){var r=t.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Mh(t,e,n)}else r.current=null}function tl(t,e,r){try{r()}catch(n){Mh(t,e,n)}}var el=!1;function rl(t,e,r){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(e,r,o)}i=i.next}while(i!==n)}}function nl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function il(t){var e=t.ref;if(null!==e){var r=t.stateNode;t.tag,t=r,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fi],delete e[di],delete e[mi],delete e[gi],delete e[wi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function sl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===r.nodeType?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(8===r.nodeType?(e=r.parentNode).insertBefore(t,r):(e=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==e.onclick||(e.onclick=Jn));else if(4!==n&&null!==(t=t.child))for(ll(t,e,r),t=t.sibling;null!==t;)ll(t,e,r),t=t.sibling}function hl(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(4!==n&&null!==(t=t.child))for(hl(t,e,r),t=t.sibling;null!==t;)hl(t,e,r),t=t.sibling}var ul=null,cl=!1;function fl(t,e,r){for(r=r.child;null!==r;)dl(t,e,r),r=r.sibling}function dl(t,e,r){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,r)}catch(s){}switch(r.tag){case 5:Ks||Js(r,e);case 6:var n=ul,i=cl;ul=null,fl(t,e,r),cl=i,null!==(ul=n)&&(cl?(t=ul,r=r.stateNode,8===t.nodeType?t.parentNode.removeChild(r):t.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(cl?(t=ul,r=r.stateNode,8===t.nodeType?li(t.parentNode,r):1===t.nodeType&&li(t,r),je(t)):li(ul,r.stateNode));break;case 4:n=ul,i=cl,ul=r.stateNode.containerInfo,cl=!0,fl(t,e,r),ul=n,cl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(r,e,a),i=i.next}while(i!==n)}fl(t,e,r);break;case 1:if(!Ks&&(Js(r,e),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Mh(r,e,s)}fl(t,e,r);break;case 21:fl(t,e,r);break;case 22:1&r.mode?(Ks=(n=Ks)||null!==r.memoizedState,fl(t,e,r),Ks=n):fl(t,e,r);break;default:fl(t,e,r)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new Zs),e.forEach((function(e){var n=Ch.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}function ml(t,e){var r=e.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,cl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,cl=!0;break t}l=l.return}if(null===ul)throw Error(o(160));dl(a,s,i),ul=null,cl=!1;var h=i.alternate;null!==h&&(h.return=null),i.return=null}catch(u){Mh(i,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)gl(e,t),e=e.sibling}function gl(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),wl(t),4&n){try{rl(3,t,t.return),nl(3,t)}catch(g){Mh(t,t.return,g)}try{rl(5,t,t.return)}catch(g){Mh(t,t.return,g)}}break;case 1:ml(e,t),wl(t),512&n&&null!==r&&Js(r,r.return);break;case 5:if(ml(e,t),wl(t),512&n&&null!==r&&Js(r,r.return),32&t.flags){var i=t.stateNode;try{ft(i,"")}catch(g){Mh(t,t.return,g)}}if(4&n&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==r?r.memoizedProps:a,l=t.type,h=t.updateQueue;if(t.updateQueue=null,null!==h)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(i,a),yt(l,s);var u=yt(l,a);for(s=0;s<h.length;s+=2){var c=h[s],f=h[s+1];"style"===c?gt(i,f):"dangerouslySetInnerHTML"===c?ct(i,f):"children"===c?ft(i,f):y(i,c,f,u)}switch(l){case"input":Q(i,a);break;case"textarea":ot(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?rt(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?rt(i,!!a.multiple,a.defaultValue,!0):rt(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(g){Mh(t,t.return,g)}}break;case 6:if(ml(e,t),wl(t),4&n){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Mh(t,t.return,g)}}break;case 3:if(ml(e,t),wl(t),4&n&&null!==r&&r.memoizedState.isDehydrated)try{je(e.containerInfo)}catch(g){Mh(t,t.return,g)}break;case 4:default:ml(e,t),wl(t);break;case 13:ml(e,t),wl(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Zt())),4&n&&pl(t);break;case 22:if(c=null!==r&&null!==r.memoizedState,1&t.mode?(Ks=(u=Ks)||c,ml(e,t),Ks=u):ml(e,t),wl(t),8192&n){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!c&&0!==(1&t.mode))for(Qs=t,c=t.child;null!==c;){for(f=Qs=c;null!==Qs;){switch(p=(d=Qs).child,d.tag){case 0:case 11:case 14:case 15:rl(4,d,d.return);break;case 1:Js(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){n=d,r=d.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Mh(n,r,g)}}break;case 5:Js(d,d.return);break;case 22:if(null!==d.memoizedState){xl(f);continue}}null!==p?(p.return=d,Qs=p):xl(f)}c=c.sibling}t:for(c=null,f=t;;){if(5===f.tag){if(null===c){c=f;try{i=f.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,s=void 0!==(h=f.memoizedProps.style)&&null!==h&&h.hasOwnProperty("display")?h.display:null,l.style.display=mt("display",s))}catch(g){Mh(t,t.return,g)}}}else if(6===f.tag){if(null===c)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Mh(t,t.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(e,t),wl(t),4&n&&pl(t);case 21:}}function wl(t){var e=t.flags;if(2&e){try{t:{for(var r=t.return;null!==r;){if(al(r)){var n=r;break t}r=r.return}throw Error(o(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(ft(i,""),n.flags&=-33),hl(t,sl(t),i);break;case 3:case 4:var a=n.stateNode.containerInfo;ll(t,sl(t),a);break;default:throw Error(o(161))}}catch(s){Mh(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function bl(t,e,r){Qs=t,yl(t,e,r)}function yl(t,e,r){for(var n=0!==(1&t.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&n){var a=null!==i.memoizedState||Ws;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Ws;var h=Ks;if(Ws=a,(Ks=l)&&!h)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Qs=l):_l(i);for(;null!==o;)Qs=o,yl(o,e,r),o=o.sibling;Qs=i,Ws=s,Ks=h}vl(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):vl(t)}}function vl(t){for(;null!==Qs;){var e=Qs;if(0!==(8772&e.flags)){var r=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ks||nl(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!Ks)if(null===r)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:rs(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Xo(e,a,n);break;case 3:var s=e.updateQueue;if(null!==s){if(r=null,null!==e.child)switch(e.child.tag){case 5:case 1:r=e.child.stateNode}Xo(e,s,r)}break;case 5:var l=e.stateNode;if(null===r&&4&e.flags){r=l;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&je(f)}}}break;default:throw Error(o(163))}Ks||512&e.flags&&il(e)}catch(d){Mh(e,e.return,d)}}if(e===t){Qs=null;break}if(null!==(r=e.sibling)){r.return=e.return,Qs=r;break}Qs=e.return}}function xl(t){for(;null!==Qs;){var e=Qs;if(e===t){Qs=null;break}var r=e.sibling;if(null!==r){r.return=e.return,Qs=r;break}Qs=e.return}}function _l(t){for(;null!==Qs;){var e=Qs;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{nl(4,e)}catch(l){Mh(e,r,l)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var i=e.return;try{n.componentDidMount()}catch(l){Mh(e,i,l)}}var o=e.return;try{il(e)}catch(l){Mh(e,o,l)}break;case 5:var a=e.return;try{il(e)}catch(l){Mh(e,a,l)}}}catch(l){Mh(e,e.return,l)}if(e===t){Qs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Qs=s;break}Qs=e.return}}var kl,Ml=Math.ceil,Sl=v.ReactCurrentDispatcher,El=v.ReactCurrentOwner,Al=v.ReactCurrentBatchConfig,Cl=0,Pl=null,Dl=null,Il=0,Tl=0,Rl=Mi(0),Nl=0,Ll=null,zl=0,Bl=0,Fl=0,Ul=null,Ol=null,Vl=0,jl=1/0,Yl=null,Xl=!1,$l=null,ql=null,Hl=!1,Gl=null,Wl=0,Kl=0,Zl=null,Ql=-1,Jl=0;function th(){return 0!==(6&Cl)?Zt():-1!==Ql?Ql:Ql=Zt()}function eh(t){return 0===(1&t.mode)?1:0!==(2&Cl)&&0!==Il?Il&-Il:null!==go.transition?(0===Jl&&(Jl=me()),Jl):0!==(t=ye)?t:t=void 0===(t=window.event)?16:Ke(t.type)}function rh(t,e,r,n){if(50<Kl)throw Kl=0,Zl=null,Error(o(185));we(t,r,n),0!==(2&Cl)&&t===Pl||(t===Pl&&(0===(2&Cl)&&(Bl|=r),4===Nl&&sh(t,Il)),nh(t,n),1===r&&0===Cl&&0===(1&e.mode)&&(jl=Zt()+500,Ui&&ji()))}function nh(t,e){var r=t.callbackNode;!function(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,l=i[a];-1===l?0!==(s&r)&&0===(s&n)||(i[a]=de(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var n=fe(t,t===Pl?Il:0);if(0===n)null!==r&&Gt(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=r&&Gt(r),1===e)0===t.tag?function(t){Ui=!0,Vi(t)}(lh.bind(null,t)):Vi(lh.bind(null,t)),ai((function(){0===(6&Cl)&&ji()})),r=null;else{switch(ve(n)){case 1:r=Jt;break;case 4:r=te;break;case 16:default:r=ee;break;case 536870912:r=ne}r=Ph(r,ih.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ih(t,e){if(Ql=-1,Jl=0,0!==(6&Cl))throw Error(o(327));var r=t.callbackNode;if(_h()&&t.callbackNode!==r)return null;var n=fe(t,t===Pl?Il:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=gh(t,n);else{e=n;var i=Cl;Cl|=2;var a=ph();for(Pl===t&&Il===e||(Yl=null,jl=Zt()+500,fh(t,e));;)try{bh();break}catch(l){dh(t,l)}Ao(),Sl.current=a,Cl=i,null!==Dl?e=0:(Pl=null,Il=0,e=Nl)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(n=i,e=oh(t,i))),1===e)throw r=Ll,fh(t,0),sh(t,n),nh(t,Zt()),r;if(6===e)sh(t,n);else{if(i=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var r=e.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!sn(o(),i))return!1}catch(s){return!1}}}if(r=e.child,16384&e.subtreeFlags&&null!==r)r.return=e,e=r;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=gh(t,n))&&(0!==(a=pe(t))&&(n=a,e=oh(t,a))),1===e))throw r=Ll,fh(t,0),sh(t,n),nh(t,Zt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(o(345));case 2:case 5:xh(t,Ol,Yl);break;case 3:if(sh(t,n),(130023424&n)===n&&10<(e=Vl+500-Zt())){if(0!==fe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){th(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ni(xh.bind(null,t,Ol,Yl),e);break}xh(t,Ol,Yl);break;case 4:if(sh(t,n),(4194240&n)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-ae(n);a=1<<s,(s=e[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Zt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ml(n/1960))-n)){t.timeoutHandle=ni(xh.bind(null,t,Ol,Yl),n);break}xh(t,Ol,Yl);break;default:throw Error(o(329))}}}return nh(t,Zt()),t.callbackNode===r?ih.bind(null,t):null}function oh(t,e){var r=Ul;return t.current.memoizedState.isDehydrated&&(fh(t,e).flags|=256),2!==(t=gh(t,e))&&(e=Ol,Ol=r,null!==e&&ah(e)),t}function ah(t){null===Ol?Ol=t:Ol.push.apply(Ol,t)}function sh(t,e){for(e&=~Fl,e&=~Bl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ae(e),n=1<<r;t[r]=-1,e&=~n}}function lh(t){if(0!==(6&Cl))throw Error(o(327));_h();var e=fe(t,0);if(0===(1&e))return nh(t,Zt()),null;var r=gh(t,e);if(0!==t.tag&&2===r){var n=pe(t);0!==n&&(e=n,r=oh(t,n))}if(1===r)throw r=Ll,fh(t,0),sh(t,e),nh(t,Zt()),r;if(6===r)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xh(t,Ol,Yl),nh(t,Zt()),null}function hh(t,e){var r=Cl;Cl|=1;try{return t(e)}finally{0===(Cl=r)&&(jl=Zt()+500,Ui&&ji())}}function uh(t){null!==Gl&&0===Gl.tag&&0===(6&Cl)&&_h();var e=Cl;Cl|=1;var r=Al.transition,n=ye;try{if(Al.transition=null,ye=1,t)return t()}finally{ye=n,Al.transition=r,0===(6&(Cl=e))&&ji()}}function ch(){Tl=Rl.current,Si(Rl)}function fh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,ii(r)),null!==Dl)for(r=Dl.return;null!==r;){var n=r;switch(eo(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ri();break;case 3:Zo(),Si(Pi),Si(Ci),na();break;case 5:Jo(n);break;case 4:Zo();break;case 13:case 19:Si(ta);break;case 10:Co(n.type._context);break;case 22:case 23:ch()}r=r.return}if(Pl=t,Dl=t=Rh(t.current,null),Il=Tl=e,Nl=0,Ll=null,Fl=Bl=zl=0,Ol=Ul=null,null!==To){for(e=0;e<To.length;e++)if(null!==(n=(r=To[e]).interleaved)){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var a=o.next;o.next=i,n.next=a}r.pending=n}To=null}return t}function dh(t,e){for(;;){var r=Dl;try{if(Ao(),ia.current=Qa,ua){for(var n=sa.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}ua=!1}if(aa=0,ha=la=sa=null,ca=!1,fa=0,El.current=null,null===r||null===r.return){Nl=1,Ll=e,Dl=null;break}t:{var a=t,s=r.return,l=r,h=e;if(e=Il,l.flags|=32768,null!==h&&"object"===typeof h&&"function"===typeof h.then){var u=h,c=l,f=c.tag;if(0===(1&c.mode)&&(0===f||11===f||15===f)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ws(p,s,l,0,e),1&p.mode&&ms(a,u,e),h=u;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(h),e.updateQueue=g}else m.add(h);break t}if(0===(1&e)){ms(a,u,e),mh();break t}h=Error(o(426))}else if(io&&1&l.mode){var w=gs(s);if(null!==w){0===(65536&w.flags)&&(w.flags|=256),ws(w,s,l,0,e),mo(hs(h,l));break t}}a=h=hs(h,l),4!==Nl&&(Nl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,jo(a,ds(0,h,e));break t;case 1:l=h;var b=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===ql||!ql.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e,jo(a,ps(a,l,e));break t}}a=a.return}while(null!==a)}vh(r)}catch(v){e=v,Dl===r&&null!==r&&(Dl=r=r.return);continue}break}}function ph(){var t=Sl.current;return Sl.current=Qa,null===t?Qa:t}function mh(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Pl||0===(268435455&zl)&&0===(268435455&Bl)||sh(Pl,Il)}function gh(t,e){var r=Cl;Cl|=2;var n=ph();for(Pl===t&&Il===e||(Yl=null,fh(t,e));;)try{wh();break}catch(i){dh(t,i)}if(Ao(),Cl=r,Sl.current=n,null!==Dl)throw Error(o(261));return Pl=null,Il=0,Nl}function wh(){for(;null!==Dl;)yh(Dl)}function bh(){for(;null!==Dl&&!Wt();)yh(Dl)}function yh(t){var e=kl(t.alternate,t,Tl);t.memoizedProps=t.pendingProps,null===e?vh(t):Dl=e,El.current=null}function vh(t){var e=t;do{var r=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(r=Hs(r,e,Tl)))return void(Dl=r)}else{if(null!==(r=Gs(r,e)))return r.flags&=32767,void(Dl=r);if(null===t)return Nl=6,void(Dl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Dl=e);Dl=e=t}while(null!==e);0===Nl&&(Nl=5)}function xh(t,e,r){var n=ye,i=Al.transition;try{Al.transition=null,ye=1,function(t,e,r,n){do{_h()}while(null!==Gl);if(0!==(6&Cl))throw Error(o(327));r=t.finishedWork;var i=t.finishedLanes;if(null===r)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ae(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}(t,a),t===Pl&&(Dl=Pl=null,Il=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Hl||(Hl=!0,Ph(ee,(function(){return _h(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=Al.transition,Al.transition=null;var s=ye;ye=1;var l=Cl;Cl|=4,El.current=null,function(t,e){if(ti=Xe,dn(t=fn())){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(r=(r=t.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(x){r=null;break t}var s=0,l=-1,h=-1,u=0,c=0,f=t,d=null;e:for(;;){for(var p;f!==r||0!==i&&3!==f.nodeType||(l=s+i),f!==a||0!==n&&3!==f.nodeType||(h=s+n),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===r&&++u===i&&(l=s),d===a&&++c===n&&(h=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}r=-1===l||-1===h?null:{start:l,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(ei={focusedElem:t,selectionRange:r},Xe=!1,Qs=e;null!==Qs;)if(t=(e=Qs).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Qs=t;else for(;null!==Qs;){e=Qs;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,w=m.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:rs(e.type,g),w);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(o(163))}}catch(x){Mh(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,Qs=t;break}Qs=e.return}m=el,el=!1}(t,r),gl(r,t),pn(ei),Xe=!!ti,ei=ti=null,t.current=r,bl(r,t,i),Kt(),Cl=l,ye=s,Al.transition=a}else t.current=r;if(Hl&&(Hl=!1,Gl=t,Wl=i),a=t.pendingLanes,0===a&&(ql=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(r.stateNode),nh(t,Zt()),null!==e)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Xl)throw Xl=!1,t=$l,$l=null,t;0!==(1&Wl)&&0!==t.tag&&_h(),a=t.pendingLanes,0!==(1&a)?t===Zl?Kl++:(Kl=0,Zl=t):Kl=0,ji()}(t,e,r,n)}finally{Al.transition=i,ye=n}return null}function _h(){if(null!==Gl){var t=ve(Wl),e=Al.transition,r=ye;try{if(Al.transition=null,ye=16>t?16:t,null===Gl)var n=!1;else{if(t=Gl,Gl=null,Wl=0,0!==(6&Cl))throw Error(o(331));var i=Cl;for(Cl|=4,Qs=t.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var h=0;h<l.length;h++){var u=l[h];for(Qs=u;null!==Qs;){var c=Qs;switch(c.tag){case 0:case 11:case 15:rl(8,c,a)}var f=c.child;if(null!==f)f.return=c,Qs=f;else for(;null!==Qs;){var d=(c=Qs).sibling,p=c.return;if(ol(c),c===u){Qs=null;break}if(null!==d){d.return=p,Qs=d;break}Qs=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(null!==g)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else t:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Qs=b;break t}Qs=a.return}}var y=t.current;for(Qs=y;null!==Qs;){var v=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==v)v.return=s,Qs=v;else t:for(s=y;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(_){Mh(l,l.return,_)}if(l===s){Qs=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,Qs=x;break t}Qs=l.return}}if(Cl=i,ji(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(_){}n=!0}return n}finally{ye=r,Al.transition=e}}return!1}function kh(t,e,r){t=Oo(t,e=ds(0,e=hs(r,e),1),1),e=th(),null!==t&&(we(t,1,e),nh(t,e))}function Mh(t,e,r){if(3===t.tag)kh(t,t,r);else for(;null!==e;){if(3===e.tag){kh(e,t,r);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===ql||!ql.has(n))){e=Oo(e,t=ps(e,t=hs(r,t),1),1),t=th(),null!==e&&(we(e,1,t),nh(e,t));break}}e=e.return}}function Sh(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),e=th(),t.pingedLanes|=t.suspendedLanes&r,Pl===t&&(Il&r)===r&&(4===Nl||3===Nl&&(130023424&Il)===Il&&500>Zt()-Vl?fh(t,0):Fl|=r),nh(t,e)}function Eh(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var r=th();null!==(t=Lo(t,e))&&(we(t,e,r),nh(t,r))}function Ah(t){var e=t.memoizedState,r=0;null!==e&&(r=e.retryLane),Eh(t,r)}function Ch(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(e),Eh(t,r)}function Ph(t,e){return Ht(t,e)}function Dh(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ih(t,e,r,n){return new Dh(t,e,r,n)}function Th(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Rh(t,e){var r=t.alternate;return null===r?((r=Ih(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&t.flags,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Nh(t,e,r,n,i,a){var s=2;if(n=t,"function"===typeof t)Th(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case k:return Lh(r.children,i,a,e);case M:s=8,i|=8;break;case S:return(t=Ih(12,r,e,2|i)).elementType=S,t.lanes=a,t;case P:return(t=Ih(13,r,e,i)).elementType=P,t.lanes=a,t;case D:return(t=Ih(19,r,e,i)).elementType=D,t.lanes=a,t;case R:return zh(r,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case E:s=10;break t;case A:s=9;break t;case C:s=11;break t;case I:s=14;break t;case T:s=16,n=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Ih(s,r,e,i)).elementType=t,e.type=n,e.lanes=a,e}function Lh(t,e,r,n){return(t=Ih(7,t,n,e)).lanes=r,t}function zh(t,e,r,n){return(t=Ih(22,t,n,e)).elementType=R,t.lanes=r,t.stateNode={isHidden:!1},t}function Bh(t,e,r){return(t=Ih(6,t,null,e)).lanes=r,t}function Fh(t,e,r){return(e=Ih(4,null!==t.children?t.children:[],t.key,e)).lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Uh(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Oh(t,e,r,n,i,o,a,s,l){return t=new Uh(t,e,r,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Ih(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(o),t}function Vh(t){if(!t)return Ai;t:{if(jt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ti(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var r=t.type;if(Ti(r))return Li(t,r,e)}return e}function jh(t,e,r,n,i,o,a,s,l){return(t=Oh(r,n,!0,t,0,o,0,s,l)).context=Vh(null),r=t.current,(o=Uo(n=th(),i=eh(r))).callback=void 0!==e&&null!==e?e:null,Oo(r,o,i),t.current.lanes=i,we(t,i,n),nh(t,n),t}function Yh(t,e,r,n){var i=e.current,o=th(),a=eh(i);return r=Vh(r),null===e.context?e.context=r:e.pendingContext=r,(e=Uo(o,a)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Oo(i,e,a))&&(rh(t,i,a,o),Vo(t,i,a)),a}function Xh(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function $h(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var r=t.retryLane;t.retryLane=0!==r&&r<e?r:e}}function qh(t,e){$h(t,e),(t=t.alternate)&&$h(t,e)}kl=function(t,e,r){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pi.current)ys=!0;else{if(0===(t.lanes&r)&&0===(128&e.flags))return ys=!1,function(t,e,r){switch(e.tag){case 3:Ps(e),po();break;case 5:Qo(e);break;case 1:Ti(e.type)&&zi(e);break;case 4:Ko(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ei(ko,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(Ei(ta,1&ta.current),e.flags|=128,null):0!==(r&e.child.childLanes)?Bs(t,e,r):(Ei(ta,1&ta.current),null!==(t=Xs(t,e,r))?t.sibling:null);Ei(ta,1&ta.current);break;case 19:if(n=0!==(r&e.childLanes),0!==(128&t.flags)){if(n)return js(t,e,r);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ta,ta.current),n)break;return null;case 22:case 23:return e.lanes=0,Ms(t,e,r)}return Xs(t,e,r)}(t,e,r);ys=0!==(131072&t.flags)}else ys=!1,io&&0!==(1048576&e.flags)&&Ji(e,qi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ys(t,e),t=e.pendingProps;var i=Ii(e,Ci.current);Do(e,r),i=ga(null,e,n,t,i,r);var a=wa();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ti(n)?(a=!0,zi(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bo(e),i.updater=is,e.stateNode=i,i._reactInternals=e,ls(e,n,t,r),e=Cs(null,e,n,!0,a,r)):(e.tag=0,io&&a&&to(e),vs(null,e,i,r),e=e.child),e;case 16:n=e.elementType;t:{switch(Ys(t,e),t=e.pendingProps,n=(i=n._init)(n._payload),e.type=n,i=e.tag=function(t){if("function"===typeof t)return Th(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===C)return 11;if(t===I)return 14}return 2}(n),t=rs(n,t),i){case 0:e=Es(null,e,n,t,r);break t;case 1:e=As(null,e,n,t,r);break t;case 11:e=xs(null,e,n,t,r);break t;case 14:e=_s(null,e,n,rs(n.type,t),r);break t}throw Error(o(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,Es(t,e,n,i=e.elementType===n?i:rs(n,i),r);case 1:return n=e.type,i=e.pendingProps,As(t,e,n,i=e.elementType===n?i:rs(n,i),r);case 3:t:{if(Ps(e),null===t)throw Error(o(387));n=e.pendingProps,i=(a=e.memoizedState).element,Fo(t,e),Yo(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ds(t,e,n,r,i=hs(Error(o(423)),e));break t}if(n!==i){e=Ds(t,e,n,r,i=hs(Error(o(424)),e));break t}for(no=hi(e.stateNode.containerInfo.firstChild),ro=e,io=!0,oo=null,r=_o(e,null,n,r),e.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(po(),n===i){e=Xs(t,e,r);break t}vs(t,e,n,r)}e=e.child}return e;case 5:return Qo(e),null===t&&ho(e),n=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ri(n,i)?s=null:null!==a&&ri(n,a)&&(e.flags|=32),Ss(t,e),vs(t,e,s,r),e.child;case 6:return null===t&&ho(e),null;case 13:return Bs(t,e,r);case 4:return Ko(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=xo(e,null,n,r):vs(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,xs(t,e,n,i=e.elementType===n?i:rs(n,i),r);case 7:return vs(t,e,e.pendingProps,r),e.child;case 8:case 12:return vs(t,e,e.pendingProps.children,r),e.child;case 10:t:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ei(ko,n._currentValue),n._currentValue=s,null!==a)if(sn(a.value,s)){if(a.children===i.children&&!Pi.current){e=Xs(t,e,r);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var h=l.firstContext;null!==h;){if(h.context===n){if(1===a.tag){(h=Uo(-1,r&-r)).tag=2;var u=a.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?h.next=h:(h.next=c.next,c.next=h),u.pending=h}}a.lanes|=r,null!==(h=a.alternate)&&(h.lanes|=r),Po(a.return,r,e),l.lanes|=r;break}h=h.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Po(s,r,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}vs(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Do(e,r),n=n(i=Io(i)),e.flags|=1,vs(t,e,n,r),e.child;case 14:return i=rs(n=e.type,e.pendingProps),_s(t,e,n,i=rs(n.type,i),r);case 15:return ks(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rs(n,i),Ys(t,e),e.tag=1,Ti(n)?(t=!0,zi(e)):t=!1,Do(e,r),as(e,n,i),ls(e,n,i,r),Cs(null,e,n,!0,t,r);case 19:return js(t,e,r);case 22:return Ms(t,e,r)}throw Error(o(156,e.tag))};var Hh="function"===typeof reportError?reportError:function(t){console.error(t)};function Gh(t){this._internalRoot=t}function Wh(t){this._internalRoot=t}function Kh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Qh(){}function Jh(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=Xh(a);s.call(t)}}Yh(e,a,t,i)}else a=function(t,e,r,n,i){if(i){if("function"===typeof n){var o=n;n=function(){var t=Xh(a);o.call(t)}}var a=jh(e,n,t,0,null,!1,0,"",Qh);return t._reactRootContainer=a,t[pi]=a.current,jn(8===t.nodeType?t.parentNode:t),uh(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof n){var s=n;n=function(){var t=Xh(l);s.call(t)}}var l=Oh(t,0,!1,null,0,!1,0,"",Qh);return t._reactRootContainer=l,t[pi]=l.current,jn(8===t.nodeType?t.parentNode:t),uh((function(){Yh(e,l,r,n)})),l}(r,e,t,i,n);return Xh(a)}Wh.prototype.render=Gh.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Yh(t,e,null,null)},Wh.prototype.unmount=Gh.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uh((function(){Yh(null,t,null,null)})),e[pi]=null}},Wh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Me();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Re.length&&0!==e&&e<Re[r].priority;r++);Re.splice(r,0,t),0===r&&Be(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ce(e.pendingLanes);0!==r&&(be(e,1|r),nh(e,Zt()),0===(6&Cl)&&(jl=Zt()+500,ji()))}break;case 13:uh((function(){var e=Lo(t,1);if(null!==e){var r=th();rh(e,t,1,r)}})),qh(t,1)}},_e=function(t){if(13===t.tag){var e=Lo(t,134217728);if(null!==e)rh(e,t,134217728,th());qh(t,134217728)}},ke=function(t){if(13===t.tag){var e=eh(t),r=Lo(t,e);if(null!==r)rh(r,t,e,th());qh(t,e)}},Me=function(){return ye},Se=function(t,e){var r=ye;try{return ye=t,e()}finally{ye=r}},_t=function(t,e,r){switch(e){case"input":if(Q(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=xi(n);if(!i)throw Error(o(90));H(n),Q(n,i)}}}break;case"textarea":ot(t,r);break;case"select":null!=(e=r.value)&&rt(t,!!r.multiple,e,!1)}},Ct=hh,Pt=uh;var tu={usingClientEntryPoint:!1,Events:[yi,vi,xi,Et,At,hh]},eu={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=$t(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{ie=nu.inject(ru),oe=nu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kh(e))throw Error(o(200));return function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}(t,e,null,r)},e.createRoot=function(t,e){if(!Kh(t))throw Error(o(299));var r=!1,n="",i=Hh;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(r=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Oh(t,1,!1,null,0,r,0,n,i),t[pi]=e.current,jn(8===t.nodeType?t.parentNode:t),new Gh(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=$t(e))?null:t.stateNode},e.flushSync=function(t){return uh(t)},e.hydrate=function(t,e,r){if(!Zh(e))throw Error(o(200));return Jh(null,t,e,!0,r)},e.hydrateRoot=function(t,e,r){if(!Kh(t))throw Error(o(405));var n=null!=r&&r.hydratedSources||null,i=!1,a="",s=Hh;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),e=jh(e,null,t,1,null!=r?r:null,i,0,a,s),t[pi]=e.current,jn(t),n)for(t=0;t<n.length;t++)i=(i=(r=n[t])._getVersion)(r._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Wh(e)},e.render=function(t,e,r){if(!Zh(e))throw Error(o(200));return Jh(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!Zh(t))throw Error(o(40));return!!t._reactRootContainer&&(uh((function(){Jh(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=hh,e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zh(r))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return Jh(t,e,r,!1,n)},e.version="18.3.1-next-f1338f8080-20240426"},4391:(t,e,r)=>{"use strict";var n=r(7950);e.createRoot=n.createRoot,e.hydrateRoot=n.hydrateRoot},7950:(t,e,r)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=r(2730)},1153:(t,e,r)=>{"use strict";var n=r(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(t,e,r){var n,o={},h=null,u=null;for(n in void 0!==r&&(h=""+r),void 0!==e.key&&(h=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,n)&&!l.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===o[n]&&(o[n]=e[n]);return{$$typeof:i,type:t,key:h,ref:u,props:o,_owner:s.current}}e.Fragment=o,e.jsx=h,e.jsxs=h},4202:(t,e)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function w(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}function b(){}function y(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=w.prototype;var v=y.prototype=new b;v.constructor=y,m(v,w.prototype),v.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,i)&&!M.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var h=Array(l),u=0;u<l;u++)h[u]=arguments[u+2];o.children=h}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:t,key:a,ref:s,props:o,_owner:k.current}}function E(t){return"object"===typeof t&&null!==t&&t.$$typeof===r}var A=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case r:case n:l=!0}}if(l)return a=a(l=t),t=""===o?"."+C(l,0):o,x(a)?(i="",null!=t&&(i=t.replace(A,"$&/")+"/"),P(a,e,i,"",(function(t){return t}))):null!=a&&(E(a)&&(a=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+t)),e.push(a)),1;if(l=0,o=""===o?".":o+":",x(t))for(var h=0;h<t.length;h++){var u=o+C(s=t[h],h);l+=P(s,e,i,u,a)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),h=0;!(s=t.next()).done;)l+=P(s=s.value,e,i,u=o+C(s,h++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function D(t,e,r){if(null==t)return t;var n=[],i=0;return P(t,n,"","",(function(t){return e.call(r,t,i++)})),n}function I(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var T={current:null},R={transition:null},N={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:D,forEach:function(t,e,r){D(t,(function(){e.apply(this,arguments)}),r)},count:function(t){var e=0;return D(t,(function(){e++})),e},toArray:function(t){return D(t,(function(t){return t}))||[]},only:function(t){if(!E(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=w,e.Fragment=i,e.Profiler=a,e.PureComponent=y,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,e.act=L,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=k.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(h in e)_.call(e,h)&&!M.hasOwnProperty(h)&&(i[h]=void 0===e[h]&&void 0!==l?l[h]:e[h])}var h=arguments.length-2;if(1===h)i.children=n;else if(1<h){l=Array(h);for(var u=0;u<h;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:r,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:I}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=R.transition;R.transition={};try{t()}finally{R.transition=e}},e.unstable_act=L,e.useCallback=function(t,e){return T.current.useCallback(t,e)},e.useContext=function(t){return T.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return T.current.useDeferredValue(t)},e.useEffect=function(t,e){return T.current.useEffect(t,e)},e.useId=function(){return T.current.useId()},e.useImperativeHandle=function(t,e,r){return T.current.useImperativeHandle(t,e,r)},e.useInsertionEffect=function(t,e){return T.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return T.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return T.current.useMemo(t,e)},e.useReducer=function(t,e,r){return T.current.useReducer(t,e,r)},e.useRef=function(t){return T.current.useRef(t)},e.useState=function(t){return T.current.useState(t)},e.useSyncExternalStore=function(t,e,r){return T.current.useSyncExternalStore(t,e,r)},e.useTransition=function(){return T.current.useTransition()},e.version="18.3.1"},5043:(t,e,r)=>{"use strict";t.exports=r(4202)},579:(t,e,r)=>{"use strict";t.exports=r(1153)},5592:(t,e,r)=>{"use strict";var n=r(9844),i=r(2476),o=r(934),a=r(9571);function s(t,e,r,n){return function(r,i,o){var a=t(t(e(i[1],o[0]),e(-o[1],i[0])),t(e(r[1],i[0]),e(-i[1],r[0]))),s=t(e(r[1],o[0]),e(-o[1],r[0])),l=n(a,s);return l[l.length-1]}}function l(t,e,r,n){return function(i,o,a,s){var l=t(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]),t(r(t(e(o[1],s[0]),e(-s[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]))),t(r(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),s[2])))),h=t(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),t(r(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),a[2])))),u=n(l,h);return u[u.length-1]}}function h(t,e,r,n){return function(i,o,a,s,l){var h=t(t(t(r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),a[2]),t(r(t(e(a[1],l[0]),e(-l[1],a[0])),-s[2]),r(t(e(a[1],s[0]),e(-s[1],a[0])),l[2]))),o[3]),t(r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),o[2]),t(r(t(e(o[1],l[0]),e(-l[1],o[0])),-s[2]),r(t(e(o[1],s[0]),e(-s[1],o[0])),l[2]))),-a[3]),r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),o[2]),t(r(t(e(o[1],l[0]),e(-l[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),l[2]))),s[3]))),t(r(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]),t(r(t(e(o[1],s[0]),e(-s[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]))),-l[3]),t(r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),o[2]),t(r(t(e(o[1],l[0]),e(-l[1],o[0])),-s[2]),r(t(e(o[1],s[0]),e(-s[1],o[0])),l[2]))),i[3]),r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),l[2]))),-o[3])))),t(t(r(t(r(t(e(o[1],l[0]),e(-l[1],o[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),l[2]))),s[3]),t(r(t(r(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),-l[3]),r(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]),t(r(t(e(o[1],s[0]),e(-s[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]))),i[3]))),t(r(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),-o[3]),t(r(t(r(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),a[3]),r(t(r(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),a[2]))),-s[3]))))),u=t(t(t(r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),a[2]),t(r(t(e(a[1],l[0]),e(-l[1],a[0])),-s[2]),r(t(e(a[1],s[0]),e(-s[1],a[0])),l[2]))),i[3]),r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),l[2]))),-a[3])),t(r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),l[2]))),s[3]),r(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),-l[3]))),t(t(r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),o[2]),t(r(t(e(o[1],l[0]),e(-l[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),l[2]))),i[3]),r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),l[2]))),-o[3])),t(r(t(r(t(e(o[1],l[0]),e(-l[1],o[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),l[2]))),a[3]),r(t(r(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),a[2]))),-l[3])))),c=n(h,u);return c[c.length-1]}}function u(t){return(3===t?s:4===t?l:h)(i,n,o,a)}var c=u(3),f=u(4),d=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,r){var n,i=(t[1]-r[1])*(e[0]-r[0]),o=(t[0]-r[0])*(e[1]-r[1]),a=i-o;if(i>0){if(o<=0)return a;n=i+o}else{if(!(i<0))return a;if(o>=0)return a;n=-(i+o)}var s=33306690738754716e-32*n;return a>=s||a<=-s?a:c(t,e,r)},function(t,e,r,n){var i=t[0]-n[0],o=e[0]-n[0],a=r[0]-n[0],s=t[1]-n[1],l=e[1]-n[1],h=r[1]-n[1],u=t[2]-n[2],c=e[2]-n[2],d=r[2]-n[2],p=o*h,m=a*l,g=a*s,w=i*h,b=i*l,y=o*s,v=u*(p-m)+c*(g-w)+d*(b-y),x=7771561172376103e-31*((Math.abs(p)+Math.abs(m))*Math.abs(u)+(Math.abs(g)+Math.abs(w))*Math.abs(c)+(Math.abs(b)+Math.abs(y))*Math.abs(d));return v>x||-v>x?v:f(t,e,r,n)}];function p(t){var e=d[t.length];return e||(e=d[t.length]=u(t.length)),e.apply(void 0,t)}function m(t,e,r,n,i,o,a){return function(e,r,s,l,h){switch(arguments.length){case 0:case 1:return 0;case 2:return n(e,r);case 3:return i(e,r,s);case 4:return o(e,r,s,l);case 5:return a(e,r,s,l,h)}for(var u=new Array(arguments.length),c=0;c<arguments.length;++c)u[c]=arguments[c];return t(u)}}!function(){for(;d.length<=5;)d.push(u(d.length));t.exports=m.apply(void 0,[p].concat(d));for(var e=0;e<=5;++e)t.exports[e]=d[e]}()},6427:(t,e,r)=>{t.exports=function(t,e){for(var r=e[0],i=e[1],o=t.length,a=1,s=o,l=0,h=o-1;l<s;h=l++){var u=t[l],c=t[h],f=u[1],d=c[1];if(d<f){if(d<i&&i<f){if(0===(p=n(u,c,e)))return 0;a^=0<p|0}else if(i===f){if(f<t[(l+1)%o][1]){if(0===(p=n(u,c,e)))return 0;a^=0<p|0}}}else if(f<d){if(f<i&&i<d){if(0===(p=n(u,c,e)))return 0;a^=p<0|0}else if(i===f){if(t[(l+1)%o][1]<f){var p;if(0===(p=n(u,c,e)))return 0;a^=p<0|0}}}else if(i===f){var m=Math.min(u[0],c[0]),g=Math.max(u[0],c[0]);if(0===l){for(;h>0;){var w=(h+o-1)%o;if((v=t[w])[1]!==i)break;var b=v[0];m=Math.min(m,b),g=Math.max(g,b),h=w}if(0===h)return m<=r&&r<=g?0:1;s=h+1}for(var y=t[(h+o-1)%o][1];l+1<s;){var v;if((v=t[l+1])[1]!==i)break;b=v[0];m=Math.min(m,b),g=Math.max(g,b),l+=1}if(m<=r&&r<=g)return 0;var x=t[(l+1)%o][1];r<m&&y<i!==x<i&&(a^=1)}}return 2*a-1};var n=r(5592)},934:(t,e,r)=>{"use strict";var n=r(9844),i=r(9684);t.exports=function(t,e){var r=t.length;if(1===r){var o=n(t[0],e);return o[0]?o:[o[1]]}var a=new Array(2*r),s=[.1,.1],l=[.1,.1],h=0;n(t[0],e,s),s[0]&&(a[h++]=s[0]);for(var u=1;u<r;++u){n(t[u],e,l);var c=s[1];i(c,l[0],s),s[0]&&(a[h++]=s[0]);var f=l[1],d=s[1],p=f+d,m=d-(p-f);s[1]=p,m&&(a[h++]=m)}s[1]&&(a[h++]=s[1]);0===h&&(a[h++]=0);return a.length=h,a}},9571:t=>{"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,i=r-n,o=e-n,a=t-i,s=a+o;if(s)return[s,r];return[r]}(t[0],-e[0]);var i,o,a=new Array(r+n),s=0,l=0,h=0,u=Math.abs,c=t[l],f=u(c),d=-e[h],p=u(d);f<p?(o=c,(l+=1)<r&&(f=u(c=t[l]))):(o=d,(h+=1)<n&&(p=u(d=-e[h])));l<r&&f<p||h>=n?(i=c,(l+=1)<r&&(f=u(c=t[l]))):(i=d,(h+=1)<n&&(p=u(d=-e[h])));var m,g,w=i+o,b=w-i,y=o-b,v=y,x=w;for(;l<r&&h<n;)f<p?(i=c,(l+=1)<r&&(f=u(c=t[l]))):(i=d,(h+=1)<n&&(p=u(d=-e[h]))),(y=(o=v)-(b=(w=i+o)-i))&&(a[s++]=y),v=x-((m=x+w)-(g=m-x))+(w-g),x=m;for(;l<r;)(y=(o=v)-(b=(w=(i=c)+o)-i))&&(a[s++]=y),v=x-((m=x+w)-(g=m-x))+(w-g),x=m,(l+=1)<r&&(c=t[l]);for(;h<n;)(y=(o=v)-(b=(w=(i=d)+o)-i))&&(a[s++]=y),v=x-((m=x+w)-(g=m-x))+(w-g),x=m,(h+=1)<n&&(d=-e[h]);v&&(a[s++]=v);x&&(a[s++]=x);s||(a[s++]=0);return a.length=s,a}},2476:t=>{"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,i=r-n,o=e-n,a=t-i,s=a+o;if(s)return[s,r];return[r]}(t[0],e[0]);var i,o,a=new Array(r+n),s=0,l=0,h=0,u=Math.abs,c=t[l],f=u(c),d=e[h],p=u(d);f<p?(o=c,(l+=1)<r&&(f=u(c=t[l]))):(o=d,(h+=1)<n&&(p=u(d=e[h])));l<r&&f<p||h>=n?(i=c,(l+=1)<r&&(f=u(c=t[l]))):(i=d,(h+=1)<n&&(p=u(d=e[h])));var m,g,w=i+o,b=w-i,y=o-b,v=y,x=w;for(;l<r&&h<n;)f<p?(i=c,(l+=1)<r&&(f=u(c=t[l]))):(i=d,(h+=1)<n&&(p=u(d=e[h]))),(y=(o=v)-(b=(w=i+o)-i))&&(a[s++]=y),v=x-((m=x+w)-(g=m-x))+(w-g),x=m;for(;l<r;)(y=(o=v)-(b=(w=(i=c)+o)-i))&&(a[s++]=y),v=x-((m=x+w)-(g=m-x))+(w-g),x=m,(l+=1)<r&&(c=t[l]);for(;h<n;)(y=(o=v)-(b=(w=(i=d)+o)-i))&&(a[s++]=y),v=x-((m=x+w)-(g=m-x))+(w-g),x=m,(h+=1)<n&&(d=e[h]);v&&(a[s++]=v);x&&(a[s++]=x);s||(a[s++]=0);return a.length=s,a}},7234:(t,e)=>{"use strict";function r(t,e){var r=t.length;t.push(e);t:for(;0<r;){var n=r-1>>>1,i=t[n];if(!(0<o(i,e)))break t;t[n]=e,t[r]=i,r=n}}function n(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,i=t.length,a=i>>>1;n<a;){var s=2*(n+1)-1,l=t[s],h=s+1,u=t[h];if(0>o(l,r))h<i&&0>o(u,l)?(t[n]=u,t[h]=r,n=h):(t[n]=l,t[s]=r,n=s);else{if(!(h<i&&0>o(u,r)))break t;t[n]=u,t[h]=r,n=h}}}return e}function o(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var h=[],u=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,w="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(t){for(var e=n(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,r(h,e)}e=n(u)}}function x(t){if(g=!1,v(t),!m)if(null!==n(h))m=!0,R(_);else{var e=n(u);null!==e&&N(x,e.startTime-t)}}function _(t,r){m=!1,g&&(g=!1,b(E),E=-1),p=!0;var o=d;try{for(v(r),f=n(h);null!==f&&(!(f.expirationTime>r)||t&&!P());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=r);r=e.unstable_now(),"function"===typeof s?f.callback=s:f===n(h)&&i(h),v(r)}else i(h);f=n(h)}if(null!==f)var l=!0;else{var c=n(u);null!==c&&N(x,c.startTime-r),l=!1}return l}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,M=!1,S=null,E=-1,A=5,C=-1;function P(){return!(e.unstable_now()-C<A)}function D(){if(null!==S){var t=e.unstable_now();C=t;var r=!0;try{r=S(!0,t)}finally{r?k():(M=!1,S=null)}}else M=!1}if("function"===typeof y)k=function(){y(D)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,T=I.port2;I.port1.onmessage=D,k=function(){T.postMessage(null)}}else k=function(){w(D,0)};function R(t){S=t,M||(M=!0,k())}function N(t,r){E=w((function(){t(e.unstable_now())}),r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,R(_))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var r=d;d=e;try{return t()}finally{d=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=d;d=t;try{return e()}finally{d=r}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:c++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,r(u,t),null===n(h)&&t===n(u)&&(g?(b(E),E=-1):g=!0,N(x,o-a))):(t.sortIndex=s,r(h,t),m||p||(m=!0,R(_))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=d;return function(){var r=d;d=e;try{return t.apply(this,arguments)}finally{d=r}}}},8853:(t,e,r)=>{"use strict";t.exports=r(7234)},4395:t=>{"use strict";t.exports={eudist:function(t,e){for(var r=t.length,n=0,i=0;i<r;i++){var o=(t[i]||0)-(e[i]||0);n+=o*o}return n},mandist:function(t,e){for(var r=t.length,n=0,i=0,o=0;o<r;o++)n+=(i=(t[o]||0)-(e[o]||0))>=0?i:-i;return n},dist:function(t,e,r){var n=Math.abs(t-e);return r?n:n*n}}},3357:(t,e,r)=>{"use strict";var n=r(4395),i=n.eudist,o=n.dist;t.exports={kmrand:function(t,e){for(var r={},n=[],i=e<<2,o=t.length,a=t[0].length>0;n.length<e&&i-- >0;){var s=t[Math.floor(Math.random()*o)],l=a?s.join("_"):"".concat(s);r[l]||(r[l]=!0,n.push(s))}if(n.length<e)throw new Error("Error initializating clusters");return n},kmpp:function(t,e,r){var n=r||(t[0].length?i:o),a=[],s=t.length,l=t[0].length>0,h=t[Math.floor(Math.random()*s)];l?h.join("_"):"".concat(h);for(a.push(h);a.length<e;){for(var u=[],c=a.length,f=0,d=[],p=0;p<s;p++){for(var m=1/0,g=0;g<c;g++){var w=n(t[p],a[g]);w<=m&&(m=w)}u[p]=m}for(var b=0;b<s;b++)f+=u[b];for(var y=0;y<s;y++)d[y]={i:y,v:t[y],pr:u[y]/f,cs:0};d.sort((function(t,e){return t.pr-e.pr})),d[0].cs=d[0].pr;for(var v=1;v<s;v++)d[v].cs=d[v-1].cs+d[v].pr;for(var x=Math.random(),_=0;_<s-1&&d[_++].cs<x;);a.push(d[_-1].v)}return a}}},109:(t,e,r)=>{"use strict";var n=r(4395),i=r(3357),o=n.eudist,a=(n.mandist,n.dist,i.kmrand),s=i.kmpp;function l(t,e,r){r=r||[];for(var n=0;n<t;n++)r[n]=e;return r}function h(t,e){for(var r=Array.isArray(t),n=this.centroids,i=n.length,a=1/0,s=0,l=0;l<i;l++){var h=e?e(t,n[l]):r?o(t,n[l]):Math.abs(t-n[l]);h<=a&&(a=h,s=l)}return{idx:s,centroid:n[s]}}t.exports=function(t,e,r,n,i){var u=[],c=[],f=[],d=[],p=!1,m=n||1e4,g=t.length,w=t[0].length,b=w>0,y=[];if(r)u="kmrand"==r?a(t,e):"kmpp"==r?s(t,e,i):r;else for(var v={},x=0;u.length<e;){var _=Math.floor(Math.random()*g);v[_]||(v[_]=!0,u[x++]=t[_])}do{l(e,0,y);for(var k=0;k<g;k++){for(var M=1/0,S=0,E=0;E<e;E++){(d=i?i(t[k],u[E]):b?o(t[k],u[E]):Math.abs(t[k]-u[E]))<=M&&(M=d,S=E)}f[k]=S,y[S]++}var A=[];c=[];if(b)for(var C=0;C<e;C++)A[C]=l(w,0,A[C]),c[C]=u[C];else for(var P=0;P<e;P++)A[P]=0,c[P]=u[P];if(b){for(var D=0;D<e;D++)u[D]=[];for(var I=0;I<g;I++)for(var T=A[f[I]],R=t[I],N=0;N<w;N++)T[N]+=R[N];p=!0;for(var L=0;L<e;L++){for(var z=u[L],B=A[L],F=c[L],U=y[L],O=0;O<w;O++)z[O]=B[O]/U||0;if(p)for(var V=0;V<w;V++)if(F[V]!=z[V]){p=!1;break}}}else{for(var j=0;j<g;j++){A[f[j]]+=t[j]}for(var Y=0;Y<e;Y++)u[Y]=A[Y]/y[Y]||0;p=!0;for(var X=0;X<e;X++)if(c[X]!=u[X]){p=!1;break}}p=p||--m<=0}while(!p);return{it:(n||1e4)-m,k:e,idxs:f,centroids:u,test:h}}},9844:t=>{"use strict";t.exports=function(t,r,n){var i=t*r,o=e*t,a=o-(o-t),s=t-a,l=e*r,h=l-(l-r),u=r-h,c=s*u-(i-a*h-s*h-a*u);if(n)return n[0]=c,n[1]=i,n;return[c,i]};var e=+(Math.pow(2,27)+1)},9684:t=>{"use strict";t.exports=function(t,e,r){var n=t+e,i=n-t,o=e-i,a=t-(n-i);if(r)return r[0]=a+o,r[1]=n,r;return[a+o,n]}},7600:(t,e,r)=>{"use strict";var n=r(5358),i=navigator.hardwareConcurrency||1;Function.prototype;function o(t,e){if("string"!==typeof t&&"function"!==typeof t)throw new TypeError("func argument must be a function");if(void 0===e&&(e={}),"object"!==typeof e||null===e)throw new TypeError("options argument must be an object");this._workerCode=t.toString(),void 0===e.maxWorkers||"auto"===e.maxWorkers?this._numWorkers=Math.min(i-1,1):e.maxWorkers>0?this._numWorkers=Math.min(e.maxWorkers,i):this._numWorkers=i,this._workers=new Map,this._timeout=e.timeout||0,this._terminateOnError=!!e.terminateOnError;var r=e.deps;"string"===typeof r&&(r=[r]),Array.isArray(r)||(r=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(r)}o.prototype._init=function(t){for(var e=n.newWorkerURL(this._workerCode,t),r=0;r<this._numWorkers;r++){var i=new Worker(e);i.onmessage=this._onmessage.bind(this,i),i.onerror=this._onerror.bind(this,i),i.running=!1,i.id=r,this._workers.set(i,null)}URL.revokeObjectURL(e)},o.prototype._onerror=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[1](e.message),this._workers.set(t,null),this._terminateOnError?this.terminate():this._exec()}},o.prototype._onmessage=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[0](e.data.data),this._workers.set(t,null),this._exec()}},o.prototype._exec=function(){for(var t of this._workers.keys()){if(this._working===this._numWorkers||0===this._waiting.length)return;if(!t.running)for(var e=0;e<this._waiting.length;e++){var r=this._waiting[e];if("number"!==typeof r[4]||r[4]===t.id){this._waiting.splice(e,1),t.postMessage({action:"exec",event:r[0],args:r[1]},r[2]),t.running=!0,t.time=Date.now(),this._workers.set(t,r[3]),this._working++;break}}}},o.prototype.terminate=function(){if(!this._terminated){for(var t of this._workers)t[0].terminate(),t[1]&&t[1][1](new Error("Terminated"));this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}},o.prototype.postAll=function(t,e){if(this._terminated)throw new Error("Cannot post (terminated)");var r=[];for(var n of this._workers.keys())r.push(this.post(t,e,[],n.id));return Promise.all(r)},o.prototype.post=function(t,e,r,n){void 0===e&&(e=[]),void 0===r&&(r=[]),Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]);var i=this;return new Promise((function(o,a){if(i._terminated)throw new Error("Cannot post (terminated)");i._waiting.push([t,e,r,[o,a],n]),i._exec()}))},t.exports=o},5358:(t,e)=>{"use strict";var r=function(){self.window=self;function t(){this._listeners={}}t.prototype.on=function(t,e){if(this._listeners[t])throw new RangeError("there is already a listener for "+t);if("function"!==typeof e)throw new TypeError("callback argument must be a function");this._listeners[t]=e},t.prototype._send=function(t,e,r){void 0===r?r=[]:Array.isArray(r)||(r=[r]),self.postMessage({id:t,data:e},r)},t.prototype._trigger=function(t,e){if(!this._listeners[t])throw new Error("event "+t+" is not defined");this._listeners[t].apply(null,e)};var e=new t;self.onmessage=function(t){switch(t.data.action){case"exec":t.data.args.unshift((function(r,n){e._send(t.data.id,r,n)})),e._trigger(t.data.event,t.data.args);break;case"ping":e._send(t.data.id,"pong");break;default:throw new Error("unexpected action: "+t.data.action)}}}.toString().split('"CODE";');e.newWorkerURL=function(t,e){var n=new Blob(["(",r[0],"importScripts.apply(self, "+JSON.stringify(e)+");\n","(",t,")();",r[1],")();"],{type:"application/javascript"});return URL.createObjectURL(n)}},7753:t=>{"use strict";t.exports={version:"1.0.1"}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.f={},__webpack_require__.e=t=>Promise.all(Object.keys(__webpack_require__.f).reduce(((e,r)=>(__webpack_require__.f[r](t,e),e)),[])),__webpack_require__.u=t=>"static/js/"+t+".964cfa5c.chunk.js",__webpack_require__.miniCssF=t=>{},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="picastlo:";__webpack_require__.l=(r,n,i,o)=>{if(t[r])t[r].push(n);else{var a,s;if(void 0!==i)for(var l=document.getElementsByTagName("script"),h=0;h<l.length;h++){var u=l[h];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==e+i){a=u;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",e+i),a.src=r),t[r]=[n];var c=(e,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=t[r];if(delete t[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((t=>t(n))),e)return e(n)},f=setTimeout(c.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=c.bind(null,a.onerror),a.onload=c.bind(null,a.onload),s&&document.head.appendChild(a)}}})(),__webpack_require__.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.p="/",(()=>{var t={792:0};__webpack_require__.f.j=(e,r)=>{var n=__webpack_require__.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise(((r,i)=>n=t[e]=[r,i]));r.push(n[2]=i);var o=__webpack_require__.p+__webpack_require__.u(e),a=new Error;__webpack_require__.l(o,(r=>{if(__webpack_require__.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,n[1](a)}}),"chunk-"+e,e)}};var e=(e,r)=>{var n,i,o=r[0],a=r[1],s=r[2],l=0;if(o.some((e=>0!==t[e]))){for(n in a)__webpack_require__.o(a,n)&&(__webpack_require__.m[n]=a[n]);if(s)s(__webpack_require__)}for(e&&e(r);l<o.length;l++)i=o[l],__webpack_require__.o(t,i)&&t[i]&&t[i][0](),t[i]=0},r=self.webpackChunkpicastlo=self.webpackChunkpicastlo||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var __webpack_exports__={};(()=>{"use strict";var t=__webpack_require__(5043),e=__webpack_require__(4391),r=__webpack_require__(109),n=__webpack_require__.n(r);__webpack_require__(4416).Image;class i{constructor(t){this.imageData=void 0,this.imageData=t||new ImageData(1,1)}loadFrom(t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("Could not get context from canvas");r.drawImage(t,0,0),this.imageData=r.getImageData(0,0,e.width,e.height)}async loadFromString(t){return new Promise(((e,r)=>{const n=new Image;n.src=t,n.onload=()=>{this.loadFrom(n),e(this)}}))}transformImage(t){return t.transform(this)}getPixelXY(t,e){const r=this.imageData.data,n=4*e*this.imageData.width+4*t;return[r[n],r[n+1],r[n+2],r[n+3]]}setPixelXY(t,e,r){const n=this.imageData.data,i=4*e*this.imageData.width+4*t;for(let o=0;o<this.imageData.colorSpace.length;o++)n[i+o]=r[o]}copyRawData(){const t=new ImageData(this.imageData.width,this.imageData.height,{colorSpace:this.imageData.colorSpace});for(let e=0;e<this.imageData.data.length;e++)t.data[e]=this.imageData.data[e];return t}width(){return this.imageData.width}height(){return this.imageData.height}dataURL(){const t=document.createElement("canvas");t.width=this.imageData.width,t.height=this.imageData.height;const e=t.getContext("2d");if(e){const r=e.getImageData(0,0,this.imageData.width,this.imageData.height);for(let t=0;t<this.imageData.data.length;t+=1)r.data[t]=this.imageData.data[t];return e.putImageData(r,0,0),t.toDataURL()}throw new Error("Could not get context from canvas")}}const o=11102230246251565e-32,a=134217729,s=(3+8*o)*o;function l(t,e,r,n,i){let o,a,s,l,h=e[0],u=n[0],c=0,f=0;u>h===u>-h?(o=h,h=e[++c]):(o=u,u=n[++f]);let d=0;if(c<t&&f<r)for(u>h===u>-h?(a=h+o,s=o-(a-h),h=e[++c]):(a=u+o,s=o-(a-u),u=n[++f]),o=a,0!==s&&(i[d++]=s);c<t&&f<r;)u>h===u>-h?(a=o+h,l=a-o,s=o-(a-l)+(h-l),h=e[++c]):(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=n[++f]),o=a,0!==s&&(i[d++]=s);for(;c<t;)a=o+h,l=a-o,s=o-(a-l)+(h-l),h=e[++c],o=a,0!==s&&(i[d++]=s);for(;f<r;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=n[++f],o=a,0!==s&&(i[d++]=s);return 0===o&&0!==d||(i[d++]=o),d}function h(t){return new Float64Array(t)}const u=h(4),c=h(8),f=h(12),d=h(16),p=h(4);function m(t,e,r,n,i,o){const h=(e-o)*(r-i),m=(t-i)*(n-o),g=h-m,w=Math.abs(h+m);return Math.abs(g)>=33306690738754716e-32*w?g:-function(t,e,r,n,i,o,h){let m,g,w,b,y,v,x,_,k,M,S,E,A,C,P,D,I,T;const R=t-i,N=r-i,L=e-o,z=n-o;C=R*z,v=a*R,x=v-(v-R),_=R-x,v=a*z,k=v-(v-z),M=z-k,P=_*M-(C-x*k-_*k-x*M),D=L*N,v=a*L,x=v-(v-L),_=L-x,v=a*N,k=v-(v-N),M=N-k,I=_*M-(D-x*k-_*k-x*M),S=P-I,y=P-S,u[0]=P-(S+y)+(y-I),E=C+S,y=E-C,A=C-(E-y)+(S-y),S=A-D,y=A-S,u[1]=A-(S+y)+(y-D),T=E+S,y=T-E,u[2]=E-(T-y)+(S-y),u[3]=T;let B=function(t,e){let r=e[0];for(let n=1;n<t;n++)r+=e[n];return r}(4,u),F=22204460492503146e-32*h;if(B>=F||-B>=F)return B;if(y=t-R,m=t-(R+y)+(y-i),y=r-N,w=r-(N+y)+(y-i),y=e-L,g=e-(L+y)+(y-o),y=n-z,b=n-(z+y)+(y-o),0===m&&0===g&&0===w&&0===b)return B;if(F=11093356479670487e-47*h+s*Math.abs(B),B+=R*b+z*m-(L*w+N*g),B>=F||-B>=F)return B;C=m*z,v=a*m,x=v-(v-m),_=m-x,v=a*z,k=v-(v-z),M=z-k,P=_*M-(C-x*k-_*k-x*M),D=g*N,v=a*g,x=v-(v-g),_=g-x,v=a*N,k=v-(v-N),M=N-k,I=_*M-(D-x*k-_*k-x*M),S=P-I,y=P-S,p[0]=P-(S+y)+(y-I),E=C+S,y=E-C,A=C-(E-y)+(S-y),S=A-D,y=A-S,p[1]=A-(S+y)+(y-D),T=E+S,y=T-E,p[2]=E-(T-y)+(S-y),p[3]=T;const U=l(4,u,4,p,c);C=R*b,v=a*R,x=v-(v-R),_=R-x,v=a*b,k=v-(v-b),M=b-k,P=_*M-(C-x*k-_*k-x*M),D=L*w,v=a*L,x=v-(v-L),_=L-x,v=a*w,k=v-(v-w),M=w-k,I=_*M-(D-x*k-_*k-x*M),S=P-I,y=P-S,p[0]=P-(S+y)+(y-I),E=C+S,y=E-C,A=C-(E-y)+(S-y),S=A-D,y=A-S,p[1]=A-(S+y)+(y-D),T=E+S,y=T-E,p[2]=E-(T-y)+(S-y),p[3]=T;const O=l(U,c,4,p,f);C=m*b,v=a*m,x=v-(v-m),_=m-x,v=a*b,k=v-(v-b),M=b-k,P=_*M-(C-x*k-_*k-x*M),D=g*w,v=a*g,x=v-(v-g),_=g-x,v=a*w,k=v-(v-w),M=w-k,I=_*M-(D-x*k-_*k-x*M),S=P-I,y=P-S,p[0]=P-(S+y)+(y-I),E=C+S,y=E-C,A=C-(E-y)+(S-y),S=A-D,y=A-S,p[1]=A-(S+y)+(y-D),T=E+S,y=T-E,p[2]=E-(T-y)+(S-y),p[3]=T;const V=l(O,f,4,p,d);return d[V-1]}(t,e,r,n,i,o,w)}h(4),h(4),h(4),h(4),h(4),h(4),h(4),h(4),h(4),h(8),h(8),h(8),h(4),h(8),h(8),h(8),h(12);h(192),h(192);h(4),h(4),h(4),h(4),h(4),h(4),h(4),h(4),h(8),h(8),h(8),h(8),h(8),h(8),h(8),h(8),h(8),h(4),h(4),h(4),h(8),h(16),h(16),h(16),h(32),h(32),h(48),h(64);h(1152),h(1152);h(4),h(4),h(4),h(4),h(4),h(4),h(4),h(4),h(4),h(4),h(24),h(24),h(24),h(24),h(24),h(24),h(24),h(24),h(24),h(24),h(1152),h(1152),h(1152),h(1152),h(1152),h(2304),h(2304),h(3456),h(5760),h(8),h(8),h(8),h(16),h(24),h(48),h(48),h(96),h(192),h(384),h(384),h(384),h(768);h(96),h(96),h(96),h(1152);const g=Math.pow(2,-52),w=new Uint32Array(512);class b{static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;const n=t.length,i=new Float64Array(2*n);for(let o=0;o<n;o++){const n=t[o];i[2*o]=e(n),i[2*o+1]=r(n)}return new b(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:r,_hullTri:n,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,l=-1/0,h=-1/0;for(let m=0;m<o;m++){const e=t[2*m],r=t[2*m+1];e<a&&(a=e),r<s&&(s=r),e>l&&(l=e),r>h&&(h=r),this._ids[m]=m}const u=(a+l)/2,c=(s+h)/2;let f,d,p;for(let m=0,g=1/0;m<o;m++){const e=y(u,c,t[2*m],t[2*m+1]);e<g&&(f=m,g=e)}const w=t[2*f],b=t[2*f+1];for(let m=0,g=1/0;m<o;m++){if(m===f)continue;const e=y(w,b,t[2*m],t[2*m+1]);e<g&&e>0&&(d=m,g=e)}let v=t[2*d],k=t[2*d+1],M=1/0;for(let m=0;m<o;m++){if(m===f||m===d)continue;const e=x(w,b,v,k,t[2*m],t[2*m+1]);e<M&&(p=m,M=e)}let S=t[2*p],E=t[2*p+1];if(M===1/0){for(let n=0;n<o;n++)this._dists[n]=t[2*n]-t[0]||t[2*n+1]-t[1];_(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let r=0;for(let t=0,n=-1/0;t<o;t++){const i=this._ids[t],o=this._dists[i];o>n&&(e[r++]=i,n=o)}return this.hull=e.subarray(0,r),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(m(w,b,v,k,S,E)<0){const t=d,e=v,r=k;d=p,v=S,k=E,p=t,S=e,E=r}const A=function(t,e,r,n,i,o){const a=r-t,s=n-e,l=i-t,h=o-e,u=a*a+s*s,c=l*l+h*h,f=.5/(a*h-s*l);return{x:t+(h*u-s*c)*f,y:e+(a*c-l*u)*f}}(w,b,v,k,S,E);this._cx=A.x,this._cy=A.y;for(let m=0;m<o;m++)this._dists[m]=y(t[2*m],t[2*m+1],A.x,A.y);_(this._ids,this._dists,0,o-1),this._hullStart=f;let C=3;r[f]=e[p]=d,r[d]=e[f]=p,r[p]=e[d]=f,n[f]=0,n[d]=1,n[p]=2,i.fill(-1),i[this._hashKey(w,b)]=f,i[this._hashKey(v,k)]=d,i[this._hashKey(S,E)]=p,this.trianglesLen=0,this._addTriangle(f,d,p,-1,-1,-1);for(let y,x,_=0;_<this._ids.length;_++){const o=this._ids[_],a=t[2*o],s=t[2*o+1];if(_>0&&Math.abs(a-y)<=g&&Math.abs(s-x)<=g)continue;if(y=a,x=s,o===f||o===d||o===p)continue;let l=0;for(let t=0,e=this._hashKey(a,s);t<this._hashSize&&(l=i[(e+t)%this._hashSize],-1===l||l===r[l]);t++);l=e[l];let h,u=l;for(;h=r[u],m(a,s,t[2*u],t[2*u+1],t[2*h],t[2*h+1])>=0;)if(u=h,u===l){u=-1;break}if(-1===u)continue;let c=this._addTriangle(u,o,r[u],-1,-1,n[u]);n[o]=this._legalize(c+2),n[u]=c,C++;let w=r[u];for(;h=r[w],m(a,s,t[2*w],t[2*w+1],t[2*h],t[2*h+1])<0;)c=this._addTriangle(w,o,h,n[o],-1,n[w]),n[o]=this._legalize(c+2),r[w]=w,C--,w=h;if(u===l)for(;h=e[u],m(a,s,t[2*h],t[2*h+1],t[2*u],t[2*u+1])<0;)c=this._addTriangle(h,o,u,-1,n[u],n[h]),this._legalize(c+2),n[h]=c,r[u]=u,C--,u=h;this._hullStart=e[o]=u,r[u]=e[w]=o,r[o]=w,i[this._hashKey(a,s)]=o,i[this._hashKey(t[2*u],t[2*u+1])]=u}this.hull=new Uint32Array(C);for(let m=0,g=this._hullStart;m<C;m++)this.hull[m]=g,g=r[g];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const r=t/(Math.abs(t)+Math.abs(e));return(e>0?3-r:1+r)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:r,coords:n}=this;let i=0,o=0;for(;;){const a=r[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=w[--i];continue}const l=a-a%3,h=s+(t+1)%3,u=l+(a+2)%3,c=e[o],f=e[t],d=e[h],p=e[u];if(v(n[2*c],n[2*c+1],n[2*f],n[2*f+1],n[2*d],n[2*d+1],n[2*p],n[2*p+1])){e[t]=p,e[a]=c;const n=r[u];if(-1===n){let e=this._hullStart;do{if(this._hullTri[e]===u){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,n),this._link(a,r[o]),this._link(o,u);const s=l+(a+1)%3;i<w.length&&(w[i++]=s)}else{if(0===i)break;t=w[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,r,n,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=r,this._link(a,n),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function y(t,e,r,n){const i=t-r,o=e-n;return i*i+o*o}function v(t,e,r,n,i,o,a,s){const l=t-a,h=e-s,u=r-a,c=n-s,f=i-a,d=o-s,p=u*u+c*c,m=f*f+d*d;return l*(c*m-p*d)-h*(u*m-p*f)+(l*l+h*h)*(u*d-c*f)<0}function x(t,e,r,n,i,o){const a=r-t,s=n-e,l=i-t,h=o-e,u=a*a+s*s,c=l*l+h*h,f=.5/(a*h-s*l),d=(h*u-s*c)*f,p=(a*c-l*u)*f;return d*d+p*p}function _(t,e,r,n){if(n-r<=20)for(let i=r+1;i<=n;i++){const n=t[i],o=e[n];let a=i-1;for(;a>=r&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=n}else{let i=r+1,o=n;k(t,r+n>>1,i),e[t[r]]>e[t[n]]&&k(t,r,n),e[t[i]]>e[t[n]]&&k(t,i,n),e[t[r]]>e[t[i]]&&k(t,r,i);const a=t[i],s=e[a];for(;;){do{i++}while(e[t[i]]<s);do{o--}while(e[t[o]]>s);if(o<i)break;k(t,i,o)}t[r+1]=t[o],t[o]=a,n-i+1>=o-r?(_(t,e,i,n),_(t,e,r,o-1)):(_(t,e,r,o-1),_(t,e,i,n))}}function k(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function M(t){return t[0]}function S(t){return t[1]}const E=__webpack_require__(4416).Image;class A{constructor(t,e,r){this.heightMap=t,this.tactileMap=e,this.resolution=r}setResolution(t){this.resolution=t}makePointCloud(){let t=this.heightMap.width(),e=this.heightMap.height(),r=[];for(let n=0;n<t;n+=this.resolution)for(let t=0;t<e;t+=this.resolution)r.push([n,t]);return r}triangulate(t){let e=b.from(t),r=[];for(let n=0;n<e.triangles.length;n+=3)r.push({p1:t[e.triangles[n]],p2:t[e.triangles[n+1]],p3:t[e.triangles[n+2]]});return r}setHeight(t){let e=t[0],r=t[1],n=[.299,.587,.114],i=0;for(let o=0;o<3;o++)e<this.resolution||r<this.resolution||e>=this.heightMap.width()-this.resolution||r>=this.heightMap.height()-this.resolution?i=0:i+=this.heightMap.getPixelXY(e,r)[o]*n[o]+this.tactileMap.getPixelXY(e,r)[o]*n[o];return[e,this.heightMap.height()-r,-i/50]}applyHeightMap(t){let e=[];for(let r=0;r<t.length;r+=1)e.push(this.setHeight(t[r].p1)),e.push(this.setHeight(t[r].p2)),e.push(this.setHeight(t[r].p3));return e}outputOBJTriangles(t){let e=new Map,r="",n=1;for(let o=0;o<t.length;o+=3){let i=[];for(let s=0;s<3;s++){let[a,l,h]=t[o+s],u=`v ${a} ${l} ${-h}\n`;e.has(u)?i.push(e.get(u)):(r+=u,r+="vn 0 0 0\n",e.set(u,n),i.push(n),n+=1)}let a="f";for(let t=0;t<3;t++)a+=` ${i[t]}`;r+=a+"\n"}function i(t,e,n,i){r+=`f ${t} ${e} ${n} ${t} \n`,r+=`f ${t} ${i} ${n}  ${t} \n`}return r+="v 0 0 0\n",r+=`v ${this.heightMap.width()} 0 0\n`,r+=`v 0 ${this.heightMap.height()} 0\n`,r+=`v ${this.heightMap.width()} ${this.heightMap.height()} 0\n`,r+="v 0 0 -5\n",r+=`v ${this.heightMap.width()} 0 -5\n`,r+=`v 0 ${this.heightMap.height()} -5\n`,r+=`v ${this.heightMap.width()} ${this.heightMap.height()} -5 \n`,i(n,n+1,n+5,n+4),i(n+2,n+6,n+7,n+3),i(n,n+2,n+6,n+4),i(n+1,n+3,n+7,n+5),i(n+4,n+5,n+7,n+6),r}render(){let t=this.triangulate(this.makePointCloud()),e=this.applyHeightMap(t);return this.outputOBJTriangles(e)}}class C{constructor(t,e){this.name=void 0,this.value=void 0,this.name=t,this.value=e}setValue(t){this.validValue(t)&&(this.value=t)}getValue(){return this.value}}class P extends C{constructor(t,e,r,n){super(t,e),this.min=void 0,this.max=void 0,this.min=r,this.max=n}validValue(t){return t>=this.min&&t<=this.max}accept(t,e){return t.visitValueOption(this,e)}}class D extends C{constructor(t,e){super(t,e)}validValue(t){let e=!0;for(let r=0;e&&r<t.length;++r)e=t[r]>=0&&t[r]<=255;return e}accept(t,e){return t.visitColorOption(this,e)}}class I extends C{constructor(t,e){super(t,e)}validValue(t){return!0}accept(t,e){return t.visitImageOption(this,e)}}class T{constructor(t,e,r){this.name=void 0,this.options=void 0,this.name=t,this.options=e,r&&this.options.push(new P("Opacity",100,0,100))}getName(){return this.name}getOptions(){return this.options}getOption(t){if(t>=this.options.length)throw new Error(`index:${t} out of bounds:${this.options.length} `);return this.options[t]}setOption(t,e){if(0==this.options.length)throw new Error("Cannot set options.");for(let r=0;r<this.options.length;++r)if(t===this.options[r].name)return void this.options[r].setValue(e)}transform(t){let e=this.internalTransform(t);if(this.options.length<=0||"Opacity"!==this.options[this.options.length-1].name)return e;let r=this.options[this.options.length-1];if(r.getValue()<=0)return t;if(r.getValue()>=100)return e;let n=r.getValue()/r.max,i=1-n;for(let o=0;o<t.width();++o)for(let r=0;r<t.height();++r){let a=e.getPixelXY(o,r),s=t.getPixelXY(o,r);e.setPixelXY(o,r,[a[0]*n+s[0]*i,a[1]*n+s[1]*i,a[2]*n+s[2]*i,a[3]*n+s[3]*i])}return e}}class R extends T{internalTransform(t){const e=t.copyRawData(),r=e.width,n=e.height;let o=new E(r,n,e.data);o=this.transformImage(o);const a=o.getRGBAData();for(let i=0;i<e.data.length;i++)e.data[i]=a[i];return new i(e)}}class N extends R{constructor(t,e){super(`Convolution(${e})`,[new P("Iterations",1,1,25)],!0),this.kernel=t,this.kernel=t}transformImage(t){let e=t;for(let r=0;r<this.getOption(0).getValue();++r)e=e.convolution(this.kernel);return e}}class L extends R{constructor(){super("Gray Scale",[],!0)}transformImage(t){return t.grey()}}function z(t,e){let r=0;for(let n=0;n<t.length;n++)r+=Math.sqrt(Math.pow(t[n]-e[n],2));return r/t.length}function B(t,e){let r=1/0,n=0;for(let i=0;i<e.length;i++){let o=z(t,e[i]);(0===i||o<r)&&(r=o,n=i)}return e[n]}class F extends T{constructor(t){super("Quantize",[new P("k",t,1,20),new P("percentage",10,1,100)],!0)}internalTransform(t){const e=t.copyRawData(),r=e.data;let o=[],a=Math.round(r.length*(this.getOption(1).getValue()/100));for(let n=0;n<a;n++){let t=4*Math.floor(Math.random()*(r.length/4));o.push([r[t],r[t+1],r[t+2],r[t+3]])}let s=n()(o,this.getOption(0).getValue()).centroids;for(let n=0;n<r.length;n+=4){let t=B([r[n],r[n+1],r[n+2],r[n+3]],s);for(let e=0;e<4;e++)r[n+e]=t[e]}return new i(e)}}class U extends T{constructor(t){super("Point Wise Transformation",[],!0),this.transformation=t}internalTransform(t){const e=t.copyRawData(),r=e.data;for(let n=0;n<r.length;n+=4){let t=[r[n],r[n+1],r[n+2],r[n+3]],e=this.transformation(t);for(let i=0;i<4;i++)r[n+i]=e[i]}return new i(e)}}class O extends R{constructor(){super("Edge Detection",[],!0)}transformImage(t){return t.sobelFilter()}}class V extends R{constructor(){super("Invert Colors",[],!1)}transformImage(t){return t.invert()}}class j extends R{constructor(){super("Gaussian Filter",[],!0)}transformImage(t){return t.gaussianFilter()}}function Y(t,e,r){return e>=t-r&&e<=t+r}function X(t,e,r){return Y(t[0],e[0],r)&&Y(t[1],e[1],r)&&Y(t[2],e[2],r)}class $ extends R{constructor(t){super("Texturize",[new D("color",[127,127,127]),new P("margin",0,0,255),new P("scale",1,1,20),new P("paint strength",50,0,100),new P("texture strength",50,0,100)],!1),this.stencil=null,new i(null).loadFromString(t).then((t=>{this.stencil=new E(t.width(),t.height(),t.copyRawData().data)}))}transformImage(t){var e,r;if(!this.stencil)return t;let n=null===(e=this.stencil)||void 0===e?void 0:e.resize({width:Math.max(1,Math.floor((null===(r=this.stencil)||void 0===r?void 0:r.width)*(1/this.getOption(2).getValue())))}),i=new ImageData(n.getRGBAData({clamped:!0}),n.width);const o=document.createElement("canvas");o.width=t.width,o.height=t.height;const a=o.getContext("2d");if(!a)throw Error();for(let p=0;p<t.width;p+=i.width)for(let e=0;e<t.height;e+=i.height)a.putImageData(i,p,e);let s=new E(t.width,t.height,a.getImageData(0,0,t.width,t.height).data),l=this.getOption(0).getValue(),h=this.getOption(1).getValue(),u=this.getOption(3),c=this.getOption(4),f=u.getValue()/u.max,d=c.getValue()/c.max;for(let p=0;p<t.width;++p)for(let e=0;e<t.height;++e){let r=t.getPixelXY(p,e),n=s.getPixelXY(p,e);X(r,l,h)&&0!=r[3]&&t.setPixelXY(p,e,[r[0]*f+n[0]*d,r[1]*f+n[1]*d,r[2]*f+n[2]*d,r[3]])}return t}}class q extends R{constructor(){super("Select",[new D("Source Color",[127,127,127]),new P("Margin",5,0,255),new D("Target Color",[127,127,127])],!0)}transformImage(t){let e=this.getOption(0).getValue(),r=this.getOption(1).getValue(),n=this.getOption(2).getValue();for(let i=0;i<t.width;++i)for(let o=0;o<t.height;++o){X(e,t.getPixelXY(i,o),r)&&t.setPixelXY(i,o,n)}return t}}class H extends R{constructor(t,e){super("Paint",[new I("Mask",new ImageData(t,e))],!0)}transformImage(t){let e=t.width,r=t.height,n=this.getOption(0).getValue().data;for(let i=0;i<e;++i)for(let o=0;o<r;++o){const r=4*(o*e+i),a=n[r+3];if(a<=0)continue;const s=a/255,l=1-s;let h=t.getPixelXY(i,o),u=[h[0]*l+n[r]*s,h[1]*l+n[r+1]*s,h[2]*l+n[r+2]*s];t.alpha&&u.push(255),t.setPixelXY(i,o,u)}return t}}var G=__webpack_require__(579);const W=e=>{let{title:r,children:n}=e;const[i,o]=(0,t.useState)(!0);return(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{style:{cursor:"pointer",fontWeight:"bold"},children:[(0,G.jsx)("span",{onClick:()=>o(!i),children:i?"\u25bc":"\u25b6"})," ",r]}),i&&(0,G.jsx)("div",{style:{marginTop:"10px",paddingLeft:"10px",borderLeft:"2px solid #ccc"},children:n})]})},K=t=>{let e=Number(t).toString(16);return 1==e.length?"0"+e:e},Z=t=>[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)],Q=e=>{let{onSelect:r,setImage:n}=e;const[i,o]=(0,t.useState)(void 0);return(0,G.jsx)("div",{className:"widget-card",onClick:r,children:(0,G.jsx)(W,{title:"Original Image "+(void 0==i?"":"("+i+")"),children:(0,G.jsx)("input",{type:"file",accept:"image/*",onChange:t=>{var e;const r=null===(e=t.target.files)||void 0===e?void 0:e[0];if(o(null===r||void 0===r?void 0:r.name),r){const t=new FileReader;t.onload=t=>{var e;n(null===(e=t.target)||void 0===e?void 0:e.result)},t.readAsDataURL(r)}}})})})};function J(t,e){const r=new Blob([e],{type:"text/csv"}),n=window.document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}const tt=t=>{let{outputImage:e}=t;return(0,G.jsx)("div",{children:(0,G.jsx)("button",{className:"button button-dark",onClick:()=>{if(!e)return;J("output.obj",new A(e,e,1).render())},children:"Export to OBJ"})})};const et=t=>{let{outputImage:e}=t;return(0,G.jsx)("div",{children:(0,G.jsx)("button",{className:"button button-dark",onClick:()=>{if(!e)return;(async function(t){return fetch("/piscastlo",{method:"POST",body:btoa(t)}).then((t=>t.json()))})(new A(e,e,2).render()).then((t=>{J("output.stl",atob(t))}))},children:"Export to STL"})})};var rt=__webpack_require__(7950);function nt(){return nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nt.apply(this,arguments)}var it="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,ot={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},at=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],st=function(t,e,r,n,i){var o=i.offsetX,a=i.offsetY,s=n?8:0,l=r.split(" "),h=t.top+t.height/2,u=t.left+t.width/2,c=e.height,f=e.width,d=h-c/2,p=u-f/2,m="",g="0%",w="0%";switch(l[0]){case"top":d-=c/2+t.height/2+s,m="rotate(180deg)  translateX(50%)",g="100%",w="50%";break;case"bottom":d+=c/2+t.height/2+s,m="rotate(0deg) translateY(-100%) translateX(-50%)",w="50%";break;case"left":p-=f/2+t.width/2+s,m=" rotate(90deg)  translateY(50%) translateX(-25%)",w="100%",g="50%";break;case"right":p+=f/2+t.width/2+s,m="rotate(-90deg)  translateY(-150%) translateX(25%)",g="50%"}switch(l[1]){case"top":d=t.top,g=t.height/2+"px";break;case"bottom":d=t.top-c+t.height,g=c-t.height/2+"px";break;case"left":p=t.left,w=t.width/2+"px";break;case"right":p=t.left-f+t.width,w=f-t.width/2+"px"}return{top:d="top"===l[0]?d-a:d+a,left:p="left"===l[0]?p-o:p+o,transform:m,arrowLeft:w,arrowTop:g}},lt=function(t,e,r,n,i,o){var a=i.offsetX,s=i.offsetY,l={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},h=0,u=function(t){var e={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if("string"===typeof t){var r=document.querySelector(t);null!==r&&(e=r.getBoundingClientRect())}return e}(o),c=Array.isArray(r)?r:[r];for((o||Array.isArray(r))&&(c=[].concat(c,at));h<c.length;){var f={top:(l=st(t,e,c[h],n,{offsetX:a,offsetY:s})).top,left:l.left,width:e.width,height:e.height};if(!(f.top<=u.top||f.left<=u.left||f.top+f.height>=u.top+u.height||f.left+f.width>=u.left+u.width))break;h++}return l},ht=0,ut=(0,t.forwardRef)((function(e,r){var n=e.trigger,i=void 0===n?null:n,o=e.onOpen,a=void 0===o?function(){}:o,s=e.onClose,l=void 0===s?function(){}:s,h=e.defaultOpen,u=void 0!==h&&h,c=e.open,f=void 0===c?void 0:c,d=e.disabled,p=void 0!==d&&d,m=e.nested,g=void 0!==m&&m,w=e.closeOnDocumentClick,b=void 0===w||w,y=e.repositionOnResize,v=void 0===y||y,x=e.closeOnEscape,_=void 0===x||x,k=e.on,M=void 0===k?["click"]:k,S=e.contentStyle,E=void 0===S?{}:S,A=e.arrowStyle,C=void 0===A?{}:A,P=e.overlayStyle,D=void 0===P?{}:P,I=e.className,T=void 0===I?"":I,R=e.position,N=void 0===R?"bottom center":R,L=e.modal,z=void 0!==L&&L,B=e.lockScroll,F=void 0!==B&&B,U=e.arrow,O=void 0===U||U,V=e.offsetX,j=void 0===V?0:V,Y=e.offsetY,X=void 0===Y?0:Y,$=e.mouseEnterDelay,q=void 0===$?100:$,H=e.mouseLeaveDelay,G=void 0===H?100:H,W=e.keepTooltipInside,K=void 0!==W&&W,Z=e.children,Q=(0,t.useState)(f||u),J=Q[0],tt=Q[1],et=(0,t.useRef)(null),at=(0,t.useRef)(null),st=(0,t.useRef)(null),ut=(0,t.useRef)(null),ct=(0,t.useRef)("popup-"+ ++ht),ft=!!z||!i,dt=(0,t.useRef)(0);it((function(){return J?(ut.current=document.activeElement,St(),_t(),vt()):xt(),function(){clearTimeout(dt.current)}}),[J]),(0,t.useEffect)((function(){"boolean"===typeof f&&(f?pt():mt())}),[f,p]);var pt=function(t){J||p||(tt(!0),setTimeout((function(){return a(t)}),0))},mt=function(t){var e;J&&!p&&(tt(!1),ft&&(null===(e=ut.current)||void 0===e||e.focus()),setTimeout((function(){return l(t)}),0))},gt=function(t){null===t||void 0===t||t.stopPropagation(),J?mt(t):pt(t)},wt=function(t){clearTimeout(dt.current),dt.current=setTimeout((function(){return pt(t)}),q)},bt=function(t){null===t||void 0===t||t.preventDefault(),gt()},yt=function(t){clearTimeout(dt.current),dt.current=setTimeout((function(){return mt(t)}),G)},vt=function(){ft&&F&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},xt=function(){ft&&F&&(document.getElementsByTagName("body")[0].style.overflow="auto")},_t=function(){var t,e=null===at||void 0===at||null===(t=at.current)||void 0===t?void 0:t.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),r=Array.prototype.slice.call(e)[0];null===r||void 0===r||r.focus()};(0,t.useImperativeHandle)(r,(function(){return{open:function(){pt()},close:function(){mt()},toggle:function(){gt()}}}));var kt,Mt,St=function(){if(!ft&&J&&(null===et||void 0===et?void 0:et.current)&&(null===et||void 0===et?void 0:et.current)&&(null===at||void 0===at?void 0:at.current)){var t,e,r=et.current.getBoundingClientRect(),n=at.current.getBoundingClientRect(),i=lt(r,n,N,O,{offsetX:j,offsetY:X},K);if(at.current.style.top=i.top+window.scrollY+"px",at.current.style.left=i.left+window.scrollX+"px",O&&st.current)st.current.style.transform=i.transform,st.current.style.setProperty("-ms-transform",i.transform),st.current.style.setProperty("-webkit-transform",i.transform),st.current.style.top=(null===(t=C.top)||void 0===t?void 0:t.toString())||i.arrowTop,st.current.style.left=(null===(e=C.left)||void 0===e?void 0:e.toString())||i.arrowLeft}};kt=mt,void 0===(Mt=_)&&(Mt=!0),(0,t.useEffect)((function(){if(Mt){var t=function(t){"Escape"===t.key&&kt(t)};return document.addEventListener("keyup",t),function(){Mt&&document.removeEventListener("keyup",t)}}}),[kt,Mt]),function(e,r){void 0===r&&(r=!0),(0,t.useEffect)((function(){if(r){var t=function(t){if(9===t.keyCode){var r,n=null===e||void 0===e||null===(r=e.current)||void 0===r?void 0:r.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),i=Array.prototype.slice.call(n);if(1===i.length)return void t.preventDefault();var o=i[0],a=i[i.length-1];t.shiftKey&&document.activeElement===o?(t.preventDefault(),a.focus()):document.activeElement===a&&(t.preventDefault(),o.focus())}};return document.addEventListener("keydown",t),function(){r&&document.removeEventListener("keydown",t)}}}),[e,r])}(at,J&&ft),function(e,r){void 0===r&&(r=!0),(0,t.useEffect)((function(){if(r){var t=function(){e()};return window.addEventListener("resize",t),function(){r&&window.removeEventListener("resize",t)}}}),[e,r])}(St,v),function(e,r,n){void 0===n&&(n=!0),(0,t.useEffect)((function(){if(n){var t=function(t){var n=Array.isArray(e)?e:[e],i=!1;n.forEach((function(e){e.current&&!e.current.contains(t.target)||(i=!0)})),t.stopPropagation(),i||r(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){n&&(document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t))}}}),[e,r,n])}(i?[at,et]:[at],mt,b&&!g);var Et=function(){return t.createElement("div",Object.assign({},function(){var t=ft?ot.popupContent.modal:ot.popupContent.tooltip,e={className:"popup-content "+(""!==T?T.split(" ").map((function(t){return t+"-content"})).join(" "):""),style:nt({},t,E,{pointerEvents:"auto"}),ref:at,onClick:function(t){t.stopPropagation()}};return!z&&M.indexOf("hover")>=0&&(e.onMouseEnter=wt,e.onMouseLeave=yt),e}(),{key:"C",role:ft?"dialog":"tooltip",id:ct.current}),O&&!ft&&t.createElement("div",{ref:st,style:ot.popupArrow},t.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(""!==T?T.split(" ").map((function(t){return t+"-arrow"})).join(" "):""),viewBox:"0 0 32 16",style:nt({position:"absolute"},C)},t.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),Z&&"function"===typeof Z?Z(mt,J):Z)},At=!(M.indexOf("hover")>=0),Ct=ft?ot.overlay.modal:ot.overlay.tooltip,Pt=[At&&t.createElement("div",{key:"O","data-testid":"overlay","data-popup":ft?"modal":"tooltip",className:"popup-overlay "+(""!==T?T.split(" ").map((function(t){return t+"-overlay"})).join(" "):""),style:nt({},Ct,D,{pointerEvents:b&&g||ft?"auto":"none"}),onClick:b&&g?mt:void 0,tabIndex:-1},ft&&Et()),!ft&&Et()];return t.createElement(t.Fragment,null,function(){for(var e={key:"T",ref:et,"aria-describedby":ct.current},r=Array.isArray(M)?M:[M],n=0,o=r.length;n<o;n++)switch(r[n]){case"click":e.onClick=gt;break;case"right-click":e.onContextMenu=bt;break;case"hover":e.onMouseEnter=wt,e.onMouseLeave=yt;break;case"focus":e.onFocus=wt,e.onBlur=yt}if("function"===typeof i){var a=i(J);return!!i&&t.cloneElement(a,e)}return!!i&&t.cloneElement(i,e)}(),J&&rt.createPortal(Pt,function(){var t=document.getElementById("popup-root");return null===t&&((t=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(t)),t}()))}));const ct=ut,ft={visitValueOption:(t,e)=>t.getValue(),visitColorOption(t,e){return r=t.getValue(),"#"+K(r[0])+K(r[1])+K(r[2]);var r},visitImageOption:(t,e)=>t.getValue()},dt={visitValueOption(t,e){const r=r=>{const n=parseInt(r.target.value);e.transformation.setOption(t.name,n),e.setState(n),e.setDirty()};return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)("label",{children:[t.name,":",(0,G.jsx)("input",{type:"number",value:e.state,min:t.min,max:t.max,onChange:r}),(0,G.jsx)("input",{className:"slider",type:"range",value:e.state,name:t.name,min:t.min,max:t.max,onChange:r})]})})},visitColorOption:(t,e)=>(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)("label",{children:[t.name,": ",(0,G.jsx)("input",{type:"color",value:e.state,onChange:r=>{e.transformation.setOption(t.name,Z(r.target.value)),e.setState(r.target.value),e.setDirty()}})]})}),visitImageOption:(t,e)=>(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(ct,{trigger:(0,G.jsx)("button",{children:"Toggle Mask Editor"}),position:"right center",children:(0,G.jsx)(bt,{imgRef:e.imgRef,mask:e.state,onChange:r=>{e.transformation.setOption(t.name,r),e.setState(r),e.setDirty()}})})})},pt=e=>{let{imgRef:r,option:n,transformation:i,setDirty:o}=e;const[a,s]=(0,t.useState)(n.accept(ft,null));return(0,G.jsx)("div",{children:n.accept(dt,{imgRef:r,transformation:i,setDirty:o,state:a,setState:s})})},mt=e=>{let{imgRef:r,transformation:n,setDirty:i}=e;const[o,a]=(0,t.useState)(!1),s=()=>{i(),a(!1)};return(0,G.jsxs)("div",{onBlur:s,children:[n.getOptions().map((t=>(0,G.jsx)(pt,{imgRef:r,option:t,transformation:n,setDirty:()=>a(!0)}))),n.getOptions().length>0&&(0,G.jsx)("button",{disabled:!o,onClick:s,children:"Apply"})]})},gt=t=>{let{imgRef:e,transformation:r,onSelect:n,setDirty:i}=t;return(0,G.jsx)("div",{className:"widget-card",onClick:n,children:(0,G.jsx)(W,{title:r.getName(),children:(0,G.jsx)(mt,{imgRef:e,transformation:r,setDirty:i})})})};var wt=function(t){return t.Brush="BRUSH",t.Eraser="ERASER",t}(wt||{});const bt=e=>{let{mask:r,imgRef:n,onChange:i}=e;const[o,a]=(0,t.useState)(100),[s,l]=(0,t.useState)("#000000"),[h,u]=(0,t.useState)(100),[c,f]=(0,t.useState)(5),[d,p]=(0,t.useState)(wt.Brush),m=(0,t.useRef)(null),g=(0,t.useRef)(null);(0,t.useEffect)((()=>{const t=g.current;t.width=r.width,t.height=r.height;const e=t.getContext("2d");if(!e)throw Error();e.putImageData(r,0,0)}),[r]);let w=!1;const b=()=>{g.current.getContext("2d")&&(w=!0)},y=(t,e)=>{const r=g.current.getContext("2d");if(r&&w){switch(r.lineWidth=c,r.lineCap="round",d){case wt.Brush:r.globalCompositeOperation="source-over";const t=Z(s);r.strokeStyle="rgba("+t[0]+","+t[1]+","+t[2]+","+h/100+")";break;case wt.Eraser:r.globalCompositeOperation="destination-out",r.strokeStyle="rgba(127,127,127,1)"}r.lineTo(t,e),r.stroke(),r.beginPath(),r.moveTo(t,e)}},v=t=>{const e=g.current;y(Math.ceil((t.pageX-e.offsetLeft)/e.clientWidth*e.width),Math.ceil((t.pageY-e.offsetParent.offsetTop)/e.clientHeight*e.height))},x=t=>{t.preventDefault();const e=g.current,r=t.touches;if(1!=r.length)return;const n=r[0];y(Math.ceil((n.pageX-e.offsetLeft)/e.clientWidth*e.width),Math.ceil((n.pageY-e.offsetParent.offsetTop)/e.clientHeight*e.height))},_=()=>{const t=g.current.getContext("2d");t&&(w=!1,t.beginPath())},k=1,M=100,S=1,E=100,A=0,C=100,P=n.current;if(!P.parentElement)throw Error();(0,t.useEffect)((()=>{var t;m.current.style.width=`${null===(t=P.parentElement)||void 0===t?void 0:t.clientWidth}px`;const e=g.current;e.style.left=`calc(${P.style.left} + 1px)`,e.style.top="1px",e.style.width=`${P.clientWidth}px`,e.style.height=`${P.clientHeight}px`,e.style.opacity=`${o}%`}),[]);return(0,G.jsxs)("div",{ref:m,className:"editor",children:[(0,G.jsx)("canvas",{ref:g,onMouseDown:t=>{b(),v(t)},onMouseUp:t=>{_()},onMouseMove:v,onTouchStart:t=>{t.preventDefault(),1==t.touches.length&&(b(),x(t))},onTouchEnd:t=>{_()},onTouchMove:x}),(0,G.jsxs)("div",{className:"toolbar",children:[(0,G.jsx)("div",{className:"toolopt",children:(0,G.jsx)(W,{title:"Editor",children:(0,G.jsx)("div",{className:"editor-opacity",children:(0,G.jsxs)("label",{children:["Opacity: ",(0,G.jsx)("input",{type:"range",value:o,min:A,max:C,onChange:t=>{a(parseInt(t.target.value))}})]})})})}),(0,G.jsx)("div",{className:"toolopt",children:(0,G.jsx)(W,{title:"Brush",children:(0,G.jsxs)("div",{className:"brush-opts",children:[(0,G.jsxs)("div",{children:[(0,G.jsxs)("label",{children:["Color: ",(0,G.jsx)("input",{type:"color",value:s,onChange:t=>{l(t.target.value)}})]}),(0,G.jsxs)("label",{className:"editor-settings",children:["Size: ",(0,G.jsx)("input",{type:"number",value:c,min:k,max:M,onChange:t=>{f(parseInt(t.target.value))}})]}),(0,G.jsx)("br",{}),(0,G.jsxs)("label",{children:["Alpha: ",(0,G.jsx)("input",{type:"range",value:h,min:S,max:E,onChange:t=>{u(parseInt(t.target.value))}})]})]}),(0,G.jsxs)("div",{onChange:t=>{p(t.target.value)},children:[(0,G.jsx)("div",{children:(0,G.jsxs)("label",{children:[(0,G.jsx)("input",{type:"radio",id:"brush",name:"drone",value:wt.Brush,checked:d===wt.Brush})," Brush"]})}),(0,G.jsx)("div",{children:(0,G.jsxs)("label",{children:[(0,G.jsx)("input",{type:"radio",id:"eraser",name:"drone",value:wt.Eraser,checked:d===wt.Eraser})," Eraser"]})})]})]})})}),(0,G.jsx)("button",{onClick:()=>{const t=g.current,e=t.getContext("2d");if(!e)throw Error();i(e.getImageData(0,0,t.width,t.height))},children:"Save"})]})]})},yt=t=>{let{onSelect:e,image:r}=t;return(0,G.jsx)("div",{className:"widget-card",onClick:e,children:(0,G.jsxs)(W,{title:"Final Image",children:[(0,G.jsx)(tt,{outputImage:r}),(0,G.jsx)(et,{outputImage:r})]})})},vt=t=>{let{children:e,selected:r}=t;const n=r?"select-box-selected":"select-box";return(0,G.jsxs)("div",{className:n,children:[" ",e," "]})},xt=[[0,-1,0],[-1,5,-1],[0,-1,0]],_t=[[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]],kt=[["Quantize",()=>new F(5)],["GrayScale",()=>new L],["Conv Sharpen",()=>new N(xt,"sharpen")],["Conv Smooth",()=>new N(_t,"smooth")],["GaussianFilter",()=>new j],["Edge Detect",()=>new O],["Invert",()=>new V],["Extract Red",()=>new U((t=>{let[e,r,n,i]=t;return[e,0,0,i]}))],["Triangles",()=>new $("triangle.png")],["Waves",()=>new $("waves.png")],["Circles",()=>new $("circle.png")],["Spheres",()=>new $("spheres2.png")],["Select",()=>new q],["Paint",t=>new H(t[0],t[1])]],Mt=t=>{let{handleClick:e,symbol:r}=t;return(0,G.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,G.jsx)("span",{style:{cursor:"grab",display:"inline-block",marginRight:"10px",verticalAlign:"middle"},onClick:e,children:r}),(0,G.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,G.jsx)("hr",{style:{width:"300px",marginRight:"10px",border:"1px solid white",display:"inline-block"}})})]})},St=t=>{let{handleClick:e}=t;return(0,G.jsx)(Mt,{handleClick:e,symbol:"+"})},Et=t=>{let{handleClick:e}=t;return(0,G.jsx)(Mt,{handleClick:e,symbol:"-"})},At=e=>{let{imageDimensions:r,addTransform:n}=e;const[i,o]=(0,t.useState)(!1),[a,s]=(0,t.useState)(0);return(0,G.jsxs)("div",{children:[!i&&(0,G.jsx)(St,{handleClick:()=>{o(!0)}}),i&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Et,{handleClick:()=>{o(!1)}}),(0,G.jsx)("div",{children:"Choose a transformation: "}),(0,G.jsxs)("div",{children:[(0,G.jsx)("select",{value:a,onChange:t=>{s(parseInt(t.target.value))},children:kt.map(((t,e)=>(0,G.jsx)("option",{value:e,children:t[0]})))}),(0,G.jsx)("button",{onClick:()=>{n(kt[a][1](r)),o(!1)},style:{margin:"10px"},children:"Add"}),(0,G.jsx)("button",{onClick:()=>{o(!1)},children:"Cancel"})]})]})]})},Ct=e=>{let{name:r,removeTransform:n}=e;const[i,o]=(0,t.useState)(!1);return(0,G.jsxs)("div",{children:[!i&&(0,G.jsx)("div",{style:{position:"absolute"},children:(0,G.jsx)("span",{style:{cursor:"grab",height:"0px",position:"relative",top:"0px",left:"300px"},onClick:()=>{o(!0)},children:"x"})}),i&&(0,G.jsxs)(G.Fragment,{children:["Remove ",r,(0,G.jsx)("button",{style:{margin:"10px"},onClick:()=>{n(),o(!1)},children:"Confirm"}),(0,G.jsx)("button",{onClick:()=>{o(!1)},children:"Cancel"})]})]})},Pt=e=>{let{imgRef:r,pipeline:n,image:o,setImage:a,addTransform:s,removeTransform:l,selected:h,setSelected:u}=e;const[c,f]=(0,t.useState)([!1,0]),[d,p]=(0,t.useState)([0,0]);(0,t.useEffect)((()=>{var t;return a((null===(t=n.getImage(h))||void 0===t?void 0:t.dataURL())||null)}),[h]),(0,t.useEffect)((()=>{var t;o&&(n.performTransformations(c[1],m),a((null===(t=n.getImage(h))||void 0===t?void 0:t.dataURL())||null))}),[c]);const m=t=>{u(t)};return(0,G.jsxs)("div",{className:"toolbox-container",children:[(0,G.jsx)(vt,{selected:-1==h,children:(0,G.jsx)(Q,{onSelect:()=>u(-1),setImage:t=>{a(t),new i(null).loadFromString(t).then((t=>{var e,r;n.setInitialImage(t),p([null===(e=n.getImage(h))||void 0===e?void 0:e.width(),null===(r=n.getImage(h))||void 0===r?void 0:r.height()]),console.log("Loaded & Performing"),n.performTransformations(0,m)}))}})}),n.map(((t,e)=>(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(At,{imageDimensions:d,addTransform:t=>{o&&(s(e,t),f([!c,e]))}}),(0,G.jsx)(Ct,{name:t.getName(),removeTransform:()=>{l(e),f([!c,e])}}),(0,G.jsx)(vt,{selected:h==e,children:(0,G.jsx)(gt,{imgRef:r,transformation:t,onSelect:()=>{u(e)},setDirty:()=>f([!c,e])})})," "]}))),(0,G.jsx)(At,{imageDimensions:d,addTransform:t=>{o&&(s(n.length(),t),f([!c,n.length()-1]))}}),(0,G.jsx)(vt,{selected:h==n.length()-1,children:(0,G.jsx)(yt,{onSelect:()=>u(n.length()-1),image:n.getOutputImage()})})]})},Dt=new class{constructor(t){this.transformations=void 0,this.input=void 0,this.images=void 0,this.getPipeline=()=>this.transformations,this.length=()=>this.transformations.length,this.map=t=>this.transformations.map(t),this.transformations=t,this.input=null,this.images=[]}add(t){this.transformations.push(t)}insertTransformation(t,e){t>=0&&t<=this.transformations.length&&this.transformations.splice(t,0,e)}removeTransformation(t){t>=0&&t<=this.transformations.length&&this.transformations.splice(t,1)}transform(t,e,r){let n=0==t?e:this.images[t-1];this.images=this.images.splice(0,t);for(let i=t;i<this.transformations.length;i++){n=this.transformations[i].transform(n),this.images.push(n),r(t)}return this.images[t]}setInitialImage(t){this.input=t}performTransformations(t,e){null!=this.input&&this.transform(t,this.input,e)}getImage(t){return t<0?this.input:t<this.images.length?this.images[t]:null}getOutputImage(){return this.getImage(this.images.length-1)}}([]),It=()=>{const e=Dt,[r,n]=(0,t.useState)(0),[i,o]=(0,t.useState)(null),[a,s]=(0,t.useState)(-1),l=(0,t.useRef)(null),h=(0,t.useRef)(null),u=(0,t.useRef)(null),c=(0,t.useRef)(null),f=i&&(0,G.jsx)(G.Fragment,{children:(0,G.jsx)("img",{ref:l,src:i,alt:"Uploaded",className:"uploaded-image"})});return(0,t.useEffect)((()=>{h.current.style.width=`calc(100vw - ${u.current.clientWidth}px)`,c.current.style.width=u.current.clientWidth-20+"px"}),[]),(0,t.useEffect)((()=>{const t=l.current;t&&(t.style.left=(h.current.clientWidth-t.clientWidth)/2+"px")}),[r,a,i]),(0,G.jsx)(G.Fragment,{children:(0,G.jsx)("div",{className:"image-transformer",children:(0,G.jsxs)("div",{className:"image-container",children:[(0,G.jsx)("div",{ref:h,className:"image-cell",children:f}),(0,G.jsxs)("div",{ref:u,className:"toolbox",children:[(0,G.jsx)("h1",{children:"PicaSTLo"}),(0,G.jsxs)("div",{className:"transformations",children:[(0,G.jsx)(Pt,{imgRef:l,pipeline:e,image:i,setImage:o,addTransform:(t,i)=>{e.insertTransformation(t,i),n((()=>r+1))},removeTransform:t=>{e.removeTransformation(t),0==e.length()?s(-1):e.length()==t&&s(e.length()-1),n((()=>r+1))},selected:a,setSelected:s}),(0,G.jsxs)("div",{ref:c,className:"license",children:[(0,G.jsx)("a",{href:"https://picastlo.github.io/",children:"Picastlo"})," \xa9 2024 by ",(0,G.jsx)("a",{href:"https://github.com/picastlo/",children:"Christophe Scholliers, Jo\xe3o Costa Seco, Eduardo Geraldo"})," is licensed under ",(0,G.jsx)("a",{href:"https://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1",children:"CC BY-SA 4.0"})]})]})]})]})})})},Tt=t=>{t&&t instanceof Function&&__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,6453)).then((e=>{let{getCLS:r,getFID:n,getFCP:i,getLCP:o,getTTFB:a}=e;r(t),n(t),i(t),o(t),a(t)}))};e.createRoot(document.getElementById("root")).render((0,G.jsx)(t.StrictMode,{children:(0,G.jsx)(It,{})})),Tt()})()})();
//# sourceMappingURL=main.b23efe16.js.map